/*! Copyright Viafoura bacf3e9 1485876602 | https://cdn.viafoura.net/licenses.txt */
!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n=window.vfWdgts;window.vfWdgts=function(i,s){for(var r,o,l=0,c=[];l<i.length;l++)o=i[l],a[o]&&c.push.apply(c,a[o]),a[o]=0;for(r in s)t[r]=s[r];for(n&&n(i,s);c.length;)c.shift().call(null,e)};var i={},a={0:0};return e.e=function(t,n){if(0===a[t])return n.call(null,e);if(void 0!==a[t])a[t].push(n);else{a[t]=[n];var i=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.src=e.p+"bacf3e9/"+{1:"592a12c883dffda814b4",2:"8960c319d25879a1e000",3:"90552aac5f365b1022b3",4:"ce922c4cd9dd6e9971b2",5:"18cbd163f5fe6701271d",6:"2e137df1e0a71c86682d"}[t]+".vf.js",i.appendChild(s)}},e.m=t,e.c=i,e.p="",e(0)}([function(t,e,n){var i,a;try{i=[n(7),n(12),n(149),n(3),n(150),n(15),n(1),n(163)],a=function(t,e,i,a){n.p=t.cdn_root,a.isInitializedOnWindow()||(void 0===window.JSON?n.e(6,function(t){window.JSON=n(164),a.init()}):a.init(),e(window).one("unload",function(){a.onUnload()}))}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(2),n(109),n(145),n(147)],a=function(){}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(3),n(18)],a=function(t,e){var i;t.register({name:"comments",create:function(e){if(t.current.settings.get("enable_commenting")){var n=new i({el:e,section:t.locations.section});return n}},loadDeps:function(t){n.e(1,function(){n(71),n.e(2,function(e){i=n(72),t.call()})})}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(9),n(11),n(20),n(18),n(10),n(21),n(23),n(6),n(26),n(28),n(34),n(37),n(38),n(39),n(46),n(47),n(4),n(49),n(50),n(51),n(58),n(59),n(7),n(61),n(27),n(63),n(31),n(67),n(68),n(70)],a=function(t,e,n,i,a,s,r,o,l,c,u,h,d,f,p,v,g,m,y,b,_,w,x,k,E,T,C,S,L,A){var N=function(){e.bindAll(this,"onUserLoad","onPageLoad","onSettingsLoad","onSectionTreeLoad","onError","onUnload"),C.core=this,T.core=this,S.core=this,this.restAPI=new m,this.V3APIs=new y,this.current={},this.current.settings=new d,this.current.page=new h,this.current.session=new c,this.current.user=new u,this.current.section_tree=new f,this.modules=new w(this),this.modules.add("google_analytics",x),this.widgetManager=new v,this.toolTip=new E(this.current.settings),this.userManager=new g(this.current.session,this.current.user,this.current.settings),this.listenTo(this.userManager,"session:change",this.onSessionChange),this.loginManager=new p(this.restAPI,this.current.session,this.current.settings),this.listenTo(this.loginManager,"login",this.onLogin),this.listenTo(this.loginManager,"logout",this.onLogout),this.required={settings:!1,page:!1,language:!1,user:!1,section_tree:!1},this.isModalInitialized=!1,this.hasAnalyticsFired=!1,this.isCSSLoaded=!1,this.areModalsLoaded=!1,this.readyDeferred=new t.Deferred,this.readyPromise=this.readyDeferred.promise(),this.listenTo(this.current.settings,"change:google_analytics",this.onGAChange),this.listenTo(this.current.settings,"change:enable_anonymous_comments",this.onAnonymousChange),this.listenTo(this.current.settings,"change:wowza_connection",this.onWowzaChange),this.listenTo(this.current.settings,"change:lang",this.onLangChange),this.deferredEvents=[]};return e.extend(N.prototype,n.Events,{Backbone:n,$:t,_:e,events:s,i18n:o,util:a,setReady:function(t){this.required[t]=!0,e.every(this.required,e.identity)&&(this.readyDeferred.resolve(),this.onReady())},ready:function(t){return this.readyDeferred.then(t),this.readyPromise},register:function(t){return this.widgetManager.register(t)},unregister:function(t){return this.widgetManager.unregister(t)},poll:function(t){var n=this,i=function(){if(n.widgetManager.count()&&!n.isModalInitialized){n.isModalInitialized=!0;var i=n.ensureModals();i()}e.isFunction(t)&&t()};return this.widgetManager.poll(i,this.current.settings.attributes)},reset:function(n){var a=new t.Deferred,s=this;b.unsubscribeAll(),b.close(!0),this.locations=i(),this.widgetManager.removeAll(),this.modules.stopAll(),this.modules.startAll();var r={success:function(){s.toolTip.refresh(),s.poll(function(){e.isFunction(n)&&n(),a.resolve()})},error:this.onError};if(this.loadLanguage(function(){s.loadPage(r)}),this.hasAnalytics()){var o=this.analyticsMeta();this.hasAnalyticsFired&&_.trackEngagement(o),_.trackView(o,!0)}return this.commentIndex=0,a.promise()},loadPage:function(t){var e=this.locations,n={title:e.title||e.domain+e.path,path:e.path};if(e.image&&(n.image_url=e.image),e.description&&(n.description=e.description),e.page_type&&(n.page_type=e.page_type),e.unique_id&&(n.unique_id=e.unique_id,n.unique_id.length>100)){var i="The unique_id field must be less than 100 characters";this.deferredEvents.push(i)}this.current.page.getPage(n,t)},singleLoadCSS:function(t){this.isCSSLoaded?e.isFunction(t)&&t():this.loadCSS(t)},loadCSS:function(n){var i=this;i.isCSSLoaded=!0;var a=k.css_url||k.asset_url+"viafoura.css";t('link[href="'+a+'"]',"head").length||t('<link href="'+a+'" rel="stylesheet">').appendTo("head"),e.isFunction(n)&&n()},loadLanguage:function(t){var e=this.current.settings.get("lang"),n=this.locations.lang||e;this.i18n.loadLanguage(n,e).then(t)},triggerInitCallbacks:function(){"function"==typeof window.vfAsyncInit&&a.guard(window.vfAsyncInit)()},isInitializedOnWindow:function(){return window.viafoura&&window.viafoura.core},fetch:function(){this.current.settings.fetch({batch:!0,computerTime:new Date,success:this.onSettingsLoad,error:this.onError}),this.userManager.fetchUser({success:this.onUserLoad,error:this.onError}),this.loadPage({success:this.onPageLoad,error:this.onError}),this.current.section_tree.fetch({batch:!0,success:this.onSectionTreeLoad})},init:function(){this.locations=i(),this.loadCSS(),r(this),this.i18n.asset_url=k.asset_url,this.restAPI.setAPIUrl(k.api_url),this.restAPI.setSite(this.locations.domain),this.restAPI.setSection(this.locations.section),this.V3APIs.init({api_url:k.api_url_v3,domain:this.locations.domain,section:this.locations.section}),this.userManager.detectSession(),this.modules.startAll(),this.fetch(),clearTimeout(this.restAPI.timer),this.restAPI.onTimeoutFinish(),this.widgetManager.loadDeps(),this.initModal(),this.initAnalytics()},initModal:function(){this.areModalsLoaded||t(function(){new A({el:t("body")}),this.areModalsLoaded=!0}.bind(this))},triggerDeferredEvents:function(){for(var t=0;t<this.deferredEvents.length;t++)s.trigger("widget/init/invalidID",this.deferredEvents[t])},destroy:function(){this.stopListening()},parseLocationTracker:function(t){var e=a.parseUri(t||window.location.href),n=e.queryKey&&e.queryKey.__vfz?e.queryKey.__vfz:null,i={};if(n)for(var s=n.split("|"),r=0;r<s.length;r++){var o=decodeURIComponent(s[r]),l=o.split("=");i[l[0]]=l[1]}var c=L.parseHash();return c&&(i.comment_share=c),i},analyticsMeta:function(){return{domain:this.locations.domain,site_id:this.current.section_tree.get("section_id"),section_id:this.current.section_tree.getId(this.locations.section),ref:this.parseLocationTracker(),page:this.current.page.attributes,user:this.current.user.attributes,settings:this.current.settings.attributes,page_type:this.locations.page_type,page_description:this.locations.description}},hasAnalytics:function(){return void 0===this.ingestTrackingEnabled&&(this.current.settings.isEnabled("enable_ingest_tracking")?this.ingestTrackingEnabled=100*Math.random()<=this.current.settings.get("ingest_tracking_throttle"):this.ingestTrackingEnabled=!1),this.ingestTrackingEnabled},onPageLoad:function(){this.setReady("page")},onUserLoad:function(){this.setReady("user")},onSettingsLoad:function(){this.setReady("settings")},onSectionTreeLoad:function(){this.setReady("section_tree")},onReady:function(){this.triggerInitCallbacks(),this.triggerDeferredEvents(),this.loginManager.autoLogin(this.userManager.user.isLoggedIn()),this.toolTip.refresh(),this.toolTip.start(),this.poll(),this.hasAnalytics()&&(_.start(),_.trackView(this.analyticsMeta())),this.hasAnalyticsFired=!0},onUnload:function(){this.hasAnalyticsFired&&this.hasAnalytics()&&_.trackEngagement(this.analyticsMeta())},onSessionChange:function(t){this.restAPI.setSession(t)},onAnonymousChange:function(t){this.current.user.forceAnonymous=t.isEnabled("enable_anonymous_comments")},onWowzaChange:function(t){this.locations.wowza_connection=t.get("wowza_connection")},onLangChange:function(t){var e=this;this.loadLanguage(function(){e.setReady("language")})},onLogin:function(t,e){this.userManager.resetUser(t,e),e?(s.trigger("/user/login/success",this.user),s.trigger("/modal/close")):this.userManager.fetchUser({success:function(){s.trigger("/user/login/success",this.user),s.trigger("/modal/close")}})},onLogout:function(){this.userManager.logout()},onError:function(t,e,n){var i,a;n&&n.data?(i=n.data.verb,a=n.data.route):e&&e.data&&(i=e.data.verb,a=e.data.route),l({message:"Failed to load: "+t.error+" Code: "+t.http_status+" "+i+" "+a})},ensureModals:function(t){var n=this;return function(){n.singleLoadCSS(function(){e.isFunction(t)&&n.ready(function(){n.initModal(),t()})})}},initAnalytics:function(){this.events.on("page:load",function(n,i,a){if(!k.debug&&k.customWhitelist.indexOf(location.host)<0)return void l(new Error("Analytics page cannot be loaded because the domain, "+location.host+", is unauthorized"));this.restAPI.apiUrl="//"+a,this.restAPI.site=i,this.locations.domain=i,this.current.settings.set("disable_widget_logins",1),this.current.page.attributes=e.extend(this.current.page.attributes,n.attributes),this.current.page.id=n.get("id"),this.current.page.set("status","closed"),this.commentIndex=0;var s=0,r=0;viafoura.subscribe("onCommentingCommentRender",function(e,n){if(0===this.commentIndex){var i=t(document).find(".viafoura .vf-comments"),a=i.find(".vf-comments-setting").parent().addClass("comments-header");a.prepend("<h5>TOP COMMENTS</h5>").removeClass("vf-rt-block-wrapper").find(".vf-realtime").remove(),a=a.detach();var o=i.find(".vf-load-more-con").detach();i.find(".vf-horizontal-list").first().wrap("<div></div>").parent().prepend(a).append(o)}if(e.thread_id!==s||e.id===r){s=e.thread_id,r=e.id;var l=new Date(1e3*e.date_created);t(n).find(".vf-username").before("BY ").after(' ON <span class="date">'+l.toDateString()+'</span> AT <span class="date">'+l.toLocaleTimeString()+"</span>"),t(n).find("ul.vf-user-meta").append('<li class="comment-counters"><span><i class="fa fa-chevron-up"></i>'+e.num_likes+' likes</span> <span><i class="fa fa-reply"></i>'+e.num_replies+" replies</span></li>"),this.commentIndex++}}.bind(this)),t(".vf-widget").attr("data-path",n.get("path")),this.widgetManager.removeAll(),this.poll()}.bind(this))}}),new N}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;(function(s){try{i=[n(11),n(9),n(12),n(10),n(14),n(15),n(8),n(18),n(7),n(19)],a=function(t,e,n,i,a,r,o,l,c){var u=function(t,n,i){e.bindAll(this,"onTimeoutFinish","onSuccess"),this.batchDelay=250,this.requestLengthLimit=1900,this.progressKey="X-Progress-ID",this.batch=new a,this.waitingBatch=new a,this.forceBatchOff=!1,this.setAPIUrl(t),this.setSite(n),this.setSection(i)};return e.extend(u.prototype,{destroy:function(){},ajax:function(t,e,i,a){i=i||{},i.xhr&&r.assert(l.supportXDomain()||l.supportCORS(),"ajaxXHR not supported");var s={type:i.xhr?"POST":"GET",dataType:i.xhr?"json":"jsonp",url:t,data:this.JSONPWrap(e),success:a};return i.xhr&&l.supportXDomain()&&(s.xDomain=!0,s.url=this.matchHostProtocol(window.location.protocol,s.url)),n.ajax(s)},matchHostProtocol:function(t,e){return"https:"===t&&null!==e.match(/^http:/)?e.replace(/^http/,"https"):"http:"===t&&null!==e.match(/^https:/)?e.replace(/^https/,"http"):e},add:function(t){return this.batch.add(t)},checkRequestLength:function(){for(var t=[];this.getTotalLength()>this.requestLengthLimit&&this.batch.length();){var e=this.batch.pop();this.getSingleRequestLength(e)>this.requestLengthLimit&&(l.supportXDomain()||l.supportCORS())&&(e.options.xhr=!0,e.options.batch=!1),t.push(e)}return!!t.length&&(0===this.batch.length()&&1===t.length?l.supportXDomain()||l.supportCORS()?this.batch.requests=this.batch.requests.concat(t):this.failAll(t):(this.run(),this.batch.requests=this.batch.requests.concat(t)),!0)},startTimer:function(){return!this.timer&&(this.timer=s(this.onTimeoutFinish,this.batchDelay),!0)},onTimeoutFinish:function(){this.timer=!1,this.run()},createRequest:function(t,n,i,a){var s=e.clone(i);return void 0!==s&&(void 0===s.section&&void 0!==this.section&&(s.section=this.section),null===s.section&&delete s.section),a.section===!1&&delete s.section,"/"!==n.charAt(0)&&(n="/"+n),new o(t,n,s,a)},prepareRequests:function(){this.waitingBatch.add(this.batch.requests),this.batch.reset()},run:function(){if(!this.batch.isEmpty()){var t=this.batch.toData(),e=this.batch.canUseXHR(),n=this.apiUrl;r.enabled()&&(n+=this.getDebugURL()),this.prepareRequests(),this.ajax(n,{requests:t},{xhr:e&&(l.supportCORS()||l.supportXDomain())},this.onSuccess)}return this},failAll:function(t){s(function(){for(;t.length;){var e=t.pop();e.handle({http_status:403,error:"Request too long"})}},50)},onSuccess:function(t){var e=t.responses;for(var n in e)this.handleRequestResponse(e[n],n)},handleRequestResponse:function(t,e){t.session&&i.trigger("/session/found",t.session);var n=this.waitingBatch.find(e);r.assert(n,"Request could not be found "+e),n&&(c.APIMiddleware&&(t=c.APIMiddleware(n,t)),n.handle(t),this.waitingBatch.remove(n.id))},getDebugURL:function(){for(var t="",e=this.batch.requests,n=[],i=0;i<e.length;i++){var a=e[i];n.push(a.route+"="+a.verb)}return t+=t.indexOf("?")!==-1?"&":"?",n.push("debug=true"),t+=n.join("&")},toJSON:function(){return this.JSONPWrap({requests:this.batch.toData()})},getTotalLength:function(){return encodeURIComponent(this.toJSON().json).length},getSingleRequestLength:function(t){var e={};return e[t.id]=t.toData(),encodeURIComponent(this.JSONPWrap({requests:e}).json).length},addParams:function(t){var n=e.extend({site:this.site},t);return this.session&&(n.session=this.session),n},JSONPWrap:function(t){var e=this.addParams(t);return{json:JSON.stringify(e)}},setSession:function(t){this.session=t},setSite:function(t){this.site=t},setAPIUrl:function(t){this.apiUrl=t},setSection:function(t){this.section=t},request:function(t,e,n,i){"object"==typeof t&&(e=t.route,n=t.data,i=t,t=i.verb||"get",delete i.verb,delete i.route,delete i.data),i=i||{};var a=this.createRequest(t,e,n,i);this.add(a)?(i.xhr||this.checkRequestLength(),i.batch&&!this.forceBatchOff?this.startTimer():this.run()):r.assert(!1,"Duplicate request "+a.id)},getTrackUploadPath:function(t){var e=c.api_url_root+"/track_upload?"+this.progressKey+"="+t+"&session="+this.session;return e},trackUpload:function(t,e){var i=this.getTrackUploadPath(t);n.ajax({url:i,dataType:"jsonp",success:l.wrap(e.success,c.APITrackUpload)})},password:function(t,e,n){this.request("post","/account/password",{email:t},{success:e,error:n})}}),u}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var r=n(6);r(t)}}).call(e,n(5))},function(t,e,n){var i,a;try{i=[n(6)],a=function(t){return function(e,n){return window.setTimeout(function(){try{e()}catch(e){t(e)}},n)}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(7)],a=function(t){return function(e){if(t.debug===!0)throw console.error("Error logger: "),e;var n,i,a=e.message||"Error",i={env:{location:{href:location.href,protocol:location.protocol,hostname:location.hostname,pathname:location.pathname},userAgent:navigator.userAgent,hash:t.gitHash},error:{stack:e.stackTrace||e.stack,message:e.message}};i=JSON.stringify(i),n=new Image,n.src=[t.api_url,"front-log?","level=error","&msg=",encodeURIComponent(a),"","&meta=",encodeURIComponent(i),""].join("")}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e){function n(t,e){return window&&window.vfConfig&&window.vfConfig[t]||e}function i(t,e){return{get:function(){return n(t,e)}}}var a="";try{a=window.location.protocol}catch(t){}socketProtocol="ws","https:"===a&&(socketProtocol="wss");var s="bacf3e9",r="https://api.viafoura.co",o="https://cdn.viafoura.net/";window.vfConfig=window.vfConfig||{};var l={};Object.defineProperties(l,{authentication_vf_client:i("authentication_vf_url","4499c2bf-9a85-4e9f-b875-e23e352da524"),authentication_vf_url:i("authentication_vf_url","https://auth.viafoura.io"),cdn_root:i("cdn_root",o),asset_url:{get:function(){return n("asset_url",this.cdn_root+s+"/")}},css_url:{get:function(){return this.asset_url+"viafoura.css"}},api_url_root:i("api_url_root",r),api_url:i("api_url",r+"/v2/"),api_url_v1:i("api_url_v1",r+"/api/1/"),api_url_v3:i("api_url_v3",".viafoura.co/v3/"),analytics_url:i("analytics_url","//v3-i.viafoura.com/v3/{DOMAIN}/ingest"),realtime_socket:{get:function(){return socketProtocol+":"+n("websocket_url","//subsub.viafoura.net")}},video_poll:i("video_poll",!0),customWhitelist:{get:function(){return["beta-admin.viafoura.com","prelive-admin.viafoura.com","insights.viafoura.co","insights-prelive.viafoura.co"]}},gitHash:{get:function(){return s}},debug:i("debug",!1),domain:i("domain",void 0)}),t.exports=l},function(t,e,n){var i,a;try{i=[n(9),n(10)],a=function(t,e){var n=function(e,i,a,s){t.bindAll(this,"success","error","XHRError"),this.id=++n._id,this.verb=e,this.route=i,this.data=a,this.options=s||{},this.options.data={},this.options.data.verb=this.verb,this.options.data.route=this.route,this.handled=!1};return n._id=0,n.prototype={handle:function(t){this.isSuccessful(t.http_status)?this.success(t):this.error(t)},success:function(t){this.options.success&&this.options.success(t,this.options,t.http_status),this.handled=!0},error:function(t){this.options.error&&this.options.error(t,this.options,t.http_status),this.handled=!0},XHRError:function(t){var e;try{e=JSON.parse(t.responseText)}catch(t){e={api_code:0,http_status:500}}this.error(e,this.options,t.status),this.handled=!0},isSuccessful:function(t){return t>=200&&t<=299},toData:function(){var e=t.extend({},this.data);return t.extend(e,{verb:this.verb,route:this.route})}},n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i;(function(a){(function(){function s(t,e,n){for(var i=(n||0)-1,a=t?t.length:0;++i<a;)if(t[i]===e)return i;return-1}function r(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||"undefined"==typeof n)return 1;if(n<i||"undefined"==typeof i)return-1}return t.index-e.index}function o(){return Ct.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,leading:!1,maxWait:0,null:!1,number:null,object:null,push:null,string:null,trailing:!1,true:!1,undefined:!1,value:null}}function l(){}function c(t){var e=t.cache;e&&c(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,Ct.length<At&&Ct.push(t)}function u(t){return t instanceof u?t:new h(t)}function h(t,e){this.__chain__=!!e,this.__wrapped__=t}function d(t,e,n){if("function"!=typeof t)return mt;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,a){return t.call(e,n,i,a)};case 4:return function(n,i,a,s){return t.call(e,n,i,a,s)}}return ut(t,e)}function f(t,e,n,i){for(var a=(i||0)-1,s=t?t.length:0,r=[];++a<s;){var o=t[a];if(o&&"object"==typeof o&&"number"==typeof o.length&&(oe(o)||_(o))){e||(o=f(o,e,n));var l=-1,c=o.length,u=r.length;for(r.length+=c;++l<c;)r[u++]=o[l]}else n||r.push(o)}return r}function p(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;var a=typeof t,s=typeof e;if(!(t!==t||t&&Ft[a]||e&&Ft[s]))return!1;if(null==t||null==e)return t===e;var r=Xt.call(t),o=Xt.call(e);if(r!=o)return!1;switch(r){case Mt:case Dt:return+t==+e;case Pt:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case jt:case $t:return t==String(e)}var l=r==It;if(!l){if(Vt.call(t,"__wrapped__ ")||e instanceof u)return p(t.__wrapped__||t,e.__wrapped__||e,n,i);if(r!=Ot)return!1;var c=t.constructor,h=e.constructor;if(c!=h&&!(A(c)&&c instanceof c&&A(h)&&h instanceof h))return!1}n||(n=[]),i||(i=[]);for(var d=n.length;d--;)if(n[d]==t)return i[d]==e;var f=!0,v=0;if(n.push(t),i.push(e),l){if(v=e.length,f=v==t.length)for(;v--&&(f=p(t[v],e[v],n,i)););return f}return de(e,function(e,a,s){if(Vt.call(s,a))return v++,!(f=Vt.call(t,a)&&p(t[a],e,n,i))&&Lt}),f&&de(t,function(t,e,n){if(Vt.call(n,e))return!(f=--v>-1)&&Lt}),f}function v(t){return function(e,n,i){var a={};n=dt(n,i,3);var s=-1,r=e?e.length:0;if("number"==typeof r)for(;++s<r;){var o=e[s];t(a,o,n(o,s,e),e)}else fe(e,function(e,i,s){t(a,e,n(e,i,s),s)});return a}}function g(t,e,n,i,a,s){var r=1&e,o=2&e,l=4&e,c=8&e,u=16&e,h=32&e,d=t;if(!o&&!A(t))throw new TypeError;if(u&&!n.length&&(e&=-17,u=n=!1),h&&!i.length&&(e&=-33,h=i=!1),r&&!(o||l||h)&&(re.fastBind||Kt&&u)){if(u){var f=[a];Jt.apply(f,n)}var p=u?Kt.apply(t,f):Kt.call(t,a)}else p=function(){var f=arguments,v=r?a:this;if((l||u||h)&&(f=ie.call(f),u&&Gt.apply(f,n),h&&Jt.apply(f,i),l&&f.length<s))return e|=16,g(t,c?e:e&-4,f,null,a,s);if(o&&(t=v[d]),this instanceof p){v=m(t.prototype);var y=t.apply(v,f);return N(y)?y:v}return t.apply(v,f)};return p}function m(t){return N(t)?Yt(t):{}}function y(t){return ue[t]}function b(){var t=(t=u.indexOf)===it?s:t;return t}function _(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Xt.call(t)==qt||!1}function w(t){if(!t)return t;for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];if(i)for(var a in i)t[a]=i[a]}return t}function x(t){return N(t)?oe(t)?ie.call(t):w({},t):t}function k(t){if(!t)return t;for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];if(i)for(var a in i)"undefined"==typeof t[a]&&(t[a]=i[a])}return t}function E(t){var e=[];return de(t,function(t,n){A(t)&&e.push(n)}),e.sort()}function T(t,e){return!!t&&Vt.call(t,e)}function C(t){for(var e=-1,n=ce(t),i=n.length,a={};++e<i;){var s=n[e];a[t[s]]=s}return a}function S(t){if(!t)return!0;if(oe(t)||I(t))return!t.length;for(var e in t)if(Vt.call(t,e))return!1;return!0}function L(t,e){return p(t,e)}function A(t){return"function"==typeof t}function N(t){return!(!t||!Ft[typeof t])}function q(t){return!(!t||!Ft[typeof t])&&Xt.call(t)==jt}function I(t){return"string"==typeof t||Xt.call(t)==$t}function M(t){var e=b(),n=f(arguments,!0,!1,1),i={};return de(t,function(t,a){e(n,a)<0&&(i[a]=t)}),i}function D(t){for(var e=-1,n=ce(t),i=n.length,a=Array(i);++e<i;){var s=n[e];a[e]=[s,t[s]]}return a}function R(t){for(var e=-1,n=f(arguments,!0,!1,1),i=n.length,a={};++e<i;){var s=n[e];s in t&&(a[s]=t[s])}return a}function P(t){for(var e=-1,n=ce(t),i=n.length,a=Array(i);++e<i;)a[e]=t[n[e]];return a}function O(t,e){var n=b(),i=t?t.length:0,a=!1;return i&&"number"==typeof i?a=n(t,e)>-1:fe(t,function(t){return(a=t===e)&&Lt}),a}function j(t,e,n){var i=!0;e=dt(e,n,3);var a=-1,s=t?t.length:0;if("number"==typeof s)for(;++a<s&&(i=!!e(t[a],a,t)););else fe(t,function(t,n,a){return!(i=!!e(t,n,a))&&Lt});return i}function $(t,e,n){var i=[];e=dt(e,n,3);var a=-1,s=t?t.length:0;if("number"==typeof s)for(;++a<s;){var r=t[a];e(r,a,t)&&i.push(r)}else fe(t,function(t,n,a){e(t,n,a)&&i.push(t)});return i}function F(t,e,n){e=dt(e,n,3);var i=-1,a=t?t.length:0;if("number"!=typeof a){var s;return fe(t,function(t,n,i){if(e(t,n,i))return s=t,Lt}),s}for(;++i<a;){var r=t[i];if(e(r,i,t))return r}}function H(t,e,n){var i=-1,a=t?t.length:0;if(e=e&&"undefined"==typeof n?e:d(e,n,3),"number"==typeof a)for(;++i<a&&e(t[i],i,t)!==Lt;);else fe(t,e)}function U(t,e){var n=t?t.length:0;if("number"==typeof n)for(;n--&&e(t[n],n,t)!==!1;);else{var i=ce(t);n=i.length,fe(t,function(t,a,s){return a=i?i[--n]:--n,e(s[a],a,s)===!1&&Lt})}}function B(t,e){var n=ie.call(arguments,2),i=-1,a="function"==typeof e,s=t?t.length:0,r=Array("number"==typeof s?s:0);return H(t,function(t){r[++i]=(a?e:t[e]).apply(t,n)}),r}function z(t,e,n){var i=-1,a=t?t.length:0;if(e=dt(e,n,3),"number"==typeof a)for(var s=Array(a);++i<a;)s[i]=e(t[i],i,t);else s=[],fe(t,function(t,n,a){s[++i]=e(t,n,a)});return s}function W(t,e,n){var i=-(1/0),a=i,s=-1,r=t?t.length:0;if(e||"number"!=typeof r)e=dt(e,n,3),H(t,function(t,n,s){var r=e(t,n,s);r>i&&(i=r,a=t)});else for(;++s<r;){var o=t[s];o>a&&(a=o)}return a}function V(t,e,n){var i=1/0,a=i,s=-1,r=t?t.length:0;if(e||"number"!=typeof r)e=dt(e,n,3),H(t,function(t,n,s){var r=e(t,n,s);r<i&&(i=r,a=t)});else for(;++s<r;){var o=t[s];o<a&&(a=o)}return a}function J(t,e,n,i){if(!t)return n;var a=arguments.length<3;e=d(e,i,4);var s=-1,r=t.length;if("number"==typeof r)for(a&&(n=t[++s]);++s<r;)n=e(n,t[s],s,t);else fe(t,function(t,i,s){n=a?(a=!1,t):e(n,t,i,s)});return n}function X(t,e,n,i){var a=arguments.length<3;return e=d(e,i,4),U(t,function(t,i,s){n=a?(a=!1,t):e(n,t,i,s)}),n}function G(t,e,n){return e=dt(e,n,3),$(t,function(t,n,i){return!e(t,n,i)})}function K(t){var e=-1,n=t?t.length:0,i=Array("number"==typeof n?n:0);return H(t,function(t){var n=bt(++e);i[e]=i[n],i[n]=t}),i}function Y(t){var e=t?t.length:0;return"number"==typeof e?e:ce(t).length}function Q(t,e,n){var i;e=dt(e,n,3);var a=-1,s=t?t.length:0;if("number"==typeof s)for(;++a<s&&!(i=e(t[a],a,t)););else fe(t,function(t,n,a){return(i=e(t,n,a))&&Lt});return!!i}function Z(t,e,n){var i=-1,a=t?t.length:0,s=Array("number"==typeof a?a:0);for(e=dt(e,n,3),H(t,function(t,n,a){s[++i]={criteria:e(t,n,a),index:i,value:t}}),a=s.length,s.sort(r);a--;)s[a]=s[a].value;return s}function tt(t){return oe(t)?ie.call(t):t&&"number"==typeof t.length?z(t):P(t)}function et(t){for(var e=-1,n=b(),i=t.length,a=f(arguments,!0,!0,1),s=[];++e<i;){var r=t[e];n(a,r)<0&&s.push(r)}return s}function nt(t,e,n){var i=0,a=t?t.length:0;if("number"!=typeof e&&null!=e){var s=-1;for(e=dt(e,n,3);++s<a&&e(t[s],s,t);)i++}else if(i=e,null==i||n)return t?t[0]:Tt;return ie.call(t,0,ee(te(0,i),a))}function it(t,e,n){if("number"==typeof n){var i=t?t.length:0;n=n<0?te(0,i+n):n||0}else if(n){var a=lt(t,e);return t[a]===e?a:-1}return s(t,e,n)}function at(t,e,n){var i=0,a=t?t.length:0;if("number"!=typeof e&&null!=e){var s=a;for(e=dt(e,n,3);s--&&e(t[s],s,t);)i++}else i=null==e||n?1:e||i;return ie.call(t,0,ee(te(0,a-i),a))}function st(t,e,n){var i=0,a=t?t.length:0;if("number"!=typeof e&&null!=e){var s=a;for(e=dt(e,n,3);s--&&e(t[s],s,t);)i++}else if(i=e,null==i||n)return t?t[a-1]:Tt;return ie.call(t,te(0,a-i))}function rt(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(n<0?te(0,i+n):ee(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function ot(t,e,n){if("number"!=typeof e&&null!=e){var i=0,a=-1,s=t?t.length:0;for(e=dt(e,n,3);++a<s&&e(t[a],a,t);)i++}else i=null==e||n?1:te(0,e);return ie.call(t,i)}function lt(t,e,n,i){var a=0,s=t?t.length:a;for(n=n?dt(n,i,1):mt,e=n(e);a<s;){var r=a+s>>>1;n(t[r])<e?a=r+1:s=r}return a}function ct(t){return et(t,ie.call(arguments,1))}function ut(t,e){return arguments.length>2?g(t,17,ie.call(arguments,2),null,e):g(t,1,null,null,e)}function ht(t){for(var e=arguments.length>1?f(arguments,!0,!1,1):E(t),n=-1,i=e.length;++n<i;){var a=e[n];t[a]=g(t[a],1,null,null,t)}return t}function dt(t,e,n){var i=typeof t;if(null==t||"function"==i)return d(t,e,n);if("object"!=i)return function(e){return e[t]};var a=ce(t);return function(e){for(var n=a.length,i=!1;n--&&(i=e[a[n]]===t[a[n]]););return i}}function ft(t,e,n){var i,s,r,o,l,c,u,h=0,d=!1,f=!0;if(!A(t))throw new TypeError;if(e=te(0,e)||0,n===!0){var p=!0;f=!1}else N(n)&&(p=n.leading,d="maxWait"in n&&(te(e,n.maxWait)||0),f="trailing"in n?n.trailing:f);var v=function(){var n=e-(new Date-o);if(n<=0){s&&clearTimeout(s);var d=u;s=c=u=Tt,d&&(h=+new Date,r=t.apply(l,i))}else c=a(v,n)},g=function(){c&&clearTimeout(c),s=c=u=Tt,(f||d!==e)&&(h=+new Date,r=t.apply(l,i))};return function(){if(i=arguments,o=+new Date,l=this,u=f&&(c||!p),d===!1)var n=p&&!c;else{s||p||(h=o);var m=d-(o-h);m<=0?(s&&(s=clearTimeout(s)),h=o,r=t.apply(l,i)):s||(s=a(g,m))}return c||e===d||(c=a(v,e)),n&&(r=t.apply(l,i)),r}}function pt(t){var e,n;if(!A(t))throw new TypeError;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function vt(t,e,n){var i=!0,a=!0;if(!A(t))throw new TypeError;n===!1?i=!1:N(n)&&(i="leading"in n?n.leading:i,a="trailing"in n?n.trailing:a),n=o(),n.leading=i,n.maxWait=e,n.trailing=a;var s=ft(t,e,n);return c(n),s}function gt(t){return null==t?"":String(t).replace(he,y)}function mt(t){return t}function yt(t){H(E(t),function(e){var n=u[e]=t[e];u.prototype[e]=function(){var t=[this.__wrapped__];Jt.apply(t,arguments);var e=n.apply(u,t);return this.__chain__&&(e=new h(e),e.__chain__=!0),e}})}function bt(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e?(e=t,t=0):e=+e||0,t+Wt(ne()*(e-t+1))}function _t(t,e){if(t){var n=t[e];return A(n)?t[e]():n}}function wt(t){var e=++St+"";return t?t+e:e}function xt(t){return t=new h(t),t.__chain__=!0,t}function kt(){return this.__chain__=!0,this}function Et(){return this.__wrapped__}var Tt,Ct=[],St=0,Lt={},At=40,Nt=/\bthis\b/,qt="[object Arguments]",It="[object Array]",Mt="[object Boolean]",Dt="[object Date]",Rt="[object Function]",Pt="[object Number]",Ot="[object Object]",jt="[object RegExp]",$t="[object String]",Ft={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},Ht=Ft[typeof window]&&window||this,Ut=[],Bt=Object.prototype,zt=RegExp("^"+String(Bt.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Wt=Math.floor,Vt=Bt.hasOwnProperty,Jt=Ut.push,Xt=Bt.toString,Gt=Ut.unshift,Kt=zt.test(Kt=Xt.bind)&&Kt,Yt=zt.test(Yt=Object.create)&&Yt,Qt=zt.test(Qt=Array.isArray)&&Qt,Zt=zt.test(Zt=Object.keys)&&Zt,te=Math.max,ee=Math.min,ne=Math.random,ie=Ut.slice,ae=zt.test(Ht.attachEvent),se=Kt&&!/\n|true/.test(Kt+ae);h.prototype=u.prototype;var re={};!function(){var t={0:1,length:1};re.fastBind=Kt&&!se,re.funcDecomp=!zt.test(Ht.WinRTError)&&Nt.test(function(){return this}),re.spliceObjects=(Ut.splice.call(t,0,1),!t[0])}(1),Yt||(m=function(t){if(N(t)){l.prototype=t;var e=new l;l.prototype=null}return e||{}}),_(arguments)||(_=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Vt.call(t,"callee")||!1});var oe=Qt||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Xt.call(t)==It||!1},le=function(t){var e,n=t,i=[];if(!n)return i;if(!Ft[typeof t])return i;for(e in n)Vt.call(n,e)&&i.push(e);return i},ce=Zt?function(t){return N(t)?Zt(t):[]}:le,ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},he=RegExp("["+ce(ue).join("")+"]","g"),de=function(t,e){var n,i=t,a=i;if(!i)return a;if(!Ft[typeof i])return a;for(n in i)if(e(i[n],n,t)===Lt)return a;return a},fe=function(t,e){var n,i=t,a=i;if(!i)return a;if(!Ft[typeof i])return a;for(n in i)if(Vt.call(i,n)&&e(i[n],n,t)===Lt)return a;return a};A(/x/)&&(A=function(t){return"function"==typeof t&&Xt.call(t)==Rt});var pe=v(function(t,e,n){Vt.call(t,n)?t[n]++:t[n]=1}),ve=v(function(t,e,n){(Vt.call(t,n)?t[n]:t[n]=[]).push(e)});u.bind=ut,u.bindAll=ht,u.chain=xt,u.countBy=pe,u.debounce=ft,u.defaults=k,u.difference=et,u.filter=$,u.forEach=H,u.functions=E,u.groupBy=ve,u.initial=at,u.invert=C,u.invoke=B,u.keys=ce,u.map=z,u.max=W,u.min=V,u.omit=M,u.once=pt,u.pairs=D,u.pick=R,u.reject=G,u.rest=ot,u.shuffle=K,u.sortBy=Z,u.throttle=vt,u.toArray=tt,u.values=P,u.without=ct,u.collect=z,u.drop=ot,u.each=H,u.extend=w,u.methods=E,u.select=$,u.tail=ot,u.clone=x,u.contains=O,u.escape=gt,u.every=j,u.find=F,u.has=T,u.identity=mt,u.indexOf=it,u.isArguments=_,u.isArray=oe,u.isEmpty=S,u.isEqual=L,u.isFunction=A,u.isObject=N,u.isRegExp=q,u.isString=I,u.lastIndexOf=rt,u.mixin=yt,u.random=bt,u.reduce=J,u.reduceRight=X,u.result=_t,u.size=Y,u.some=Q,u.sortedIndex=lt,u.uniqueId=wt,u.all=j,u.any=Q,u.detect=F,u.foldl=J,u.foldr=X,u.include=O,u.inject=J,u.first=nt,u.last=st,u.take=nt,u.head=nt,yt(u),u.VERSION="2.1.0",u.prototype.chain=kt,u.prototype.value=Et,H(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Ut[t];u.prototype[t]=function(){var t=this.__wrapped__;return e.apply(t,arguments),re.spliceObjects||0!==t.length||delete t[0],this;
}}),H(["concat","join","slice"],function(t){var e=Ut[t];u.prototype[t]=function(){var t=this.__wrapped__,n=e.apply(t,arguments);return this.__chain__&&(n=new h(n),n.__chain__=!0),n}}),i=function(){return u}.call(e,n,e,t),!(i!==Tt&&(t.exports=i))}).call(this)}).call(e,n(5))},function(t,e,n){var i,a;try{i=[n(9),n(11),n(12)],a=function(t,e,n){return e.Events}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;i=[n(12),n(9)],a=function(t,i){var a={$:t,_:i};return function(){var t,i=this,a=i.Backbone,s=[],r=s.push,o=s.slice,l=s.splice;t=e,t.VERSION="1.0.0";var c=i._;c||(c=n(9)),t.$=i.jQuery||i.Zepto||i.ender||i.$,t.noConflict=function(){return i.Backbone=a,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={on:function(t,e,n){if(!d(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!d(this,"once",t,[e,n])||!e)return this;var i=this,a=c.once(function(){i.off(t,a),e.apply(this,arguments)});return a._callback=e,this.on(t,a,n)},off:function(t,e,n){var i,a,s,r,o,l,u,h;if(!this._events||!d(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(r=t?[t]:c.keys(this._events),o=0,l=r.length;o<l;o++)if(t=r[o],s=this._events[t]){if(this._events[t]=i=[],e||n)for(u=0,h=s.length;u<h;u++)a=s[u],(e&&e!==a.callback&&e!==a.callback._callback||n&&n!==a.context)&&i.push(a);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!d(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&f(n,e),i&&f(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var a=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var s in i)i[s].off(e,n,this),a&&delete this._listeners[s];return this}},h=/\s+/,d=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var a in n)t[e].apply(t,[a,n[a]].concat(i));return!1}if(h.test(n)){for(var s=n.split(h),r=0,o=s.length;r<o;r++)t[e].apply(t,[s[r]].concat(i));return!1}return!0},f=function(t,e){var n,i=-1,a=t.length,s=e[0],r=e[1],o=e[2];switch(e.length){case 0:for(;++i<a;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<a;)(n=t[i]).callback.call(n.ctx,s);return;case 2:for(;++i<a;)(n=t[i]).callback.call(n.ctx,s,r);return;case 3:for(;++i<a;)(n=t[i]).callback.call(n.ctx,s,r,o);return;default:for(;++i<a;)(n=t[i]).callback.apply(n.ctx,e)}},p={listenTo:"on",listenToOnce:"once"};c.each(p,function(t,e){u[e]=function(e,n,i){var a=this._listeners||(this._listeners={}),s=e._listenerId||(e._listenerId=c.uniqueId("l"));return a[s]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}}),u.bind=u.on,u.unbind=u.off,c.extend(t,u);var v=t.Model=function(t,e){var n,i=t||{};e||(e={}),this.cid=c.uniqueId("c"),this.attributes={},c.extend(this,c.pick(e,g)),e.parse&&(i=this.parse(i,e)||{}),(n=c.result(this,"defaults"))&&(i=c.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},g=["url","urlRoot","collection"];c.extend(v.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return c.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return c.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,a,s,r,o,l,u,h;if(null==t)return this;if("object"==typeof t?(a=t,n=e):(a={})[t]=e,n||(n={}),!this._validate(a,n))return!1;s=n.unset,o=n.silent,r=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=c.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(i in a)e=a[i],c.isEqual(h[i],e)||r.push(i),c.isEqual(u[i],e)?delete this.changed[i]:this.changed[i]=e,s?delete h[i]:h[i]=e;if(!o){r.length&&(this._pending=!0);for(var d=0,f=r.length;d<f;d++)this.trigger("change:"+r[d],this,h[r[d]],n)}if(l)return this;if(!o)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,c.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,c.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!c.isEmpty(this.changed):c.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&c.clone(this.changed);var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in t)c.isEqual(i[a],e=t[a])||((n||(n={}))[a]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(t){t=t?c.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return!!e.set(e.parse(i,t),t)&&(n&&n(e,i,t),void e.trigger("sync",e,i,t))},A(this,t),this.sync("read",this,t)},save:function(t,e,n){var i,a,s,r=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,i&&(!n||!n.wait)&&!this.set(i,n))return!1;if(n=c.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=c.extend({},r,i)),void 0===n.parse&&(n.parse=!0);var o=this,l=n.success;return n.success=function(t){o.attributes=r;var e=o.parse(t,n);return n.wait&&(e=c.extend(i||{},e)),!(c.isObject(e)&&!o.set(e,n))&&(l&&l(o,t,n),void o.trigger("sync",o,t,n))},A(this,n),a=this.isNew()?"create":n.patch?"patch":"update","patch"===a&&(n.attrs=i),s=this.sync(a,this,n),i&&n.wait&&(this.attributes=r),s},destroy:function(t){t=t?c.clone(t):{};var e=this,n=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(a){(t.wait||e.isNew())&&i(),n&&n(e,a,t),e.isNew()||e.trigger("sync",e,a,t)},this.isNew())return t.success(),!1;A(this,t);var a=this.sync("delete",this,t);return t.wait||i(),a},url:function(){var t=c.result(this,"urlRoot")||c.result(this.collection,"url")||L();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},c.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=c.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,c.extend(e||{},{validationError:n})),!1)}});var m=["keys","values","pairs","invert","pick","omit"];c.each(m,function(t){v.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),c[t].apply(c,e)}});var y=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,c.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},_={add:!0,merge:!1,remove:!1};c.extend(y.prototype,u,{model:v,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,c.defaults(e||{},_))},remove:function(t,e){t=c.isArray(t)?t.slice():[t],e||(e={});var n,i,a,s;for(n=0,i=t.length;n<i;n++)s=this.get(t[n]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,e.silent||(e.index=a,s.trigger("remove",s,this,e)),this._removeReference(s));return this},set:function(t,e){e=c.defaults(e||{},b),e.parse&&(t=this.parse(t,e)),c.isArray(t)||(t=t?[t]:[]);var n,i,a,s,o,u=e.at,h=this.comparator&&null==u&&e.sort!==!1,d=c.isString(this.comparator)?this.comparator:null,f=[],p=[],v={};for(n=0,i=t.length;n<i;n++)(a=this._prepareModel(t[n],e))&&((s=this.get(a))?(e.remove&&(v[s.cid]=!0),e.merge&&(s.set(a.attributes,e),h&&!o&&s.hasChanged(d)&&(o=!0))):e.add&&(f.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)));if(e.remove){for(n=0,i=this.length;n<i;++n)v[(a=this.models[n]).cid]||p.push(a);p.length&&this.remove(p,e)}if(f.length&&(h&&(o=!0),this.length+=f.length,null!=u?l.apply(this.models,[u,0].concat(f)):r.apply(this.models,f)),o&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=f.length;n<i;n++)(a=f[n]).trigger("add",a,this,e);return o&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,c.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,c.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,c.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){if(null!=t)return this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return c.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=c.isFunction(e)?e:function(t){return t.get(e)};return c.sortedIndex(this.models,t,i,n)},pluck:function(t){return c.invoke(this.models,"get",t)},fetch:function(t){t=t?c.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var a=t.reset?"reset":"set";n[a](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},A(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?c.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,i=e.success;return e.success=function(a){e.wait&&n.add(t,e),i&&i(t,a,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof v)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var w=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];c.each(w,function(t){y.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),c[t].apply(c,e)}});var x=["groupBy","countBy","sortBy"];c.each(x,function(t){y.prototype[t]=function(e,n){var i=c.isFunction(e)?e:function(t){return t.get(e)};return c[t](this.models,i,n)}});var k=t.View=function(t){this.cid=c.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},E=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];c.extend(k.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=c.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(c.isFunction(n)||(n=this[t[e]]),n){var i=e.match(E),a=i[1],s=i[2];n=c.bind(n,this),a+=".delegateEvents"+this.cid,""===s?this.$el.on(a,n):this.$el.on(a,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=c.extend({},c.result(this,"options"),t)),c.extend(this,c.pick(t,T)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var e=c.extend({},c.result(this,"attributes"));this.id&&(e.id=c.result(this,"id")),this.className&&(e.class=c.result(this,"className"));var n=t.$("<"+c.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,i){var a=C[e];c.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:a,dataType:"json"};if(i.url||(s.url=c.result(n,"url")||L()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){s.type="POST",i.emulateJSON&&(s.data._method=a);var r=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",a),r)return r.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"!==s.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var o=i.xhr=t.ajax(c.extend(s,i));return n.trigger("request",n,o,i),o};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var S=function(t,e){var n,i=this;n=t&&c.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},c.extend(n,i,e);var a=function(){this.constructor=n};return a.prototype=i.prototype,n.prototype=new a,t&&c.extend(n.prototype,t),n.__super__=i.prototype,n};v.extend=y.extend=k.extend=S;var L=function(){throw new Error('A "url" property or function must be specified')},A=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}}}.call(a),a.Backbone}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,n){var i,a;(function(s){!function(r,o){function l(t){var e=t.length,n=pt.type(t);return!pt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)))}function c(t){var e=At[t]={};return pt.each(t.match(gt)||[],function(t,n){e[n]=!0}),e}function u(t,e,n,i){if(pt.acceptData(t)){var a,s,r=pt.expando,l="string"==typeof e,c=t.nodeType,u=c?pt.cache:t,h=c?t[r]:t[r]&&r;if(h&&u[h]&&(i||u[h].data)||!l||n!==o)return h||(c?t[r]=h=st.pop()||pt.guid++:h=r),u[h]||(u[h]={},c||(u[h].toJSON=pt.noop)),"object"!=typeof e&&"function"!=typeof e||(i?u[h]=pt.extend(u[h],e):u[h].data=pt.extend(u[h].data,e)),a=u[h],i||(a.data||(a.data={}),a=a.data),n!==o&&(a[pt.camelCase(e)]=n),l?(s=a[e],null==s&&(s=a[pt.camelCase(e)])):s=a,s}}function h(t,e,n){if(pt.acceptData(t)){var i,a,s,r=t.nodeType,o=r?pt.cache:t,l=r?t[pt.expando]:pt.expando;if(o[l]){if(e&&(s=n?o[l]:o[l].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in s?e=[e]:(e=pt.camelCase(e),e=e in s?[e]:e.split(" "));for(i=0,a=e.length;i<a;i++)delete s[e[i]];if(!(n?f:pt.isEmptyObject)(s))return}(n||(delete o[l].data,f(o[l])))&&(r?pt.cleanData([t],!0):pt.support.deleteExpando||o!=o.window?delete o[l]:o[l]=null)}}}function d(t,e,n){if(n===o&&1===t.nodeType){var i="data-"+e.replace(qt,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Nt.test(n)?pt.parseJSON(n):n)}catch(t){}pt.data(t,e,n)}else n=o}return n}function f(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function p(){return!0}function v(){return!1}function g(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function m(t,e,n){if(e=e||0,pt.isFunction(e))return pt.grep(t,function(t,i){var a=!!e.call(t,i,t);return a===n});if(e.nodeType)return pt.grep(t,function(t){return t===e===n});if("string"==typeof e){var i=pt.grep(t,function(t){return 1===t.nodeType});if(Gt.test(e))return pt.filter(e,i,!n);e=pt.filter(e,i)}return pt.grep(t,function(t){return pt.inArray(t,e)>=0===n})}function y(t){var e=Qt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function b(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function _(t){var e=t.getAttributeNode("type");return t.type=(e&&e.specified)+"/"+t.type,t}function w(t){var e=ue.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var n,i=0;null!=(n=t[i]);i++)pt._data(n,"globalEval",!e||pt._data(e[i],"globalEval"))}function k(t,e){if(1===e.nodeType&&pt.hasData(t)){var n,i,a,s=pt._data(t),r=pt._data(e,s),o=s.events;if(o){delete r.handle,r.events={};for(n in o)for(i=0,a=o[n].length;i<a;i++)pt.event.add(e,n,o[n][i])}r.data&&(r.data=pt.extend({},r.data))}}function E(t,e){var n,i,a;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!pt.support.noCloneEvent&&e[pt.expando]){a=pt._data(e);for(i in a.events)pt.removeEvent(e,i,a.handle);e.removeAttribute(pt.expando)}"script"===n&&e.text!==t.text?(_(e).text=t.text,w(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),pt.support.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&oe.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function T(t,e){var n,i,a=0,s=typeof t.getElementsByTagName!==Z?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Z?t.querySelectorAll(e||"*"):o;if(!s)for(s=[],n=t.childNodes||t;null!=(i=n[a]);a++)!e||pt.nodeName(i,e)?s.push(i):pt.merge(s,T(i,e));return e===o||e&&pt.nodeName(t,e)?pt.merge([t],s):s}function C(t){oe.test(t.type)&&(t.defaultChecked=t.checked)}function S(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,a=Ne.length;a--;)if(e=Ne[a]+n,e in t)return e;return i}function L(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)}function A(t,e){for(var n,i,a,s=[],r=0,o=t.length;r<o;r++)i=t[r],i.style&&(s[r]=pt._data(i,"olddisplay"),n=i.style.display,e?(s[r]||"none"!==n||(i.style.display=""),""===i.style.display&&L(i)&&(s[r]=pt._data(i,"olddisplay",M(i.nodeName)))):s[r]||(a=L(i),(n&&"none"!==n||!a)&&pt._data(i,"olddisplay",a?n:pt.css(i,"display"))));for(r=0;r<o;r++)i=t[r],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?s[r]||"":"none"));return t}function N(t,e,n){var i=ke.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function q(t,e,n,i,a){for(var s=n===(i?"border":"content")?4:"width"===e?1:0,r=0;s<4;s+=2)"margin"===n&&(r+=pt.css(t,n+Ae[s],!0,a)),i?("content"===n&&(r-=pt.css(t,"padding"+Ae[s],!0,a)),"margin"!==n&&(r-=pt.css(t,"border"+Ae[s]+"Width",!0,a))):(r+=pt.css(t,"padding"+Ae[s],!0,a),"padding"!==n&&(r+=pt.css(t,"border"+Ae[s]+"Width",!0,a)));return r}function I(t,e,n){var i=!0,a="width"===e?t.offsetWidth:t.offsetHeight,s=ge(t),r=pt.support.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,s);if(a<=0||null==a){if(a=me(t,e,s),(a<0||null==a)&&(a=t.style[e]),Ee.test(a))return a;i=r&&(pt.support.boxSizingReliable||a===t.style[e]),a=parseFloat(a)||0}return a+q(t,e,n||(r?"border":"content"),i,s)+"px"}function M(t){var e=tt,n=Ce[t];return n||(n=D(t,e),"none"!==n&&n||(ve=(ve||pt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ve[0].contentWindow||ve[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=D(t,e),ve.detach()),Ce[t]=n),n}function D(t,e){var n=pt(e.createElement(t)).appendTo(e.body),i=pt.css(n[0],"display");return n.remove(),i}function R(t,e,n,i){var a;if(pt.isArray(e))pt.each(e,function(e,a){n||Ie.test(t)?i(t,a):R(t+"["+("object"==typeof a?e:"")+"]",a,n,i)});else if(n||"object"!==pt.type(e))i(t,e);else for(a in e)R(t+"["+a+"]",e[a],n,i)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,a=0,s=e.toLowerCase().match(gt)||[];if(pt.isFunction(n))for(;i=s[a++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function O(t,e,n,i){function a(o){var l;return s[o]=!0,pt.each(t[o]||[],function(t,o){var c=o(e,n,i);return"string"!=typeof c||r||s[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),l}var s={},r=t===Ge;return a(e.dataTypes[0])||!s["*"]&&a("*")}function j(t,e){var n,i,a=pt.ajaxSettings.flatOptions||{};for(i in e)e[i]!==o&&((a[i]?t:n||(n={}))[i]=e[i]);return n&&pt.extend(!0,t,n),t}function $(t,e,n){var i,a,s,r,l=t.contents,c=t.dataTypes,u=t.responseFields;for(r in u)r in n&&(e[u[r]]=n[r]);for(;"*"===c[0];)c.shift(),a===o&&(a=t.mimeType||e.getResponseHeader("Content-Type"));if(a)for(r in l)if(l[r]&&l[r].test(a)){c.unshift(r);break}if(c[0]in n)s=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){s=r;break}i||(i=r)}s=s||i}if(s)return s!==c[0]&&c.unshift(s),n[s]}function F(t,e){var n,i,a,s,r={},o=0,l=t.dataTypes.slice(),c=l[0];if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l[1])for(a in t.converters)r[a.toLowerCase()]=t.converters[a];for(;i=l[++o];)if("*"!==i){if("*"!==c&&c!==i){if(a=r[c+" "+i]||r["* "+i],!a)for(n in r)if(s=n.split(" "),s[1]===i&&(a=r[c+" "+s[0]]||r["* "+s[0]])){a===!0?a=r[n]:r[n]!==!0&&(i=s[0],l.splice(o--,0,i));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:e}}function H(){try{return new r.XMLHttpRequest}catch(t){}}function U(){try{return new r.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function B(){return s(function(){an=o}),an=pt.now()}function z(t,e){pt.each(e,function(e,n){for(var i=(un[e]||[]).concat(un["*"]),a=0,s=i.length;a<s;a++)if(i[a].call(t,e,n))return})}function W(t,e,n){var i,a,s=0,r=cn.length,o=pt.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=an||B(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,s=1-i,r=0,l=c.tweens.length;r<l;r++)c.tweens[r].run(s);return o.notifyWith(t,[c,s,n]),s<1&&l?n:(o.resolveWith(t,[c]),!1)},c=o.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:an||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=pt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(a)return this;for(a=!0;n<i;n++)c.tweens[n].run(1);return e?o.resolveWith(t,[c,e]):o.rejectWith(t,[c,e]),this}}),u=c.props;for(V(u,c.opts.specialEasing);s<r;s++)if(i=cn[s].call(c,t,u,c.opts))return i;return z(c,u),pt.isFunction(c.opts.start)&&c.opts.start.call(t,c),pt.fx.timer(pt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function V(t,e){var n,i,a,s,r;for(a in t)if(i=pt.camelCase(a),s=e[i],n=t[a],pt.isArray(n)&&(s=n[1],n=t[a]=n[0]),a!==i&&(t[i]=n,delete t[a]),r=pt.cssHooks[i],r&&"expand"in r){n=r.expand(n),delete t[i];for(a in n)a in t||(t[a]=n[a],e[a]=s)}else e[i]=s}function J(t,e,n){var i,a,s,r,o,l,c,u,h,d=this,f=t.style,p={},v=[],g=t.nodeType&&L(t);n.queue||(u=pt._queueHooks(t,"fx"),null==u.unqueued&&(u.unqueued=0,h=u.empty.fire,u.empty.fire=function(){u.unqueued||h()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,pt.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===pt.css(t,"display")&&"none"===pt.css(t,"float")&&(pt.support.inlineBlockNeedsLayout&&"inline"!==M(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",pt.support.shrinkWrapBlocks||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(a in e)if(r=e[a],rn.exec(r)){if(delete e[a],l=l||"toggle"===r,r===(g?"hide":"show"))continue;v.push(a)}if(s=v.length){o=pt._data(t,"fxshow")||pt._data(t,"fxshow",{}),"hidden"in o&&(g=o.hidden),l&&(o.hidden=!g),g?pt(t).show():d.done(function(){pt(t).hide()}),d.done(function(){var e;pt._removeData(t,"fxshow");for(e in p)pt.style(t,e,p[e])});for(a=0;a<s;a++)i=v[a],c=d.createTween(i,g?o[i]:0),p[i]=o[i]||pt.style(t,i),i in o||(o[i]=c.start,g&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function X(t,e,n,i,a){return new X.prototype.init(t,e,n,i,a)}function G(t,e){var n,i={height:t},a=0;for(e=e?1:0;a<4;a+=2-e)n=Ae[a],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function K(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var Y,Q,Z=typeof o,tt=r.document,et=r.location,nt=r.jQuery,it=r.$,at={},st=[],rt="1.9.1",ot=st.concat,lt=st.push,ct=st.slice,ut=st.indexOf,ht=at.toString,dt=at.hasOwnProperty,ft=rt.trim,pt=function(t,e){return new pt.fn.init(t,e,Q)},vt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,gt=/\S+/g,mt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,yt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,bt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_t=/^[\],:{}\s]*$/,wt=/(?:^|:|,)(?:\s*\[)+/g,xt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,kt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Et=/^-ms-/,Tt=/-([\da-z])/gi,Ct=function(t,e){return e.toUpperCase()},St=function(t){(tt.addEventListener||"load"===t.type||"complete"===tt.readyState)&&(Lt(),pt.ready())},Lt=function(){tt.addEventListener?(tt.removeEventListener("DOMContentLoaded",St,!1),r.removeEventListener("load",St,!1)):(tt.detachEvent("onreadystatechange",St),r.detachEvent("onload",St))};pt.fn=pt.prototype={jquery:rt,constructor:pt,init:function(t,e,n){var i,a;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:yt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:tt,!0)),bt.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(a=tt.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return n.find(t);this.length=1,this[0]=a}return this.context=tt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?n.ready(t):(t.selector!==o&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ct.call(this)},get:function(t){return null==t?this.toArray():t<0?this[this.length+t]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return pt.each(this,t,e)},ready:function(t){return pt.ready.promise().done(t),this},slice:function(){return this.pushStack(ct.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:lt,sort:[].sort,splice:[].splice},pt.fn.init.prototype=pt.fn,pt.extend=pt.fn.extend=function(){var t,e,n,i,a,s,r=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[1]||{},l=2),"object"==typeof r||pt.isFunction(r)||(r={}),c===l&&(r=this,--l);l<c;l++)if(null!=(a=arguments[l]))for(i in a)t=r[i],n=a[i],r!==n&&(u&&n&&(pt.isPlainObject(n)||(e=pt.isArray(n)))?(e?(e=!1,s=t&&pt.isArray(t)?t:[]):s=t&&pt.isPlainObject(t)?t:{},r[i]=pt.extend(u,s,n)):n!==o&&(r[i]=n));return r},pt.extend({noConflict:function(t){return r.$===pt&&(r.$=it),t&&r.jQuery===pt&&(r.jQuery=nt),pt},isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){if(t===!0?!--pt.readyWait:!pt.isReady){if(!tt.body)return s(pt.ready);pt.isReady=!0,t!==!0&&--pt.readyWait>0||(Y.resolveWith(tt,[pt]),pt.fn.trigger&&pt(tt).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?at[ht.call(t)]||"object":typeof t},isPlainObject:function(t){if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var e;for(e in t);return e===o||dt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||tt;var i=bt.exec(t),a=!n&&[];return i?[e.createElement(i[1])]:(i=pt.buildFragment([t],e,a),a&&pt(a).remove(),pt.merge([],i.childNodes))},parseJSON:function(t){return r.JSON&&r.JSON.parse?r.JSON.parse(t):null===t?t:"string"==typeof t&&(t=pt.trim(t),t&&_t.test(t.replace(xt,"@").replace(kt,"]").replace(wt,"")))?new Function("return "+t)():void pt.error("Invalid JSON: "+t)},parseXML:function(t){var e,n;if(!t||"string"!=typeof t)return null;try{r.DOMParser?(n=new DOMParser,e=n.parseFromString(t,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t))}catch(t){e=o}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+t),e},noop:function(){},globalEval:function(t){t&&pt.trim(t)&&(r.execScript||function(t){r.eval.call(r,t)})(t)},camelCase:function(t){return t.replace(Et,"ms-").replace(Tt,Ct)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i,a=0,s=t.length,r=l(t);if(n){if(r)for(;a<s&&(i=e.apply(t[a],n),i!==!1);a++);else for(a in t)if(i=e.apply(t[a],n),i===!1)break}else if(r)for(;a<s&&(i=e.call(t[a],a,t[a]),i!==!1);a++);else for(a in t)if(i=e.call(t[a],a,t[a]),i===!1)break;return t},trim:ft&&!ft.call("\ufeff ")?function(t){return null==t?"":ft.call(t)}:function(t){return null==t?"":(t+"").replace(mt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(l(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):lt.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(ut)return ut.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){var n=e.length,i=t.length,a=0;if("number"==typeof n)for(;a<n;a++)t[i++]=e[a];else for(;e[a]!==o;)t[i++]=e[a++];return t.length=i,t},grep:function(t,e,n){var i,a=[],s=0,r=t.length;for(n=!!n;s<r;s++)i=!!e(t[s],s),n!==i&&a.push(t[s]);return a},map:function(t,e,n){var i,a=0,s=t.length,r=l(t),o=[];if(r)for(;a<s;a++)i=e(t[a],a,n),null!=i&&(o[o.length]=i);else for(a in t)i=e(t[a],a,n),null!=i&&(o[o.length]=i);return ot.apply([],o)},guid:1,proxy:function(t,e){var n,i,a;return"string"==typeof e&&(a=t[e],e=t,t=a),pt.isFunction(t)?(n=ct.call(arguments,2),i=function(){return t.apply(e||this,n.concat(ct.call(arguments)))},i.guid=t.guid=t.guid||pt.guid++,i):o},access:function(t,e,n,i,a,s,r){
var l=0,c=t.length,u=null==n;if("object"===pt.type(n)){a=!0;for(l in n)pt.access(t,e,l,n[l],!0,s,r)}else if(i!==o&&(a=!0,pt.isFunction(i)||(r=!0),u&&(r?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(pt(t),n)})),e))for(;l<c;l++)e(t[l],n,r?i:i.call(t[l],l,e(t[l],n)));return a?t:u?e.call(t):c?e(t[0],n):s},now:function(){return(new Date).getTime()}}),pt.ready.promise=function(t){if(!Y)if(Y=pt.Deferred(),"complete"===tt.readyState)s(pt.ready);else if(tt.addEventListener)tt.addEventListener("DOMContentLoaded",St,!1),r.addEventListener("load",St,!1);else{tt.attachEvent("onreadystatechange",St),r.attachEvent("onload",St);var e=!1;try{e=null==r.frameElement&&tt.documentElement}catch(t){}e&&e.doScroll&&!function t(){if(!pt.isReady){try{e.doScroll("left")}catch(e){return s(t,50)}Lt(),pt.ready()}}()}return Y.promise(t)},pt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){at["[object "+e+"]"]=e.toLowerCase()}),Q=pt(tt);var At={};pt.Callbacks=function(t){t="string"==typeof t?At[t]||c(t):pt.extend({},t);var e,n,i,a,s,r,l=[],u=!t.once&&[],h=function(o){for(n=t.memory&&o,i=!0,s=r||0,r=0,a=l.length,e=!0;l&&s<a;s++)if(l[s].apply(o[0],o[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(u?u.length&&h(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function e(n){pt.each(n,function(n,i){var a=pt.type(i);"function"===a?t.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==a&&e(i)})}(arguments),e?a=l.length:n&&(r=i,h(n))}return this},remove:function(){return l&&pt.each(arguments,function(t,n){for(var i;(i=pt.inArray(n,l,i))>-1;)l.splice(i,1),e&&(i<=a&&a--,i<=s&&s--)}),this},has:function(t){return t?pt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],this},disable:function(){return l=u=n=o,this},disabled:function(){return!l},lock:function(){return u=o,n||d.disable(),this},locked:function(){return!u},fireWith:function(t,n){return n=n||[],n=[t,n.slice?n.slice():n],!l||i&&!u||(e?u.push(n):h(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(n){pt.each(e,function(e,s){var r=s[0],o=pt.isFunction(t[e])&&t[e];a[s[1]](function(){var t=o&&o.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r+"With"](this===i?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,i):i}},a={};return i.pipe=i.then,pt.each(e,function(t,s){var r=s[2],o=s[3];i[s[1]]=r.add,o&&r.add(function(){n=o},e[1^t][2].disable,e[2][2].lock),a[s[0]]=function(){return a[s[0]+"With"](this===a?i:this,arguments),this},a[s[0]+"With"]=r.fireWith}),i.promise(a),t&&t.call(a,a),a},when:function(t){var e,n,i,a=0,s=ct.call(arguments),r=s.length,o=1!==r||t&&pt.isFunction(t.promise)?r:0,l=1===o?t:pt.Deferred(),c=function(t,n,i){return function(a){n[t]=this,i[t]=arguments.length>1?ct.call(arguments):a,i===e?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(r>1)for(e=new Array(r),n=new Array(r),i=new Array(r);a<r;a++)s[a]&&pt.isFunction(s[a].promise)?s[a].promise().done(c(a,i,s)).fail(l.reject).progress(c(a,n,e)):--o;return o||l.resolveWith(i,s),l.promise()}}),pt.support=function(){var t,e,n,i,a,s,o,l,c,u,h=tt.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=h.getElementsByTagName("*"),n=h.getElementsByTagName("a")[0],!e||!n||!e.length)return{};a=tt.createElement("select"),o=a.appendChild(tt.createElement("option")),i=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!i.value,optSelected:o.selected,enctype:!!tt.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==tt.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===tt.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(e){t.deleteExpando=!1}i=tt.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),s=tt.createDocumentFragment(),s.appendChild(i),t.appendChecked=i.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in r||h.attributes[l].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip,pt(function(){var e,n,i,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=tt.getElementsByTagName("body")[0];s&&(e=tt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(e).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=h.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===h.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,r.getComputedStyle&&(t.pixelPosition="1%"!==(r.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(r.getComputedStyle(h,null)||{width:"4px"}).width,n=h.appendChild(tt.createElement("div")),n.style.cssText=h.style.cssText=a,n.style.marginRight=n.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((r.getComputedStyle(n,null)||{}).marginRight)),typeof h.style.zoom!==Z&&(h.innerHTML="",h.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(e),e=h=i=n=null)}),e=a=s=o=n=i=null,t}();var Nt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,qt=/([A-Z])/g;pt.extend({cache:{},expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando],!!t&&!f(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&pt.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),pt.fn.extend({data:function(t,e){var n,i,a=this[0],s=0,r=null;if(t===o){if(this.length&&(r=pt.data(a),1===a.nodeType&&!pt._data(a,"parsedAttrs"))){for(n=a.attributes;s<n.length;s++)i=n[s].name,i.indexOf("data-")||(i=pt.camelCase(i.slice(5)),d(a,i,r[i]));pt._data(a,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){pt.data(this,t)}):pt.access(this,function(e){return e===o?a?d(a,t,pt.data(a,t)):null:void this.each(function(){pt.data(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=pt._data(t,e),n&&(!i||pt.isArray(n)?i=pt._data(t,e,pt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,a=n.shift(),s=pt._queueHooks(t,e),r=function(){pt.dequeue(t,e)};"inprogress"===a&&(a=n.shift(),i--),s.cur=a,a&&("fx"===e&&n.unshift("inprogress"),delete s.stop,a.call(t,r,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return pt._data(t,n)||pt._data(t,n,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,n)})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):e===o?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},delay:function(t,e){return t=pt.fx?pt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=s(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,a=pt.Deferred(),s=this,r=this.length,l=function(){--i||a.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=o),t=t||"fx";r--;)n=pt._data(s[r],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(l));return l(),a.promise(e)}});var It,Mt,Dt=/[\t\r\n]/g,Rt=/\r/g,Pt=/^(?:input|select|textarea|button|object)$/i,Ot=/^(?:a|area)$/i,jt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,$t=/^(?:checked|selected)$/i,Ft=pt.support.getSetAttribute,Ht=pt.support.input;pt.fn.extend({attr:function(t,e){return pt.access(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})},prop:function(t,e){return pt.access(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=o,delete this[t]}catch(t){}})},addClass:function(t){var e,n,i,a,s,r=0,o=this.length,l="string"==typeof t&&t;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(gt)||[];r<o;r++)if(n=this[r],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(s=0;a=e[s++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");n.className=pt.trim(i)}return this},removeClass:function(t){var e,n,i,a,s,r=0,o=this.length,l=0===arguments.length||"string"==typeof t&&t;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(gt)||[];r<o;r++)if(n=this[r],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(s=0;a=e[s++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");n.className=t?pt.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return pt.isFunction(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var a,s=0,r=pt(this),o=e,l=t.match(gt)||[];a=l[s++];)o=i?o:!r.hasClass(a),r[o?"addClass":"removeClass"](a);else n!==Z&&"boolean"!==n||(this.className&&pt._data(this,"__className__",this.className),this.className=this.className||t===!1?"":pt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(e)>=0)return!0;return!1},val:function(t){var e,n,i,a=this[0];{if(arguments.length)return i=pt.isFunction(t),this.each(function(e){var a,s=pt(this);1===this.nodeType&&(a=i?t.call(this,e,s.val()):t,null==a?a="":"number"==typeof a?a+="":pt.isArray(a)&&(a=pt.map(a,function(t){return null==t?"":t+""})),n=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==o||(this.value=a))});if(a)return n=pt.valHooks[a.type]||pt.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(e=n.get(a,"value"))!==o?e:(e=a.value,"string"==typeof e?e.replace(Rt,""):null==e?"":e)}}}),pt.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,a=t.selectedIndex,s="select-one"===t.type||a<0,r=s?null:[],o=s?a+1:i.length,l=a<0?o:s?a:0;l<o;l++)if(n=i[l],(n.selected||l===a)&&(pt.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pt.nodeName(n.parentNode,"optgroup"))){if(e=pt(n).val(),s)return e;r.push(e)}return r},set:function(t,e){var n=pt.makeArray(e);return pt(t).find("option").each(function(){this.selected=pt.inArray(pt(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attr:function(t,e,n){var i,a,s,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===Z?pt.prop(t,e,n):(a=1!==r||!pt.isXMLDoc(t),a&&(e=e.toLowerCase(),i=pt.attrHooks[e]||(jt.test(e)?Mt:It)),n===o?i&&a&&"get"in i&&null!==(s=i.get(t,e))?s:(typeof t.getAttribute!==Z&&(s=t.getAttribute(e)),null==s?o:s):null!==n?i&&a&&"set"in i&&(s=i.set(t,n,e))!==o?s:(t.setAttribute(e,n+""),n):void pt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,a=0,s=e&&e.match(gt);if(s&&1===t.nodeType)for(;n=s[a++];)i=pt.propFix[n]||n,jt.test(n)?!Ft&&$t.test(n)?t[pt.camelCase("default-"+n)]=t[i]=!1:t[i]=!1:pt.attr(t,n,""),t.removeAttribute(Ft?n:i)},attrHooks:{type:{set:function(t,e){if(!pt.support.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,e,n){var i,a,s,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return s=1!==r||!pt.isXMLDoc(t),s&&(e=pt.propFix[e]||e,a=pt.propHooks[e]),n!==o?a&&"set"in a&&(i=a.set(t,n,e))!==o?i:t[e]=n:a&&"get"in a&&null!==(i=a.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=t.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):Pt.test(t.nodeName)||Ot.test(t.nodeName)&&t.href?0:o}}}}),Mt={get:function(t,e){var n=pt.prop(t,e),i="boolean"==typeof n&&t.getAttribute(e),a="boolean"==typeof n?Ht&&Ft?null!=i:$t.test(e)?t[pt.camelCase("default-"+e)]:!!i:t.getAttributeNode(e);return a&&a.value!==!1?e.toLowerCase():o},set:function(t,e,n){return e===!1?pt.removeAttr(t,n):Ht&&Ft||!$t.test(n)?t.setAttribute(!Ft&&pt.propFix[n]||n,n):t[pt.camelCase("default-"+n)]=t[n]=!0,n}},Ht&&Ft||(pt.attrHooks.value={get:function(t,e){var n=t.getAttributeNode(e);return pt.nodeName(t,"input")?t.defaultValue:n&&n.specified?n.value:o},set:function(t,e,n){return pt.nodeName(t,"input")?void(t.defaultValue=e):It&&It.set(t,e,n)}}),Ft||(It=pt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&("id"===e||"name"===e||"coords"===e?""!==n.value:n.specified)?n.value:o},set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:o}},pt.attrHooks.contenteditable={get:It.get,set:function(t,e,n){It.set(t,""!==e&&e,n)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]=pt.extend(pt.attrHooks[e],{set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}})})),pt.support.hrefNormalized||(pt.each(["href","src","width","height"],function(t,e){pt.attrHooks[e]=pt.extend(pt.attrHooks[e],{get:function(t){var n=t.getAttribute(e,2);return null==n?o:n}})}),pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),pt.support.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||o},set:function(t,e){return t.style.cssText=e+""}}),pt.support.optSelected||(pt.propHooks.selected=pt.extend(pt.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),pt.support.enctype||(pt.propFix.enctype="encoding"),pt.support.checkOn||pt.each(["radio","checkbox"],function(){pt.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]=pt.extend(pt.valHooks[this],{set:function(t,e){if(pt.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>=0}})});var Ut=/^(?:input|select|textarea)$/i,Bt=/^key/,zt=/^(?:mouse|contextmenu)|click/,Wt=/^(?:focusinfocus|focusoutblur)$/,Vt=/^([^.]*)(?:\.(.+)|)$/;pt.event={global:{},add:function(t,e,n,i,a){var s,r,l,c,u,h,d,f,p,v,g,m=pt._data(t);if(m){for(n.handler&&(c=n,n=c.handler,a=c.selector),n.guid||(n.guid=pt.guid++),(r=m.events)||(r=m.events={}),(h=m.handle)||(h=m.handle=function(t){return typeof pt===Z||t&&pt.event.triggered===t.type?o:pt.event.dispatch.apply(h.elem,arguments)},h.elem=t),e=(e||"").match(gt)||[""],l=e.length;l--;)s=Vt.exec(e[l])||[],p=g=s[1],v=(s[2]||"").split(".").sort(),u=pt.event.special[p]||{},p=(a?u.delegateType:u.bindType)||p,u=pt.event.special[p]||{},d=pt.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&pt.expr.match.needsContext.test(a),namespace:v.join(".")},c),(f=r[p])||(f=r[p]=[],f.delegateCount=0,u.setup&&u.setup.call(t,i,v,h)!==!1||(t.addEventListener?t.addEventListener(p,h,!1):t.attachEvent&&t.attachEvent("on"+p,h))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,d):f.push(d),pt.event.global[p]=!0;t=null}},remove:function(t,e,n,i,a){var s,r,o,l,c,u,h,d,f,p,v,g=pt.hasData(t)&&pt._data(t);if(g&&(u=g.events)){for(e=(e||"").match(gt)||[""],c=e.length;c--;)if(o=Vt.exec(e[c])||[],f=v=o[1],p=(o[2]||"").split(".").sort(),f){for(h=pt.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=u[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=d.length;s--;)r=d[s],!a&&v!==r.origType||n&&n.guid!==r.guid||o&&!o.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(d.splice(s,1),r.selector&&d.delegateCount--,h.remove&&h.remove.call(t,r));l&&!d.length&&(h.teardown&&h.teardown.call(t,p,g.handle)!==!1||pt.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)pt.event.remove(t,f+e[c],n,i,!0);pt.isEmptyObject(u)&&(delete g.handle,pt._removeData(t,"events"))}},trigger:function(t,e,n,i){var a,s,l,c,u,h,d,f=[n||tt],p=dt.call(t,"type")?t.type:t,v=dt.call(t,"namespace")?t.namespace.split("."):[];if(l=h=n=n||tt,3!==n.nodeType&&8!==n.nodeType&&!Wt.test(p+pt.event.triggered)&&(p.indexOf(".")>=0&&(v=p.split("."),p=v.shift(),v.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[pt.expando]?t:new pt.Event(p,"object"==typeof t&&t),t.isTrigger=!0,t.namespace=v.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=o,t.target||(t.target=n),e=null==e?[t]:pt.makeArray(e,[t]),u=pt.event.special[p]||{},i||!u.trigger||u.trigger.apply(n,e)!==!1)){if(!i&&!u.noBubble&&!pt.isWindow(n)){for(c=u.delegateType||p,Wt.test(c+p)||(l=l.parentNode);l;l=l.parentNode)f.push(l),h=l;h===(n.ownerDocument||tt)&&f.push(h.defaultView||h.parentWindow||r)}for(d=0;(l=f[d++])&&!t.isPropagationStopped();)t.type=d>1?c:u.bindType||p,a=(pt._data(l,"events")||{})[t.type]&&pt._data(l,"handle"),a&&a.apply(l,e),a=s&&l[s],a&&pt.acceptData(l)&&a.apply&&a.apply(l,e)===!1&&t.preventDefault();if(t.type=p,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(n.ownerDocument,e)===!1)&&("click"!==p||!pt.nodeName(n,"a"))&&pt.acceptData(n)&&s&&n[p]&&!pt.isWindow(n)){h=n[s],h&&(n[s]=null),pt.event.triggered=p;try{n[p]()}catch(t){}pt.event.triggered=o,h&&(n[s]=h)}return t.result}},dispatch:function(t){t=pt.event.fix(t);var e,n,i,a,s,r=[],l=ct.call(arguments),c=(pt._data(this,"events")||{})[t.type]||[],u=pt.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(r=pt.event.handlers.call(this,t,c),e=0;(a=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=a.elem,s=0;(i=a.handlers[s++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(i.namespace)||(t.handleObj=i,t.data=i.data,n=((pt.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l),n!==o&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,a,s,r=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(a=[],s=0;s<l;s++)i=e[s],n=i.selector+" ",a[n]===o&&(a[n]=i.needsContext?pt(n,this).index(c)>=0:pt.find(n,this,null,[c]).length),a[n]&&a.push(i);a.length&&r.push({elem:c,handlers:a})}return l<e.length&&r.push({elem:this,handlers:e.slice(l)}),r},fix:function(t){if(t[pt.expando])return t;var e,n,i,a=t.type,s=t,r=this.fixHooks[a];for(r||(this.fixHooks[a]=r=zt.test(a)?this.mouseHooks:Bt.test(a)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,t=new pt.Event(s),e=i.length;e--;)n=i[e],t[n]=s[n];return t.target||(t.target=s.srcElement||tt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,s):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,a,s=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||tt,a=i.documentElement,n=i.body,t.pageX=e.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||s===o||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},click:{trigger:function(){if(pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==tt.activeElement&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===tt.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(t){t.result!==o&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var a=pt.extend(new pt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?pt.event.trigger(a,null,e):pt.event.dispatch.call(e,a),a.isDefaultPrevented()&&n.preventDefault()}},pt.removeEvent=tt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Z&&(t[i]=null),t.detachEvent(i,n))},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?p:v):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p,this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,a=t.relatedTarget,s=t.handleObj;return a&&(a===i||pt.contains(i,a))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),pt.support.submitBubbles||(pt.event.special.submit={setup:function(){return!pt.nodeName(this,"form")&&void pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=pt.nodeName(e,"input")||pt.nodeName(e,"button")?e.form:o;n&&!pt._data(n,"submitBubbles")&&(pt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),pt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!pt.nodeName(this,"form")&&void pt.event.remove(this,"._submit")}}),pt.support.changeBubbles||(pt.event.special.change={setup:function(){return Ut.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),pt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),pt.event.simulate("change",this,t,!0)})),!1):void pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ut.test(e.nodeName)&&!pt._data(e,"changeBubbles")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t,!0)}),pt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return pt.event.remove(this,"._change"),!Ut.test(this.nodeName)}}),pt.support.focusinBubbles||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t),!0)};pt.event.special[e]={setup:function(){0===n++&&tt.addEventListener(t,i,!0)},teardown:function(){0===--n&&tt.removeEventListener(t,i,!0)}}}),pt.fn.extend({on:function(t,e,n,i,a){var s,r;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=o);for(s in t)this.on(s,e,n,t[s],a);return this}if(null==n&&null==i?(i=e,n=e=o):null==i&&("string"==typeof e?(i=n,n=o):(i=n,n=e,e=o)),i===!1)i=v;else if(!i)return this;return 1===a&&(r=i,i=function(t){return pt().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=pt.guid++)),this.each(function(){pt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,a;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=o),n===!1&&(n=v),this.each(function(){pt.event.remove(this,t,n,e)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return pt.event.trigger(t,e,n,!0)}}),function(t,e){function n(t){return ft.test(t+"")}function i(){var t,e=[];return t=function(n,i){return e.push(n+=" ")>E.cacheLength&&delete t[e.shift()],t[n]=i}}function a(t){return t[$]=!0,t}function s(t){var e=q.createElement("div");try{return t(e)}catch(t){return!1}finally{e=null}}function r(t,e,n,i){var a,s,r,o,l,c,u,f,p,v;if((e?e.ownerDocument||e:F)!==q&&N(e),e=e||q,n=n||[],!t||"string"!=typeof t)return n;if(1!==(o=e.nodeType)&&9!==o)return[];if(!M&&!i){if(a=vt.exec(t))if(r=a[1]){if(9===o){if(s=e.getElementById(r),!s||!s.parentNode)return n;if(s.id===r)return n.push(s),n}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(r))&&O(e,s)&&s.id===r)return n.push(s),n}else{if(a[2])return Y.apply(n,Q.call(e.getElementsByTagName(t),0)),n;if((r=a[3])&&H.getByClassName&&e.getElementsByClassName)return Y.apply(n,Q.call(e.getElementsByClassName(r),0)),n}if(H.qsa&&!D.test(t)){if(u=!0,f=$,p=e,v=9===o&&t,1===o&&"object"!==e.nodeName.toLowerCase()){for(c=h(t),(u=e.getAttribute("id"))?f=u.replace(yt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+d(c[l]);p=dt.test(t)&&e.parentNode||e,v=c.join(",")}if(v)try{return Y.apply(n,Q.call(p.querySelectorAll(v),0)),n}catch(t){}finally{u||e.removeAttribute("id")}}}return _(t.replace(rt,"$1"),e,n,i)}function o(t,e){var n=e&&t,i=n&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return a(function(e){return e=+e,a(function(n,i){for(var a,s=t([],n.length,e),r=s.length;r--;)n[a=s[r]]&&(n[a]=!(i[a]=n[a]))})})}function h(t,e){var n,i,a,s,o,l,c,u=W[t+" "];if(u)return e?0:u.slice(0);for(o=t,l=[],c=E.preFilter;o;){n&&!(i=ot.exec(o))||(i&&(o=o.slice(i[0].length)||o),l.push(a=[])),n=!1,(i=lt.exec(o))&&(n=i.shift(),a.push({value:n,type:i[0].replace(rt," ")}),o=o.slice(n.length));for(s in E.filter)!(i=ht[s].exec(o))||c[s]&&!(i=c[s](i))||(n=i.shift(),a.push({value:n,type:s,matches:i}),o=o.slice(n.length));if(!n)break}return e?o.length:o?r.error(t):W(t,l).slice(0)}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,a=n&&"parentNode"===i,s=B++;return e.first?function(e,n,s){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,s)}:function(e,n,r){var o,l,c,u=U+" "+s;if(r){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,r))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(c=e[$]||(e[$]={}),(l=c[i])&&l[0]===u){if((o=l[1])===!0||o===k)return o===!0}else if(l=c[i]=[u],l[1]=t(e,n,r)||k,l[1]===!0)return!0}}function p(t){return t.length>1?function(e,n,i){for(var a=t.length;a--;)if(!t[a](e,n,i))return!1;return!0}:t[0]}function v(t,e,n,i,a){for(var s,r=[],o=0,l=t.length,c=null!=e;o<l;o++)(s=t[o])&&(n&&!n(s,i,a)||(r.push(s),c&&e.push(o)));return r}function g(t,e,n,i,s,r){return i&&!i[$]&&(i=g(i)),s&&!s[$]&&(s=g(s,r)),a(function(a,r,o,l){var c,u,h,d=[],f=[],p=r.length,g=a||b(e||"*",o.nodeType?[o]:o,[]),m=!t||!a&&e?g:v(g,d,t,o,l),y=n?s||(a?t:p||i)?[]:r:m;if(n&&n(m,y,o,l),i)for(c=v(y,f),i(c,[],o,l),u=c.length;u--;)(h=c[u])&&(y[f[u]]=!(m[f[u]]=h));if(a){if(s||t){if(s){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(m[u]=h);s(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=s?Z.call(a,h):d[u])>-1&&(a[c]=!(r[c]=h))}}else y=v(y===r?y.splice(p,y.length):y),s?s(null,r,y,l):Y.apply(r,y)})}function m(t){for(var e,n,i,a=t.length,s=E.relative[t[0].type],r=s||E.relative[" "],o=s?1:0,l=f(function(t){return t===e},r,!0),c=f(function(t){return Z.call(e,t)>-1},r,!0),u=[function(t,n,i){return!s&&(i||n!==A)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];o<a;o++)if(n=E.relative[t[o].type])u=[f(p(u),n)];else{if(n=E.filter[t[o].type].apply(null,t[o].matches),n[$]){for(i=++o;i<a&&!E.relative[t[i].type];i++);return g(o>1&&p(u),o>1&&d(t.slice(0,o-1)).replace(rt,"$1"),n,o<i&&m(t.slice(o,i)),i<a&&m(t=t.slice(i)),i<a&&d(t))}u.push(n)}return p(u)}function y(t,e){var n=0,i=e.length>0,s=t.length>0,o=function(a,o,l,c,u){var h,d,f,p=[],g=0,m="0",y=a&&[],b=null!=u,_=A,w=a||s&&E.find.TAG("*",u&&o.parentNode||o),x=U+=null==_?1:Math.random()||.1;for(b&&(A=o!==q&&o,k=n);null!=(h=w[m]);m++){if(s&&h){for(d=0;f=t[d++];)if(f(h,o,l)){c.push(h);break}b&&(U=x,k=++n)}i&&((h=!f&&h)&&g--,a&&y.push(h))}if(g+=m,i&&m!==g){for(d=0;f=e[d++];)f(y,p,o,l);
if(a){if(g>0)for(;m--;)y[m]||p[m]||(p[m]=K.call(c));p=v(p)}Y.apply(c,p),b&&!a&&p.length>0&&g+e.length>1&&r.uniqueSort(c)}return b&&(U=x,A=_),y};return i?a(o):o}function b(t,e,n){for(var i=0,a=e.length;i<a;i++)r(t,e[i],n);return n}function _(t,e,n,i){var a,s,r,o,l,c=h(t);if(!i&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&9===e.nodeType&&!M&&E.relative[s[1].type]){if(e=E.find.ID(r.matches[0].replace(_t,wt),e)[0],!e)return n;t=t.slice(s.shift().value.length)}for(a=ht.needsContext.test(t)?0:s.length;a--&&(r=s[a],!E.relative[o=r.type]);)if((l=E.find[o])&&(i=l(r.matches[0].replace(_t,wt),dt.test(s[0].type)&&e.parentNode||e))){if(s.splice(a,1),t=i.length&&d(s),!t)return Y.apply(n,Q.call(i,0)),n;break}}return S(t,c)(i,e,M,n,dt.test(t)),n}function w(){}var x,k,E,T,C,S,L,A,N,q,I,M,D,R,P,O,j,$="sizzle"+-new Date,F=t.document,H={},U=0,B=0,z=i(),W=i(),V=i(),J=typeof e,X=1<<31,G=[],K=G.pop,Y=G.push,Q=G.slice,Z=G.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=et.replace("w","w#"),it="([*^$|!~]?=)",at="\\["+tt+"*("+et+")"+tt+"*(?:"+it+tt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+tt+"*\\]",st=":("+et+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",rt=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),lt=new RegExp("^"+tt+"*([\\x20\\t\\r\\n\\f>+~])"+tt+"*"),ct=new RegExp(st),ut=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),NAME:new RegExp("^\\[name=['\"]?("+et+")['\"]?\\]"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,_t=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(t,e){var n="0x"+e-65536;return n!==n?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.call(F.documentElement.childNodes,0)[0].nodeType}catch(t){Q=function(t){for(var e,n=[];e=this[t++];)n.push(e);return n}}C=r.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=r.setDocument=function(t){var i=t?t.ownerDocument||t:F;return i!==q&&9===i.nodeType&&i.documentElement?(q=i,I=i.documentElement,M=C(i),H.tagNameNoComments=s(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),H.attributes=s(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),H.getByClassName=s(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!t.getElementsByClassName||!t.getElementsByClassName("e").length)&&(t.lastChild.className="e",2===t.getElementsByClassName("e").length)}),H.getByName=s(function(t){t.id=$+0,t.innerHTML="<a name='"+$+"'></a><div name='"+$+"'></div>",I.insertBefore(t,I.firstChild);var e=i.getElementsByName&&i.getElementsByName($).length===2+i.getElementsByName($+0).length;return H.getIdNotName=!i.getElementById($),I.removeChild(t),e}),E.attrHandle=s(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==J&&"#"===t.firstChild.getAttribute("href")})?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},H.getIdNotName?(E.find.ID=function(t,e){if(typeof e.getElementById!==J&&!M){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){return t.getAttribute("id")===e}}):(E.find.ID=function(t,n){if(typeof n.getElementById!==J&&!M){var i=n.getElementById(t);return i?i.id===t||typeof i.getAttributeNode!==J&&i.getAttributeNode("id").value===t?[i]:e:[]}},E.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){var n=typeof t.getAttributeNode!==J&&t.getAttributeNode("id");return n&&n.value===e}}),E.find.TAG=H.tagNameNoComments?function(t,e){if(typeof e.getElementsByTagName!==J)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],a=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[a++];)1===n.nodeType&&i.push(n);return i}return s},E.find.NAME=H.getByName&&function(t,e){if(typeof e.getElementsByName!==J)return e.getElementsByName(name)},E.find.CLASS=H.getByClassName&&function(t,e){if(typeof e.getElementsByClassName!==J&&!M)return e.getElementsByClassName(t)},R=[],D=[":focus"],(H.qsa=n(i.querySelectorAll))&&(s(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||D.push("\\["+tt+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||D.push(":checked")}),s(function(t){t.innerHTML="<input type='hidden' i=''/>",t.querySelectorAll("[i^='']").length&&D.push("[*^$]="+tt+"*(?:\"\"|'')"),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(H.matchesSelector=n(P=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&s(function(t){H.disconnectedMatch=P.call(t,"div"),P.call(t,"[s!='']:x"),R.push("!=",st)}),D=new RegExp(D.join("|")),R=new RegExp(R.join("|")),O=n(I.contains)||I.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},j=I.compareDocumentPosition?function(t,e){var n;return t===e?(L=!0,0):(n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e))?1&n||t.parentNode&&11===t.parentNode.nodeType?t===i||O(F,t)?-1:e===i||O(F,e)?1:0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,a=0,s=t.parentNode,r=e.parentNode,l=[t],c=[e];if(t===e)return L=!0,0;if(!s||!r)return t===i?-1:e===i?1:s?-1:r?1:0;if(s===r)return o(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[a]===c[a];)a++;return a?o(l[a],c[a]):l[a]===F?-1:c[a]===F?1:0},L=!1,[0,0].sort(j),H.detectDuplicates=L,q):q},r.matches=function(t,e){return r(t,null,null,e)},r.matchesSelector=function(t,e){if((t.ownerDocument||t)!==q&&N(t),e=e.replace(bt,"='$1']"),H.matchesSelector&&!M&&(!R||!R.test(e))&&!D.test(e))try{var n=P.call(t,e);if(n||H.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return r(e,q,null,[t]).length>0},r.contains=function(t,e){return(t.ownerDocument||t)!==q&&N(t),O(t,e)},r.attr=function(t,e){var n;return(t.ownerDocument||t)!==q&&N(t),M||(e=e.toLowerCase()),(n=E.attrHandle[e])?n(t):M||H.attributes?t.getAttribute(e):((n=t.getAttributeNode(e))||t.getAttribute(e))&&t[e]===!0?e:n&&n.specified?n.value:null},r.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},r.uniqueSort=function(t){var e,n=[],i=1,a=0;if(L=!H.detectDuplicates,t.sort(j),L){for(;e=t[i];i++)e===t[i-1]&&(a=n.push(i));for(;a--;)t.splice(n[a],1)}return t},T=r.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i];i++)n+=T(e);return n},E=r.selectors={cacheLength:50,createPseudo:a,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,wt),t[3]=(t[4]||t[5]||"").replace(_t,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||r.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&r.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return ht.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:n&&ct.test(n)&&(e=h(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(_t,wt).toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&z(t,function(t){return e.test(t.className||typeof t.getAttribute!==J&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var a=r.attr(i,t);return null==a?"!="===e:!e||(a+="","="===e?a===n:"!="===e?a!==n:"^="===e?n&&0===a.indexOf(n):"*="===e?n&&a.indexOf(n)>-1:"$="===e?n&&a.slice(-n.length)===n:"~="===e?(" "+a+" ").indexOf(n)>-1:"|="===e&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,a){var s="nth"!==t.slice(0,3),r="last"!==t.slice(-4),o="of-type"===e;return 1===i&&0===a?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p,v=s!==r?"nextSibling":"previousSibling",g=e.parentNode,m=o&&e.nodeName.toLowerCase(),y=!l&&!o;if(g){if(s){for(;v;){for(h=e;h=h[v];)if(o?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=v="only"===t&&!p&&"nextSibling"}return!0}if(p=[r?g.firstChild:g.lastChild],r&&y){for(u=g[$]||(g[$]={}),c=u[t]||[],f=c[0]===U&&c[1],d=c[0]===U&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[v]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[U,f,d];break}}else if(y&&(c=(e[$]||(e[$]={}))[t])&&c[0]===U)d=c[1];else for(;(h=++f&&h&&h[v]||(d=f=0)||p.pop())&&((o?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++d||(y&&((h[$]||(h[$]={}))[t]=[U,d]),h!==e)););return d-=a,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,e){var n,i=E.pseudos[t]||E.setFilters[t.toLowerCase()]||r.error("unsupported pseudo: "+t);return i[$]?i(e):i.length>1?(n=[t,t,"",e],E.setFilters.hasOwnProperty(t.toLowerCase())?a(function(t,n){for(var a,s=i(t,e),r=s.length;r--;)a=Z.call(t,s[r]),t[a]=!(n[a]=s[r])}):function(t){return i(t,0,n)}):i}},pseudos:{not:a(function(t){var e=[],n=[],i=S(t.replace(rt,"$1"));return i[$]?a(function(t,e,n,a){for(var s,r=i(t,null,a,[]),o=t.length;o--;)(s=r[o])&&(t[o]=!(e[o]=s))}):function(t,a,s){return e[0]=t,i(e,null,s,n),!n.pop()}}),has:a(function(t){return function(e){return r(t,e).length>0}}),contains:a(function(t){return function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:a(function(t){return ut.test(t||"")||r.error("unsupported lang: "+t),t=t.replace(_t,wt).toLowerCase(),function(e){var n;do if(n=M?e.getAttribute("xml:lang")||e.getAttribute("lang"):e.lang)return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})E.pseudos[x]=c(x);S=r.compile=function(t,e){var n,i=[],a=[],s=V[t+" "];if(!s){for(e||(e=h(t)),n=e.length;n--;)s=m(e[n]),s[$]?i.push(s):a.push(s);s=V(t,y(a,i))}return s},E.pseudos.nth=E.pseudos.eq,E.filters=w.prototype=E.pseudos,E.setFilters=new w,N(),r.attr=pt.attr,pt.find=r,pt.expr=r.selectors,pt.expr[":"]=pt.expr.pseudos,pt.unique=r.uniqueSort,pt.text=r.getText,pt.isXMLDoc=r.isXML,pt.contains=r.contains}(r);var Jt=/Until$/,Xt=/^(?:parents|prev(?:Until|All))/,Gt=/^.[^:#\[\.,]*$/,Kt=pt.expr.match.needsContext,Yt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({find:function(t){var e,n,i,a=this.length;if("string"!=typeof t)return i=this,this.pushStack(pt(t).filter(function(){for(e=0;e<a;e++)if(pt.contains(i[e],this))return!0}));for(n=[],e=0;e<a;e++)pt.find(t,this[e],n);return n=this.pushStack(a>1?pt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+t,n},has:function(t){var e,n=pt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(pt.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(m(this,t,!1))},filter:function(t){return this.pushStack(m(this,t,!0))},is:function(t){return!!t&&("string"==typeof t?Kt.test(t)?pt(t,this.context).index(this[0])>=0:pt.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,i=0,a=this.length,s=[],r=Kt.test(t)||"string"!=typeof t?pt(t,e||this.context):0;i<a;i++)for(n=this[i];n&&n.ownerDocument&&n!==e&&11!==n.nodeType;){if(r?r.index(n)>-1:pt.find.matchesSelector(n,t)){s.push(n);break}n=n.parentNode}return this.pushStack(s.length>1?pt.unique(s):s)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?pt(t,e):pt.makeArray(t&&t.nodeType?[t]:t),i=pt.merge(this.get(),n);return this.pushStack(pt.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.fn.andSelf=pt.fn.addBack,pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return pt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return pt.dir(t,"parentNode",n)},next:function(t){return g(t,"nextSibling")},prev:function(t){return g(t,"previousSibling")},nextAll:function(t){return pt.dir(t,"nextSibling")},prevAll:function(t){return pt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return pt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return pt.dir(t,"previousSibling",n)},siblings:function(t){return pt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return pt.sibling(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(n,i){var a=pt.map(this,e,n);return Jt.test(t)||(i=n),i&&"string"==typeof i&&(a=pt.filter(i,a)),a=this.length>1&&!Yt[t]?pt.unique(a):a,this.length>1&&Xt.test(t)&&(a=a.reverse()),this.pushStack(a)}}),pt.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?pt.find.matchesSelector(e[0],t)?[e[0]]:[]:pt.find.matches(t,e)},dir:function(t,e,n){for(var i=[],a=t[e];a&&9!==a.nodeType&&(n===o||1!==a.nodeType||!pt(a).is(n));)1===a.nodeType&&i.push(a),a=a[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Zt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Qt+")[\\s/>]","i"),ee=/^\s+/,ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ie=/<([\w:]+)/,ae=/<tbody/i,se=/<|&#?\w+;/,re=/<(?:script|style|link)/i,oe=/^(?:checkbox|radio)$/i,le=/checked\s*(?:[^=]|=\s*.checked.)/i,ce=/^$|\/(?:java|ecma)script/i,ue=/^true\/(.*)/,he=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,de={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:pt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},fe=y(tt),pe=fe.appendChild(tt.createElement("div"));de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td,pt.fn.extend({text:function(t){return pt.access(this,function(t){return t===o?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||tt).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(t,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=0;null!=(n=this[i]);i++)(!t||pt.filter(t,[n]).length>0)&&(e||1!==n.nodeType||pt.cleanData(T(n)),n.parentNode&&(e&&pt.contains(n.ownerDocument,n)&&x(T(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(T(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return pt.access(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===o)return 1===e.nodeType?e.innerHTML.replace(Zt,""):o;if("string"==typeof t&&!re.test(t)&&(pt.support.htmlSerialize||!te.test(t))&&(pt.support.leadingWhitespace||!ee.test(t))&&!de[(ie.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(ne,"<$1></$2>");try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(pt.cleanData(T(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){var e=pt.isFunction(t);return e||"string"==typeof t||(t=pt(t).not(this).detach()),this.domManip([t],!0,function(t){var e=this.nextSibling,n=this.parentNode;n&&(pt(this).remove(),n.insertBefore(t,e))})},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=ot.apply([],t);var i,a,s,r,l,c,u=0,h=this.length,d=this,f=h-1,p=t[0],v=pt.isFunction(p);if(v||!(h<=1||"string"!=typeof p||pt.support.checkClone)&&le.test(p))return this.each(function(i){var a=d.eq(i);v&&(t[0]=p.call(this,i,e?a.html():o)),a.domManip(t,e,n)});if(h&&(c=pt.buildFragment(t,this[0].ownerDocument,!1,this),i=c.firstChild,1===c.childNodes.length&&(c=i),i)){for(e=e&&pt.nodeName(i,"tr"),r=pt.map(T(c,"script"),_),s=r.length;u<h;u++)a=c,u!==f&&(a=pt.clone(a,!0,!0),s&&pt.merge(r,T(a,"script"))),n.call(e&&pt.nodeName(this[u],"table")?b(this[u],"tbody"):this[u],a,u);if(s)for(l=r[r.length-1].ownerDocument,pt.map(r,w),u=0;u<s;u++)a=r[u],ce.test(a.type||"")&&!pt._data(a,"globalEval")&&pt.contains(l,a)&&(a.src?pt.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):pt.globalEval((a.text||a.textContent||a.innerHTML||"").replace(he,"")));c=i=null}return this}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,i=0,a=[],s=pt(t),r=s.length-1;i<=r;i++)n=i===r?this:this.clone(!0),pt(s[i])[e](n),lt.apply(a,n.get());return this.pushStack(a)}}),pt.extend({clone:function(t,e,n){var i,a,s,r,o,l=pt.contains(t.ownerDocument,t);if(pt.support.html5Clone||pt.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(pe.innerHTML=t.outerHTML,pe.removeChild(s=pe.firstChild)),!(pt.support.noCloneEvent&&pt.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(i=T(s),o=T(t),r=0;null!=(a=o[r]);++r)i[r]&&E(a,i[r]);if(e)if(n)for(o=o||T(t),i=i||T(s),r=0;null!=(a=o[r]);r++)k(a,i[r]);else k(t,s);return i=T(s,"script"),i.length>0&&x(i,!l&&T(t,"script")),i=o=a=null,s},buildFragment:function(t,e,n,i){for(var a,s,r,o,l,c,u,h=t.length,d=y(e),f=[],p=0;p<h;p++)if(s=t[p],s||0===s)if("object"===pt.type(s))pt.merge(f,s.nodeType?[s]:s);else if(se.test(s)){for(o=o||d.appendChild(e.createElement("div")),l=(ie.exec(s)||["",""])[1].toLowerCase(),u=de[l]||de._default,o.innerHTML=u[1]+s.replace(ne,"<$1></$2>")+u[2],a=u[0];a--;)o=o.lastChild;if(!pt.support.leadingWhitespace&&ee.test(s)&&f.push(e.createTextNode(ee.exec(s)[0])),!pt.support.tbody)for(s="table"!==l||ae.test(s)?"<table>"!==u[1]||ae.test(s)?0:o:o.firstChild,a=s&&s.childNodes.length;a--;)pt.nodeName(c=s.childNodes[a],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(pt.merge(f,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=d.lastChild}else f.push(e.createTextNode(s));for(o&&d.removeChild(o),pt.support.appendChecked||pt.grep(T(f,"input"),C),p=0;s=f[p++];)if((!i||pt.inArray(s,i)===-1)&&(r=pt.contains(s.ownerDocument,s),o=T(d.appendChild(s),"script"),r&&x(o),n))for(a=0;s=o[a++];)ce.test(s.type||"")&&n.push(s);return o=null,d},cleanData:function(t,e){for(var n,i,a,s,r=0,o=pt.expando,l=pt.cache,c=pt.support.deleteExpando,u=pt.event.special;null!=(n=t[r]);r++)if((e||pt.acceptData(n))&&(a=n[o],s=a&&l[a])){if(s.events)for(i in s.events)u[i]?pt.event.remove(n,i):pt.removeEvent(n,i,s.handle);l[a]&&(delete l[a],c?delete n[o]:typeof n.removeAttribute!==Z?n.removeAttribute(o):n[o]=null,st.push(a))}}});var ve,ge,me,ye=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/,_e=/^(top|right|bottom|left)$/,we=/^(none|table(?!-c[ea]).+)/,xe=/^margin/,ke=new RegExp("^("+vt+")(.*)$","i"),Ee=new RegExp("^("+vt+")(?!px)[a-z%]+$","i"),Te=new RegExp("^([+-])=("+vt+")","i"),Ce={BODY:"block"},Se={position:"absolute",visibility:"hidden",display:"block"},Le={letterSpacing:0,fontWeight:400},Ae=["Top","Right","Bottom","Left"],Ne=["Webkit","O","Moz","ms"];pt.fn.extend({css:function(t,e){return pt.access(this,function(t,e,n){var i,a,s={},r=0;if(pt.isArray(e)){for(a=ge(t),i=e.length;r<i;r++)s[e[r]]=pt.css(t,e[r],!1,a);return s}return n!==o?pt.style(t,e,n):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:L(this))?pt(this).show():pt(this).hide()})}}),pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=me(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:pt.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,s,r,l=pt.camelCase(e),c=t.style;if(e=pt.cssProps[l]||(pt.cssProps[l]=S(c,l)),r=pt.cssHooks[e]||pt.cssHooks[l],n===o)return r&&"get"in r&&(a=r.get(t,!1,i))!==o?a:c[e];if(s=typeof n,"string"===s&&(a=Te.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(pt.css(t,e)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||pt.cssNumber[l]||(n+="px"),pt.support.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),r&&"set"in r&&(n=r.set(t,n,i))===o)))try{c[e]=n}catch(t){}}},css:function(t,e,n,i){var a,s,r,l=pt.camelCase(e);return e=pt.cssProps[l]||(pt.cssProps[l]=S(t.style,l)),r=pt.cssHooks[e]||pt.cssHooks[l],r&&"get"in r&&(s=r.get(t,!0,n)),s===o&&(s=me(t,e,i)),"normal"===s&&e in Le&&(s=Le[e]),""===n||n?(a=parseFloat(s),n===!0||pt.isNumeric(a)?a||0:s):s},swap:function(t,e,n,i){var a,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];a=n.apply(t,i||[]);for(s in e)t.style[s]=r[s];return a}}),r.getComputedStyle?(ge=function(t){return r.getComputedStyle(t,null)},me=function(t,e,n){var i,a,s,r=n||ge(t),l=r?r.getPropertyValue(e)||r[e]:o,c=t.style;return r&&(""!==l||pt.contains(t.ownerDocument,t)||(l=pt.style(t,e)),Ee.test(l)&&xe.test(e)&&(i=c.width,a=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=r.width,c.width=i,c.minWidth=a,c.maxWidth=s)),l}):tt.documentElement.currentStyle&&(ge=function(t){return t.currentStyle},me=function(t,e,n){var i,a,s,r=n||ge(t),l=r?r[e]:o,c=t.style;return null==l&&c&&c[e]&&(l=c[e]),Ee.test(l)&&!_e.test(e)&&(i=c.left,a=t.runtimeStyle,s=a&&a.left,s&&(a.left=t.currentStyle.left),c.left="fontSize"===e?"1em":l,l=c.pixelLeft+"px",c.left=i,s&&(a.left=s)),""===l?"auto":l}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,i){if(n)return 0===t.offsetWidth&&we.test(pt.css(t,"display"))?pt.swap(t,Se,function(){return I(t,e,i)}):I(t,e,i)},set:function(t,n,i){var a=i&&ge(t);return N(t,n,i?q(t,e,i,pt.support.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,a),a):0)}}}),pt.support.opacity||(pt.cssHooks.opacity={get:function(t,e){return be.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,a=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===pt.trim(s.replace(ye,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ye.test(s)?s.replace(ye,a):s+" "+a)}}),pt(function(){pt.support.reliableMarginRight||(pt.cssHooks.marginRight={get:function(t,e){if(e)return pt.swap(t,{display:"inline-block"},me,[t,"marginRight"])}}),!pt.support.pixelPosition&&pt.fn.position&&pt.each(["top","left"],function(t,e){pt.cssHooks[e]={get:function(t,n){if(n)return n=me(t,e),Ee.test(n)?pt(t).position()[e]+"px":n}}})}),pt.expr&&pt.expr.filters&&(pt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!pt.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||pt.css(t,"display"))},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var i=0,a={},s="string"==typeof n?n.split(" "):[n];i<4;i++)a[t+Ae[i]+e]=s[i]||s[i-2]||s[0];return a}},xe.test(t)||(pt.cssHooks[t+e].set=N)});var qe=/%20/g,Ie=/\[\]$/,Me=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&Re.test(this.nodeName)&&!De.test(t)&&(this.checked||!oe.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:n.replace(Me,"\r\n")}}).get()}}),pt.param=function(t,e){var n,i=[],a=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===o&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){a(this.name,this.value)});else for(n in t)R(n,t[n],e,a);return i.join("&").replace(qe,"+")},pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),pt.fn.hover=function(t,e){return this.mouseenter(t).mouseleave(e||t)};var Pe,Oe,je=pt.now(),$e=/\?/,Fe=/#.*$/,He=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Be=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ze=/^(?:GET|HEAD)$/,We=/^\/\//,Ve=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Je=pt.fn.load,Xe={},Ge={},Ke="*/".concat("*");try{Oe=et.href}catch(t){Oe=tt.createElement("a"),Oe.href="",Oe=Oe.href}Pe=Ve.exec(Oe.toLowerCase())||[],pt.fn.load=function(t,e,n){if("string"!=typeof t&&Je)return Je.apply(this,arguments);var i,a,s,r=this,l=t.indexOf(" ");return l>=0&&(i=t.slice(l,t.length),t=t.slice(0,l)),pt.isFunction(e)?(n=e,e=o):e&&"object"==typeof e&&(s="POST"),r.length>0&&pt.ajax({url:t,type:s,dataType:"html",data:e}).done(function(t){a=arguments,r.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){r.each(n,a||[t.responseText,e,t])}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,i,a){return pt.isFunction(n)&&(a=a||i,i=n,n=o),pt.ajax({url:t,type:e,dataType:a,data:n,success:i})}}),pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oe,type:"GET",isLocal:Be.test(Pe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":r.String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,pt.ajaxSettings),e):j(pt.ajaxSettings,t)},ajaxPrefilter:P(Xe),ajaxTransport:P(Ge),ajax:function(t,e){function n(t,e,n,i){var a,s,d,b,_,x=e;2!==w&&(w=2,c&&clearTimeout(c),h=o,l=i||"",k.readyState=t>0?4:0,n&&(b=$(f,k,n)),t>=200&&t<300||304===t?(f.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(pt.lastModified[r]=_),_=k.getResponseHeader("etag"),_&&(pt.etag[r]=_)),204===t?(a=!0,x="nocontent"):304===t?(a=!0,x="notmodified"):(a=F(f,b),x=a.state,s=a.data,d=a.error,a=!d)):(d=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(e||x)+"",a?g.resolveWith(p,[s,x,k]):g.rejectWith(p,[k,x,d]),k.statusCode(y),y=o,u&&v.trigger(a?"ajaxSuccess":"ajaxError",[k,f,a?s:d]),m.fireWith(p,[k,x]),u&&(v.trigger("ajaxComplete",[k,f]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=o),e=e||{};var i,a,r,l,c,u,h,d,f=pt.ajaxSetup({},e),p=f.context||f,v=f.context&&(p.nodeType||p.jquery)?pt(p):pt.event,g=pt.Deferred(),m=pt.Callbacks("once memory"),y=f.statusCode||{},b={},_={},w=0,x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!d)for(d={};e=Ue.exec(l);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?l:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=_[n]=_[n]||t,b[t]=e),this;
},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)y[e]=[y[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||x;return h&&h.abort(e),n(0,e),this}};if(g.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,f.url=((t||f.url||Oe)+"").replace(Fe,"").replace(We,Pe[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=pt.trim(f.dataType||"*").toLowerCase().match(gt)||[""],null==f.crossDomain&&(i=Ve.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===Pe[1]&&i[2]===Pe[2]&&(i[3]||("http:"===i[1]?80:443))==(Pe[3]||("http:"===Pe[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=pt.param(f.data,f.traditional)),O(Xe,f,e,k),2===w)return k;u=f.global,u&&0===pt.active++&&pt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ze.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=($e.test(r)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=He.test(r)?r.replace(He,"$1_="+je++):r+($e.test(r)?"&":"?")+"_="+je++)),f.ifModified&&(pt.lastModified[r]&&k.setRequestHeader("If-Modified-Since",pt.lastModified[r]),pt.etag[r]&&k.setRequestHeader("If-None-Match",pt.etag[r])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ke+"; q=0.01":""):f.accepts["*"]);for(a in f.headers)k.setRequestHeader(a,f.headers[a]);if(f.beforeSend&&(f.beforeSend.call(p,k,f)===!1||2===w))return k.abort();x="abort";for(a in{success:1,error:1,complete:1})k[a](f[a]);if(h=O(Ge,f,e,k)){k.readyState=1,u&&v.trigger("ajaxSend",[k,f]),f.async&&f.timeout>0&&(c=s(function(){k.abort("timeout")},f.timeout));try{w=1,h.send(b,n)}catch(t){if(!(w<2))throw t;n(-1,t)}}else n(-1,"No Transport");return k},getScript:function(t,e){return pt.get(t,o,e,"script")},getJSON:function(t,e,n){return pt.get(t,e,n,"json")}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){t.cache===o&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=tt.head||pt("head")[0]||tt.documentElement;return{send:function(i,a){e=tt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||a(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(o,!0)}}}});var Ye=[],Qe=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||pt.expando+"_"+je++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(t,e,n){var i,a,s,l=t.jsonp!==!1&&(Qe.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");if(l||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=pt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,l?t[l]=t[l].replace(Qe,"$1"+i):t.jsonp!==!1&&(t.url+=($e.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||pt.error(i+" was not called"),s[0]},t.dataTypes[0]="json",a=r[i],r[i]=function(){s=arguments},n.always(function(){r[i]=a,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),s&&pt.isFunction(a)&&a(s[0]),s=a=o}),"script"});var Ze,tn,en=0,nn=r.ActiveXObject&&function(){var t;for(t in Ze)Ze[t](o,!0)};pt.ajaxSettings.xhr=r.ActiveXObject?function(){return!this.isLocal&&H()||U()}:H,tn=pt.ajaxSettings.xhr(),pt.support.cors=!!tn&&"withCredentials"in tn,tn=pt.support.ajax=!!tn,tn&&pt.ajaxTransport(function(t){if(!t.crossDomain||pt.support.cors){var e;return{send:function(n,i){var a,l,c=t.xhr();if(t.username?c.open(t.type,t.url,t.async,t.username,t.password):c.open(t.type,t.url,t.async),t.xhrFields)for(l in t.xhrFields)c[l]=t.xhrFields[l];t.mimeType&&c.overrideMimeType&&c.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(l in n)c.setRequestHeader(l,n[l])}catch(t){}c.send(t.hasContent&&t.data||null),e=function(n,s){var r,l,u,h;try{if(e&&(s||4===c.readyState))if(e=o,a&&(c.onreadystatechange=pt.noop,nn&&delete Ze[a]),s)4!==c.readyState&&c.abort();else{h={},r=c.status,l=c.getAllResponseHeaders(),"string"==typeof c.responseText&&(h.text=c.responseText);try{u=c.statusText}catch(t){u=""}r||!t.isLocal||t.crossDomain?1223===r&&(r=204):r=h.text?200:404}}catch(t){s||i(-1,t)}h&&i(r,u,h,l)},t.async?4===c.readyState?s(e):(a=++en,nn&&(Ze||(Ze={},pt(r).unload(nn)),Ze[a]=e),c.onreadystatechange=e):e()},abort:function(){e&&e(o,!0)}}}});var an,sn,rn=/^(?:toggle|show|hide)$/,on=new RegExp("^(?:([+-])=|)("+vt+")([a-z%]*)$","i"),ln=/queueHooks$/,cn=[J],un={"*":[function(t,e){var n,i,a=this.createTween(t,e),s=on.exec(e),r=a.cur(),o=+r||0,l=1,c=20;if(s){if(n=+s[2],i=s[3]||(pt.cssNumber[t]?"":"px"),"px"!==i&&o){o=pt.css(a.elem,t,!0)||n||1;do l=l||".5",o/=l,pt.style(a.elem,t,o+i);while(l!==(l=a.cur()/r)&&1!==l&&--c)}a.unit=i,a.start=o,a.end=s[1]?o+(s[1]+1)*n:n}return a}]};pt.Animation=pt.extend(W,{tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,a=t.length;i<a;i++)n=t[i],un[n]=un[n]||[],un[n].unshift(e)},prefilter:function(t,e){e?cn.unshift(t):cn.push(t)}}),pt.Tween=X,X.prototype={constructor:X,init:function(t,e,n,i,a,s){this.elem=t,this.prop=n,this.easing=a||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(pt.cssNumber[n]?"":"px")},cur:function(){var t=X.propHooks[this.prop];return t&&t.get?t.get(this):X.propHooks._default.get(this)},run:function(t){var e,n=X.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):X.propHooks._default.set(this),this}},X.prototype.init.prototype=X.prototype,X.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[pt.cssProps[t.prop]]||pt.cssHooks[t.prop])?pt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,i,a){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(G(e,!0),t,i,a)}}),pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(L).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var a=pt.isEmptyObject(t),s=pt.speed(e,n,i),r=function(){var e=W(this,pt.extend({},t),s);r.finish=function(){e.stop(!0)},(a||pt._data(this,"finish"))&&e.stop(!0)};return r.finish=r,a||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=o),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,a=null!=t&&t+"queueHooks",s=pt.timers,r=pt._data(this);if(a)r[a]&&r[a].stop&&i(r[a]);else for(a in r)r[a]&&r[a].stop&&ln.test(a)&&i(r[a]);for(a=s.length;a--;)s[a].elem!==this||null!=t&&s[a].queue!==t||(s[a].anim.stop(n),e=!1,s.splice(a,1));!e&&n||pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=pt._data(this),i=n[t+"queue"],a=n[t+"queueHooks"],s=pt.timers,r=i?i.length:0;for(n.finish=!0,pt.queue(this,t,[]),a&&a.cur&&a.cur.finish&&a.cur.finish.call(this),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),pt.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return i.duration=pt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pt.fx.speeds?pt.fx.speeds[i.duration]:pt.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},pt.timers=[],pt.fx=X.prototype.init,pt.fx.tick=function(){var t,e=pt.timers,n=0;for(an=pt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||pt.fx.stop(),an=o},pt.fx.timer=function(t){t()&&pt.timers.push(t)&&pt.fx.start()},pt.fx.interval=13,pt.fx.start=function(){sn||(sn=setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){clearInterval(sn),sn=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fx.step={},pt.expr&&pt.expr.filters&&(pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length}),pt.fn.offset=function(t){if(arguments.length)return t===o?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return e=s.documentElement,pt.contains(e,a)?(typeof a.getBoundingClientRect!==Z&&(i=a.getBoundingClientRect()),n=K(s),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},pt.offset={setOffset:function(t,e,n){var i=pt.css(t,"position");"static"===i&&(t.style.position="relative");var a,s,r=pt(t),o=r.offset(),l=pt.css(t,"top"),c=pt.css(t,"left"),u=("absolute"===i||"fixed"===i)&&pt.inArray("auto",[l,c])>-1,h={},d={};u?(d=r.position(),a=d.top,s=d.left):(a=parseFloat(l)||0,s=parseFloat(c)||0),pt.isFunction(e)&&(e=e.call(t,n,o)),null!=e.top&&(h.top=e.top-o.top+a),null!=e.left&&(h.left=e.left-o.left+s),"using"in e?e.using.call(t,h):r.css(h)}},pt.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===pt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(n=t.offset()),n.top+=pt.css(t[0],"borderTopWidth",!0),n.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-pt.css(i,"marginTop",!0),left:e.left-n.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||tt.documentElement;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||tt.documentElement})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);pt.fn[t]=function(i){return pt.access(this,function(t,i,a){var s=K(t);return a===o?s?e in s?s[e]:s.document.documentElement[i]:t[i]:void(s?s.scrollTo(n?pt(s).scrollLeft():a,n?a:pt(s).scrollTop()):t[i]=a)},t,i,arguments.length,null)}}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){pt.fn[i]=function(i,a){var s=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||a===!0?"margin":"border");return pt.access(this,function(e,n,i){var a;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):i===o?pt.css(e,n,r):pt.style(e,n,i,r)},e,s?i:o,s,null)}})}),n(13)&&n(13).jQuery&&(i=[],a=function(){return pt}.apply(e,i),!(a!==o&&(t.exports=a)))}(window)}).call(e,n(5))},function(t,e){(function(e){t.exports=e}).call(e,{jQuery:!0})},function(t,e,n){var i,a;try{i=[n(9),n(8)],a=function(t,e){var n=function(){this.requests=[],this.removed=[]};return n.prototype={add:function(e){t.isArray(e)||(e=[e]);for(var n,i=0;i<e.length;i++)if(n=e[i],this.has(n))return!1;for(var a=0;a<e.length;a++)n=e[a],this.requests.push(n);return!0},canUseXHR:function(){return 1==this.length()&&this.requests[0].options.xhr===!0},has:function(t){return!!this.find(t)},length:function(){return this.requests.length},find:function(e){return e.id&&(e=e.id),t.find(this.requests,function(t){return t.id===(0|e)})},findByRoute:function(e,n){return t.find(this.requests,function(t){return t.verb===e&&t.route===n})},pop:function(){return this.requests.pop()},remove:function(t){t.id&&(t=t.id);for(var e=0;e<this.requests.length;e++){var n=this.requests[e];if(n.id===(0|t)){var i=this.requests.splice(e,1)[0];return this.removed.push(i),i}}},reset:function(){this.requests=[]},isEmpty:function(){return t.isEmpty(this.requests)},toData:function(){var e={};return t.each(this.requests,function(t){e[t.id]=t.toData()}),e}},n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(7),n(16),n(12)],a=function(t,e,n){var i={enabled:function(){return t.debug||"true"==e.getItem("vf-debug")||window.viafoura&&window.viafoura.debug||this.debug},assert:function(t,e){if(!t&&this.enabled())throw"Assert Fail: "+e},log:function(){this.enabled()&&window.console&&"function"==typeof window.console.log&&console.log.apply(window.console,arguments)},warn:function(){window.console&&"function"==typeof window.console.warn&&console.warn.apply(window.console,arguments)}};return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(17)],a=function(t){var e=function(){var t="test";try{window.sessionStorage.setItem(t,t),window.sessionStorage.removeItem(t)}catch(t){return!1}return!0};return e()?window.sessionStorage:t}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[],a=function(){var t={length:0,setItem:function(t,e,n){var i=t+"="+e+";path=/";if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),i+=";max-age="+n+";expires="+a.toGMTString()}document.cookie=i,this.length++},getItem:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0,a=n.length;i<a;i++){for(var s=n[i];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return null},removeItem:function(t){this.setItem(t,"",-1),this.length--},clear:function(){for(var t=document.cookie.split(";"),e=0,n=t.length;e<n;e++){for(var i=t[e];" "===i.charAt(0);)i=i.substring(1,i.length);var a=i.substring(0,i.indexOf("="));this.removeItem(a)}this.length=0},key:function(t){var e=document.cookie.split(";");if(t>=e.length||isNaN(parseFloat(t))||!isFinite(t))return null;for(var n=e[t];" "===n.charAt(0);)n=n.substring(1,n.length);return n.substring(0,n.indexOf("="))}};return t}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;(function(s){try{i=[n(9),n(12)],a=function(t,e){var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,i={argsResult:function(e,n){var i=e[n];if(t.isFunction(i)){var a=Array.prototype.slice.call(arguments,2,arguments.length);return i.apply(e,a)}return i},isTouch:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},isMobileOrTablet:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Mobile/i)||navigator.userAgent.match(/iOS/i))},isSmartphone:function(){return!!(this.isMobileOrTablet()&&window.innerWidth<765)},stringToBoolean:function(e,n){if(!t.isString(e))return n;var i=e.replace(/^\s+(.*)\s+$/,"$1").toLowerCase();return"true"===i||1==i},isElementPartiallyInViewport:function(t){if("function"==typeof e&&t instanceof e&&(t=t[0]),"function"!=typeof t.getBoundingClientRect)return!0;var n=t.getBoundingClientRect();return(n.top>=0&&n.top<=e(window).height()||n.bottom>=0&&n.bottom<=e(window).height())&&(n.left>=0&&n.left<=e(window).width()||n.right>=0&&n.right<=e(window).width())},isElementInViewport:function(t){if("function"==typeof e&&t instanceof e&&(t=t[0]),"function"!=typeof t.getBoundingClientRect)return!0;var n=t.getBoundingClientRect();return void 0===n||n.top>=0&&n.left>=0&&n.bottom<=e(window).height()&&n.right<=e(window).width()},isElementPortionInViewport:function(t,n){if("function"==typeof e&&t instanceof e&&(t=t[0]),"function"!=typeof t.getBoundingClientRect)return!0;n=n||{};var i=t.getBoundingClientRect(),a=i.width*i.height,s=[i.width,i.height];i.top<0&&(s[1]=Math.max(0,s[1]+i.top)),i.left<0&&(s[0]=Math.max(0,s[0]+i.left)),i.right>e(window).width()&&(s[0]=Math.max(0,s[0]+(e(window).width()-i.right))),i.bottom>e(window).height()&&(s[1]=Math.max(0,s[1]+(e(window).height()-i.bottom)));var r=!0;return void 0!==n.a&&(r=r&&n.a<=s[0]*s[1]/a),void 0!==n.h&&(r=r&&n.h<=s[0]/i.width),void 0!==n.v&&(r=r&&n.v<=s[1]/i.height),void 0!==n.vAbs&&(r=r&&n.vAbs<=s[1]),void 0!==n.hAbs&&(r=r&&n.hAbs<=s[0]),r},wrap:function(t,e){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}},insideWebview:function(){return/CriOS\//.test(navigator.userAgent)},getIEVersion:function(){var t=0,e=/MSIE (\d+\.\d+);/.test(navigator.userAgent),n=!!navigator.userAgent.match(/Trident\/7.0/),i=navigator.userAgent.indexOf("rv:11.0");return e&&(t=new Number(RegExp.$1)),navigator.appVersion.indexOf("MSIE 10")!=-1&&(t=10),n&&i!=-1&&(t=11),t},supportCORS:function(){if(void 0!==this.supportCORSCache)return this.supportCORSCache;var t=new XMLHttpRequest;return this.supportCORSCache="withCredentials"in t,this.supportCORSCache},supportXDomain:function(){return"undefined"!=typeof XDomainRequest},guard:function(t,e){return t.__wrap||(t.__wrap=function(){try{t.apply(e||this,arguments)}catch(t){window.setTimeout(function(){throw t},0)}}),t.__wrap},getTimeLeft:function(t,e){e=e||new Date;var n=1e3*t-e;return n<0&&(n=0),n},parseUri:function(t){for(var e={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e,i=n.parser[n.strictMode?"strict":"loose"].exec(t),a={},s=14;s--;)a[n.key[s]]=i[s]||"";return a[n.q.name]={},a[n.key[12]].replace(n.q.parser,function(t,e,i){e&&(a[n.q.name][e]=i)}),a},toUuid:function(t){if("number"!=typeof t){if(n.test(t))return t;throw new Error("invalid argument: "+t)}if(t<0)throw new Error("invalid argument: "+t);var e=t.toString(16);return e=Array(17-e.length).join("0")+e,"00000000-0000-400"+e.charAt(0)+"-8"+e.substring(1,4)+"-"+e.substring(4,16)},toVfId:function(t){if("string"!=typeof t||"36"!=t.length||!n.test(t))throw new Error("invalid argument");return parseInt(t[17]+t.substring(20,23)+t.substring(24,36),16)},uuid4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})},isWebkitBrowser:function(){if(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor))return!0},stringifyUriPath:function(e){var n=e.path;if(t.size(e.queryKey)){n+="?";var i=[];t.each(e.queryKey,function(t,e){i.push(e+"="+t)}),n+=i.join("&")}return e.anchor&&(n+="#"+e.anchor),n},shortenCounts:function(t){for(var e,n=["k","m","b","t","q"],i=n.length-1;i>=0;i--)if(e=Math.pow(10,3*(i+1)),t>=e)return t=Math.round(t/(e/10))/10,t>9&&(t=Math.round(t)),t.toString(10)+n[i];return t.toString(10)},protocolRelative:function(t){return t.replace(/^https?:\/\//,"//")},addTapholdListener:function(t,e,n){var i=0;t.on("touchstart",function(){i=s(e,n)}).bind("touchend",function(){clearTimeout(i)})}};return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var r=n(6);r(t)}}).call(e,n(5))},function(t,e,n){var i,a;try{i=[n(12)],a=function(t){window.XDomainRequest&&t.ajaxTransport(function(e){if(e.xDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var n;return{send:function(i,a){function s(e,i,s,r){n.onload=n.onerror=n.ontimeout=n.onprogress=t.noop,n=void 0,a(e,i,s,r)}n=new XDomainRequest,n.open(e.type,e.url),n.onload=function(){s(200,"OK",{text:n.responseText},"Content-Type: "+n.contentType)},n.onerror=function(){s(403,"Server error")},n.onprogress=function(){},e.xdrTimeout&&(n.ontimeout=function(){s(0,"timeout")},n.timeout=e.xdrTimeout),n.send(e.hasContent&&e.data||null)},abort:function(){n&&(n.onerror=t.noop(),n.abort())}}}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(12),n(15),n(7),n(18)],a=function(t,e,n,i,a){var s=function(){};return s.prototype={parsePath:function(t){if(t){var e;return t=decodeURIComponent(t),e=t.match(/^([a-z]+):\/\/\/?([^\/]+)(\/[^#]*)?/i),e&&4==e.length?e[3]||"/":(e=("/"===t[0]?t:"/"+t).match(/^([^#]+)/),e[1])}},fetchPath:function(){var t,s,r=this.parsePath(location.href),o=e('meta[property="og:url"]').attr("content");o&&(s=o.match(/^([a-z]+):\/\/([^\/]+)([^#]+)/i),s&&s.length>=4?s=s[3]:(n.warn("og:url is invalid ("+o+")"),s=null)),t=i.path||s||r||location.pathname;var l=a.parseUri(t);return l.queryKey&&l.queryKey.__vfz&&delete l.queryKey.__vfz,t=decodeURIComponent(a.stringifyUriPath(l))||"/"},fetchTitle:function(){var t=e("meta");return(t.filter('[property="vf:title"]').attr("content")||t.filter('[name="vf:title"]').attr("content")||t.filter('[property="og:title"]').attr("content")||t.filter('[name="og:title"]').attr("content")||t.filter('[property="twitter:title"]').attr("content")||t.filter('[name="twitter:title"]').attr("content")||e("title").first().text()||"").substring(0,500)},fetchImage:function(){var t=e("meta");return t.filter('[property="vf:image"]').attr("content")||t.filter('[name="vf:image"]').attr("content")||t.filter('[property="og:image"]').attr("content")||t.filter('[name="og:image"]').attr("content")||t.filter('[property="twitter:image"]').attr("content")||t.filter('[name="twitter:image"]').attr("content")||e("link").filter("[rel=image_src]").attr("href")||""},fetchDescription:function(){var t=e("meta");return(t.filter('[property="vf:description"]').attr("content")||t.filter('[name="vf:description"]').attr("content")||t.filter('[property="og:description"]').attr("content")||t.filter('[name="og:description"]').attr("content")||t.filter('[property="description"]').attr("content")||t.filter('[name="description"]').attr("content")||t.filter('[property="twitter:description"]').attr("content")||t.filter('[name="twitter:description"]').attr("content")||"").substring(0,500)},fetchDomain:function(){var t=e("meta");return t.filter('[property="vf:domain"]').attr("content")||t.filter('[name="vf:description"]').attr("content")||t.filter('[property="og:domain"]').attr("content")||t.filter('[name="og:domain"]').attr("content")||t.filter('[property="domain"]').attr("content")||t.filter('[name="domain"]').attr("content")},fetchType:function(){var t=e("meta"),n=['"vf:type"','"og:type"'],i=function(e,n){return t.filter("[property="+n+"]").attr("content")||t.filter("[name="+n+"]").attr("content")||e};return n.reduce(i,"").substring(0,500)},getVFDomain:function(){if(!(i.customWhitelist.indexOf(location.host)>=0))return this.fetchDomain()},refresh:function(){var t=e("meta"),n=a.parseUri(location.href);this.domain=this.getVFDomain()||i.domain||n.host||location.hostname,this.path=this.fetchPath(),this.title=this.fetchTitle(),this.image=this.fetchImage(),this.description=this.fetchDescription(),this.page_type=this.fetchType(),this.unique_id=t.filter('[property="vf:unique_id"]').attr("content")||t.filter('[name="vf:unique_id"]').attr("content"),this.lang=t.filter('[property="vf:lang"]').attr("content")||t.filter('[name="vf:lang"]').attr("content"),this.section=t.filter('[property="vf:section"]').attr("content")||t.filter('[name="vf:section"]').attr("content")}},function(){var t=new s;return t.refresh(),t}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(3),n(10),n(15),n(18),n(22)],a=function(t,e,n,i,a,s){function r(e){var a,r,o=window.viafoura||{},l={onLoginSuccess:"/user/login/success",onLogoutSuccess:"/user/logout",onLoginFail:"/user/login/fail",onError:"widget/init/invalidID",onCommentingPageLoadMore:"/commenting/page/load-more",onCommentingPageRTLoad:"/commenting/page/rt-load-more",onCommentingCommentLoadReplies:"/commenting/comment/load-replies",onCommentingCommentRTLoad:"/commenting/comment/rt-load-replies",onCommentingCommentRender:"/commenting/comment/render",onCommentingThread:"/commenting/page/load-thread",onCommentingCommentReply:"/commenting/comment/reply",onShareClick:"/share/click",onCommentingResize:"/commenting/resize"};a={current:function(){var t=e.current.user.toJSON();return t.logged_in=e.current.user.isLoggedIn(),t},cookieLogin:function(){e.loginManager.cookieAutoLogin()},updateDisplayName:function(t){return!!s.can("updateName",e.current.user)&&(e.current.user.save({name:t}),!0)}},r={current:function(){return{id:e.current.session.id}},logout:function(){n.trigger("/user/logout/click"),n.trigger("/modal/close")},login:{social:function(t){return e.loginManager.socialLogin(t)},cookie:function(t){return"string"==typeof t&&(e.loginManager.cookieLogin.login(t),!0)},session:function(t,n){if("function"!=typeof n)throw new TypeError("Invalid Callback. Callback has to be a function.");var i=function(){n(e.current.user.toJSON())};e.userManager.resetUser(t)?e.userManager.fetchUser({success:i,error:i}):i()}}},e.current.user.on("change",function(t){t.get("id")&&!t.changed.id&&n.trigger("onUserChange",t.changed)}),e.ready(function(){e.current.user.on("change",function(t){window.Viafoura.Data.user=t.isLoggedIn()})}),window.viafoura=t.defaults(o,{core:e,users:a,session:r,ready:function(t){return"function"==typeof t?e.ready(t):void i.warn("viafoura.ready only accepts a function")},poll:function(){var t=Array.prototype.slice.apply(arguments);e.ready().then(function(){e.poll.apply(e,t)})},reset:function(t){e.readyPromise=e.ready().then(function(){return e.reset(function(){n.trigger("onReset"),"function"==typeof t&&t()})})},loginRadiusLogin:function(t,i){e.ready(function(){n.trigger("onLoginRadiusLogin",t),"function"==typeof i&&i()})},Data:{user:!1},ui:{login:{show:e.ensureModals(function(){n.trigger("/user/login/click")}),hide:e.ensureModals(function(){n.trigger("/modal/close")})},signup:{show:e.ensureModals(function(){n.trigger("/user/signup/click")}),hide:e.ensureModals(function(){n.trigger("/modal/close")})},profile:{show:e.ensureModals(function(){n.trigger("/user/account/click",e.current.user)}),hide:e.ensureModals(function(){n.trigger("/modal/close")})}},publish:n.trigger.bind(n),subscribe:function(e,i,a){if("function"!=typeof i)return!1;switch(e){case"onLoginSuccess":case"onLogoutSuccess":case"onLoginFail":case"onError":n.on(l[e],i);break;case"onCommentPost":n.on("comment:created",function(t){t.get("thread_id")===t.get("id")&&i.call(this,t.toJSON())},a);break;case"onCommentReply":n.on("comment:created",function(t){t.get("thread_id")!==t.get("id")&&i.call(this,t.toJSON())},a);break;case"onCommentingPageLoadMore":case"onCommentingPageRTLoad":case"onCommentingCommentLoadReplies":case"onCommentingCommentRTLoad":case"onCommentingCommentRender":case"onCommentingThread":case"onCommentingCommentReply":case"onShareClick":case"onCommentingResize":n.on(l[e],function(){var e=[];t.each(arguments,function(t){e.push(t&&t.toJSON?t.toJSON():t)}),i.apply(this,e)},a);break;case"onReset":case"onWidgetLoad":n.on(e,i,a);break;default:n.on(e,i,a)}}}),window.Viafoura=window.viafoura}return r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(10)],a=function(t,e){return{authorize:function(t,n){return!!this.can(t,n)||(e.trigger("onLoginRequired"),!1)},isLoggedIn:function(){return this.currentUser.isLoggedIn()},can:function(t,e){return n(3).userManager.ability.check(t,e)}}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;(function(s){try{i=[n(9),n(12),n(24),n(25),n(10)],a=function(t,e,n,i,a){var r=function(t){var e=this;t=t||{},this.asset_url=t.asset_url,this.translation={},this.cache={},n.registerHelper("i18n",function(){return e.translate.apply(e,arguments)})};return t.extend(r.prototype,{languages:{en:"en_us.js",fr:"fr.js",nl:"nl.js",sr:"sr_rs.js",ar:"ar.js",es:"es.js"},url:function(){return this.asset_url+"languages/"+this.languages[this.language]},hasLanguage:function(e){return t.has(this.languages,e)},loadLanguage:function(t,n){this.hasLanguage(t)?this.language=t:n?this.language=n:this.language="en","ar"===this.language?e("body").addClass("vf-rtl"):e("body").removeClass("vf-rtl");var i=e.Deferred();return this.cache[this.language]?(this.translation=this.cache[this.language],i.resolve()):(a.once("language:load",function(t){this.cache[this.language]=t,this.translation=t,s(function(){i.resolve()},0)},this),e.ajax({dataType:"script",url:this.url(),cache:!0}).fail(function(){i.fail()})),i.promise()},translate:function(t){var e="",a="";return t&&!this.translation[t]?"No translation found.":("function"==typeof this.translation[t]?a=this.translation[t].apply(null,Array.prototype.slice.call(arguments,1)):"string"==typeof this.translation[t]&&(a=this.translation[t]),e=i.apply(null,[a].concat(Array.prototype.slice.call(arguments,1))),new n.SafeString(e))}}),new r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var r=n(6);r(t)}}).call(e,n(5))},function(t,e,n){var i;i=function(){var t={};return function(t,e){t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var n=Object.prototype.toString,i="[object Function]",a="[object Object]";t.registerHelper=function(e,i,s){if(n.call(e)===a){if(s||i)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else s&&(i.not=s),this.helpers[e]=i},t.registerPartial=function(e,i){n.call(e)===a?t.Utils.extend(this.partials,e):this.partials[e]=i},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,a){var s=a.inverse||function(){},r=a.fn,o=n.call(e);return o===i&&(e=e.call(this)),e===!0?r(this):e===!1||null==e?s(this):"[object Array]"===o?e.length>0?t.helpers.each(e,a):s(this):r(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var n=new t.K;return t.K.prototype=null,n},t.registerHelper("if",function(e,a){var s=n.call(e);return s===i&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?a.inverse(this):a.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn})});var s=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(t){for(var e=Error.prototype.constructor.apply(this,arguments),n=0;n<s.length;n++)this[s[n]]=e[s[n]]},t.Exception.prototype=new Error,t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return this.string.toString()};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,l=/[&<>"'`]/,c=function(t){
return r[t]||"&amp;"};t.Utils={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},escapeExpression:function(e){return e instanceof t.SafeString?e.toString():null==e||e===!1?"":(e=e.toString(),l.test(e)?e.replace(o,c):e)},isEmpty:function(t){return!t&&0!==t||"[object Array]"===n.call(t)&&0===t.length}},t.VM={template:function(e){var n={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,n,i){var a=this.programs[e];return i?a=t.VM.program(e,n,i):a||(a=this.programs[e]=t.VM.program(e,n)),a},merge:function(e,n){var i=e||n;return e&&n&&(i={},t.Utils.extend(i,n),t.Utils.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,a){a=a||{};var s=e.call(n,t,i,a.helpers,a.partials,a.data),r=n.compilerInfo||[],o=r[0]||1,l=t.COMPILER_REVISION;if(o!==l){if(o<l){var c=t.REVISION_CHANGES[l],u=t.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+r[1]+")."}return s}},programWithDepth:function(t,e,n){var i=Array.prototype.slice.call(arguments,3),a=function(t,a){return a=a||{},e.apply(this,[t,a.data||n].concat(i))};return a.program=t,a.depth=i.length,a},program:function(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,a,s,r,o){var l={helpers:s,partials:r,data:o};if(n===e)throw new t.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(a,l);if(t.compile)return r[i]=t.compile(n,{data:o!==e}),r[i](a,l);throw new t.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template}(t),t}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i,a;i=[],a=function(){return function(t){var e=1,n=arguments;return t.replace(/%s/g,function(t){var i=n[e++];return void 0===i?t:i})}}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,n){var i,a;try{i=[n(12),n(27),n(16),n(7)],a=function(t,e,n,i){var a=e.extend({initialize:function(t){e.prototype.initialize.apply(this,arguments),this.sessionKey=a.sessionKey,this.id=null,t&&this.set(t.session)},get:function(){if(this.id)return this.id},set:function(t){return!!(n&&t&&t.length>=16&&t.length<=32&&t.match(/^[a-z0-9]+$/))&&(n.setItem(this.sessionKey,t),this.id=t,!0)},destroy:function(){n&&(n.setItem(this.sessionKey,""),this.id=null)},hasSession:function(){return!!this.id}},{sessionKey:"_vf_sid"});return a}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(11),n(9)],a=function(t,e,n){var i=e.Model.extend({initialize:function(t,e){e=e||{},this.restAPI=e.restAPI||i.core.restAPI,this.domainSettings=e.domainSettings||i.core.current.settings},getRoute:function(){var t="function"==typeof this.url?this.url():this.url;return this.attributes.id&&(t+="/"+this.attributes.id),t},sync:function(t,e,i){var a={};i.params&&n.extend(a,this.toJSON());var s,r=this.getRoute(i);"read"===t?s="get":"create"===t?(n.extend(a,e),s="post"):"delete"===t?s="delete":"update"===t&&(n.extend(a,e),s="patch"),this.restAPI.request(s,r,a,i)},save:function(t,e){var n="",i=this;e=e||{},e.data=t;var a=e.success;return e.success=function(t,e){i.set(t.result),a&&a(t,e)},n=this.isNew()?"create":"update",this.sync(n,t,e)},parse:function(t){return t.result||t},toJSON:function(){return n.clone(this.attributes)},getShareCount:function(t){var e=this.get("shares");return e?0|e[t]:0},reset:function(t){this.clear(t),this.set(this.defaults,t)}});return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(10),n(27),n(29),n(7)],a=function(t,e,i,a,s){var r=i.extend({url:function(){return"/users"},defaults:{username:"guest",name:"Guest",pic_small:s.asset_url+"img/defaultavatar.png"},initialize:function(){i.prototype.initialize.apply(this,arguments),t.bindAll(this,"updateFollow","isUnverified"),e.on("/user/subscribe",this.onSubscribe.bind(this))},comments:function(e,i){var a=n(30),s=new a(i);return s.rootUrl="/users/"+this.id,t.extend(s.settings,{limit:10,show:""},e),s.user=this,s},mutes:function(){var t=n(36),e=new t;return e.user=this,e},parse:function(e){var n=e.result||e;return e.date_muted=e.date_muted?1e3*e.date_muted:void 0,t.defaults(n,this.defaults)},toJSON:function(){var e=t.clone(this.attributes);return e},updateFollow:function(t,n){"delete"===n.verb?this.set("subscribed",!1):this.set("subscribed",!0),e.trigger("/user/subscribe",this.get("id"),"put"===n.verb)},updateMute:function(t,e){"delete"===e.verb?this.set("isMuted",!1):this.set("isMuted",!0)},isGuest:function(){return"guest"===this.get("user_privilege")||!!this.get("anonymous")},canAnonymouslyPost:function(){return!this.isLoggedIn()&&this.forceAnonymous},getRoute:function(t){var e="function"==typeof this.url?this.url():this.url;return t.current?e+="/current":t.login?e+="/login":t.logout?e+="/logout":t.resend_verification?e+="/email_verification/resend":this.attributes.id&&(e+="/"+this.attributes.id),e},hasSubscribed:function(){return!!this.get("subscribed")},isMuted:function(){return!!this.get("isMuted")},toggleFollow:function(t,e){t=t||{},t.success=n(18).wrap(t.success,this.updateFollow),t.verb||(t.verb=this.hasSubscribed()?"delete":"put"),this.restAPI.request(t.verb,"follows/"+this.id,e||{},t)},toggleMute:function(t,e){t=t||{},t.success=n(18).wrap(t.success,this.updateMute.bind(this)),t.verb||(t.verb=this.isMuted()?"put":"delete"),this.restAPI.request(t.verb,"mutes/"+this.id,e||{},t)},onSubscribe:function(t,e){this.get("id")===t&&this.set("subscribed",e)},isLoggedIn:function(){return!!this.id},isBanned:function(){var t=this.get("ban_level");return"posting"===t||"ghost"===t||"login"===t||"hide"===t},hasGhostBan:function(){return"ghost"===this.get("ban_level")},hasPostingBan:function(){return"posting"===this.get("ban_level")},hasLoginBan:function(){return"login"===this.get("ban_level")},hasHideBan:function(){return"hide"===this.get("ban_level")},hasUserModeration:function(){return this.domainSettings.get("enable_username_premoderation")&&this.isViafouraAccount()},hasAvatarModeration:function(){return this.domainSettings.get("enable_avatar_premoderation")&&this.isViafouraAccount()},hasCommentLimit:function(){return this.isViafouraAccount()&&"pending_new"===this.get("email_verification_status")&&this.get("comments_made")>0},hasRejectedUsername:function(){return this.hasUserModeration()&&"rejected"===this.get("username_moderation_status")&&this.get("username_pending")},hasPendingUsername:function(){return this.hasUserModeration()&&"pending_update"===this.get("username_moderation_status")&&this.get("username_pending")},hasNewUsername:function(){return this.hasUserModeration()&&"pending_new"===this.get("username_moderation_status")&&this.get("username_pending")},hasUnapprovedUsername:function(){return this.hasUserModeration()&&("rejected"===this.get("username_moderation_status")||"pending_new"===this.get("username_moderation_status")||"pending_update"===this.get("username_moderation_status"))&&this.get("username_pending")},hasNewEmail:function(){return this.domainSettings.get("enable_email_verification")&&this.isViafouraAccount()&&"pending_new"===this.get("email_verification_status")&&this.get("email_pending")},hasUpdatedEmail:function(){return"pending_update"===this.get("email_verification_status")&&this.get("email_pending")},hasUnverifiedEmail:function(){var t=this.get("email_verification_status");return this.domainSettings.get("enable_email_verification")&&this.isViafouraAccount()&&t&&"approved"!==t},hasUnapprovedAvatar:function(){return this.hasAvatarModeration()&&("rejected"===this.get("avatar_moderation_status")||"pending_new"===this.get("avatar_moderation_status")||"pending_update"===this.get("avatar_moderation_status"))&&this.get("pic_small_pending")},hasRejectedAvatar:function(){return this.hasAvatarModeration()&&"rejected"===this.get("avatar_moderation_status")&&this.get("pic_small_pending")},hasPendingAvatar:function(){return this.hasAvatarModeration()&&("pending_new"===this.get("avatar_moderation_status")||"pending_update"==this.get("avatar_moderation_status"))&&this.get("pic_small_pending")},isUnverified:function(){return this.hasUnverifiedEmail()||this.hasUnapprovedUsername()},isAdmin:function(){return"administrator"===this.get("user_privilege")},isModerator:function(){return"moderator"===this.get("user_privilege")},isModOrAdmin:function(){return"moderator"===this.get("user_privilege")||"administrator"===this.get("user_privilege")},isTrusted:function(){return!!this.get("badge_trusted")},isViafouraAccount:function(){return!this.isCustomAccount()&&!this.isSocialAccount()&&!this.isWordpressAccount()},isCustomAccount:function(){return"Viafoura Defined Cookie"===this.get("social_login_provider")},isSocialAccount:function(){return this.has("social_login_provider")&&null!==this.get("social_login_provider").match(/facebook|google|linkedin|twitter|live|yahoo|backplane/)},isSocialEmailAccount:function(){return this.isSocialAccount()&&this.has("email")},isWordpressAccount:function(){return"oauth"===this.get("social_login_provider")}});return r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(12),n(23)],a=function(t,e,n){var i={minLength:function(t,e){return t&&t.length>=e},maxLength:function(t,e){return t&&t.length<=e},empty:function(t){return t&&t.length>0},modemail:function(t){return t&&t.length>0},email:function(t){return t&&t.length>0&&t.length<=250&&!!t.match(/^(?:[-\w!\#\$%\&\'*+~\/^`|{}]+(?:\.[-\w!\#\$%\&\'*+~\/^`|{}]+)*)@((?:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\.)*[a-z0-9](?:[-a-z0-9]*[a-z0-9])?)\.((?:([^- ])[-a-z]*[-a-z]))$/i)},required:function(t){return!("undefined"==typeof t||null===t||""===t)},name:function(t){return t&&t.length>0},digits:function(t){return t&&!!(t+"").match(/^\d+$/)},username:function(t){return t&&t.length>0},oldPassword:function(t){return t&&t.length>=1},password:function(t,e){return e=e||8,t&&t.length>=e},confirmPassword:function(t,e,n){return t===e},min:function(t,e){return t&&t>=e},max:function(t,e){return t&&t<=e},errorMessage:function(t,e){return e=e||[],e.unshift("verror_"+t),n.translate.apply(n,e)},check:function(e,n){var i,a,s,r={};for(var o in n)if(i=n[o],a=e[o],"undefined"!=typeof a)for(var l in i)s=i[l],t.isArray(s)||(s=[s]),s.unshift(a),this[l].apply(this,s)||(r[o]||(r[o]=[]),r[o].push(this.errorMessage(l,s)));if(t.keys(r).length)return r}};return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(31),n(33),n(10),n(28)],a=function(t,e,n,i,a){var s=e.extend({model:n,url:function(){var t="/comments";return this.page&&(t="/pages/"+this.page.getRouteId()+t),t},initialize:function(n,i){e.prototype.initialize.apply(this,arguments),i&&(this.page=i.page),this.settings={limit:5},i&&i.settings&&t.extend(this.settings,i.settings)}});return s}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(9),n(11),n(10),n(32)],a=function(t,e,n,i,a){var s=n.Collection.extend({initialize:function(t,e){e=e||{},this.after_count=0,this.before_count=0,this.total_count=0,this.settings={},this.restAPI=e.restAPI||s.core.restAPI,e.rootUrl&&(this.rootUrl=e.rootUrl)},getUrl:function(t){var n=t.url||e.result(this,"url");return this.rootUrl&&(n=this.rootUrl+n),n},sync:function(t,n,i){var a,s=this.getUrl(i),r=e.extend({},this.settings,i.data);"read"===t?a="get":"create"===t?a="post":"delete"===t?a="delete":"update"===t&&(a="put"),this.restAPI.request(a,s,r,i)},parse:function(t,e){var n=t.result;return e.setCounts!==!1&&this.setCounts(n),e.setBeforeAfterIDs!==!1&&this.setBeforeAfterIDs(n),"prepend"===e.insert_method&&(e.at=0),e.reverse===!0&&n.results.reverse(),n.actual_list&&this.parseActualList(n.actual_list),n.results},parseActualList:function(t){var e=t.split("_"),n=e.length;this.window=e[n-2],this.page_age=e[n-1]},setCounts:function(t){void 0!==this.settings.after_id&&0!==this.length||(this.before_count=t.before_count),void 0!==this.settings.before_id&&0!==this.length||(this.after_count=t.after_count),this.total_count=t.total_count},setBeforeAfterIDs:function(t){this.before_id=this.before_id||e.result(e.first(t.results),"id"),this.after_id=this.after_id||e.result(e.last(t.results),"id")},fetchBeginning:function(t){t=t||{},t.reset=!0,this.clearAfter(),this.clearBefore(),this.fetch(t)},fetchPageBefore:function(t){this.fetchBeforeId(this.before_id,t)},fetchPageAfter:function(t){this.fetchAfterId(this.after_id,t)},fetchBeforeId:function(t,e){delete this.settings.after_id,delete this.before_id,this.settings.before_id=t,e=e||{},"undefined"==typeof e.add&&(e.add=!0),e.remove=!1,this.fetch(e)},fetchAfterId:function(t,e){delete this.settings.before_id,delete this.after_id,this.settings.after_id=t,e=e||{},"undefined"==typeof e.add&&(e.add=!0),e.remove=!1,e.append=!0,this.fetch(e)},clearAfter:function(){delete this.after_id,delete this.settings.after_id},clearBefore:function(){delete this.before_id,delete this.settings.before_id},multiFetch:function(t){return new a(this,t)}});return s}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(9)],a=function(t,e){function n(t,n,i){return this.collection=t,this.Model=t.model,this.count=0,this.parsedResults=[],this.models=[],this.errors=[],this.defaultOptions=e.defaults({},n,{silent:!0,success:function(){},error:function(){}}),this.fetchFunc=i||"fetch",this.hasSuccess=!1,this.hasError=!1,this.successFunc=a.bind(this),this}function i(t,n){return e.isArray(n)||(n=[n]),Array.prototype.push.apply(t,n),t}var a=function(t,e){this.collection.add(t),this.collection.trigger("sync")};return n.prototype.processAddition=function(n,i,a){if(i=e.clone(i||{}),e.isString(n)&&void 0!==this.collection[n]&&e.isFunction(this.collection[n]))return a=n,i.add=i.add||!1,i.remove=i.remove||!1,[this.collection,i,a];if(t.isNumeric(n)){var s=parseInt(n);if(s%1===0)return[new this.Model({id:n}),i,a]}return n instanceof this.Model?[n,i,a]:void 0},n.prototype.add=function(t,n,a){return t=i([],t),t.length<1?this:(e.each(t,function(t){this.addSingle.apply(this,this.processAddition(t,n,a))}.bind(this)),this)},n.prototype.addSingle=function(t,n,i){if(void 0===t)return this;e.defaults(n,this.defaultOptions),i=i||this.fetchFunc,this.count+=1;var a=n.success,s=n.error;return n.success=this.getSuccessFunc(t,a,n),n.error=this.getErrorFunc(t,s),t[i](n),this},n.prototype.getSuccessFunc=function(t,e){return function(n,i,a){this.hasSuccess=!0,this.updateResults(t,i,a),this.updateModels(t,i,a),e.apply(t,arguments),this.complete()}.bind(this)},n.prototype.getErrorFunc=function(t,e){return function(n,i){this.hasError=!0,this.errors.push(i),e.apply(t,arguments),this.complete()}.bind(this)},n.prototype.complete=function(){return this.count-=1,0===this.count&&(this.hasSuccess?this.successFunc(this.models,this.parsedResults,this.errors):this.hasError&&this.errorFunc(this.models,this.parsedResults,this.errors)),this},n.prototype.updateResults=function(t,e,n){var a=t.parse(e,n);return i(this.parsedResults,a),a},n.prototype.updateModels=function(t,n,a){t instanceof this.Model&&this.models.push(t),e.each(i([],t.parse(n,a)),function(t){this.models.push(new this.Model(t,a))}.bind(this))},n.prototype.success=function(t){return this.successFunc=t,this},n.prototype.error=function(t){return this.errorFunc=t,this},n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(27),n(29),n(28),n(18),n(10)],a=function(t,e,i,a,s,r){var o=null,l=e.extend({defaults:{num_likes:0,num_dislikes:0,liked:0,disliked:0},url:function(){return"/comments"},initialize:function(i,a){if(e.prototype.initialize.apply(this,arguments),a=a||{},t.bindAll(this,"updateLikes"),t.bindAll(this,"updateDislikes"),i){this.setUser(i.user);var s=n(34);this.page=new s(i.page||{}),this.setThread(i.thread),this.setRealtimeNew(a.realtimeNewComment)}},getThreadsAsc:function(){return this.thread.models.reverse()},updateCounts:function(t,e,n){var i,a="liked"==t?"disliked":"liked",s="liked"==t?"num_likes":"num_dislikes",r="disliked"==t?"num_likes":"num_dislikes",o={};"delete"===n.verb?(i=this.get(s),o[t]=0,o[s]=0===i?0:i-1):(o[t]=1,o[s]=this.get(s)+1,o[r]=1===this.get(a)?this.get(r)-1:this.get(r),o[r]=o[r]<0?0:o[r],o[a]=0),this.set(o)},updateLikes:function(t,e){this.updateCounts("liked",t,e)},updateDislikes:function(t,e){this.updateCounts("disliked",t,e)},getThread:function(t){t=t||{};var e=n(35),i=new e([],{page:this.page}),a=i.url;return i.url="/comments/"+this.id+"/context",i.fetch(t),i.url=a,i},replies:function(t){t=t||{};var e=n(35),i=new e;return i.pageId=this.get("parent_id"),i.id=this.get("thread_id"),i},shareLink:function(){return window.location.protocol+"//"+window.location.host+this.page.get("path")+encodeURIComponent("#")+"vf-"+this.id},parse:function(t,e){return t=t.result||t,this.setUser(t.user),this.setRealtimeNew(e.realtimeNewComment),t},setUser:function(t){t=t||{},o=n(3),this.user=t.id===o.current.user.id?o.current.user:new a(t)},setThread:function(t){t&&(this.thread||(this.thread=this.replies()),this.thread.add(t.results),this.thread.after_count=t.after_count,this.thread.before_count=t.before_count,this.thread.total_count=t.total_count)},setRealtimeNew:function(t){t=!!t,this.set("realtimeNewComment",t),this.thread&&this.thread.each(function(e){e.setRealtimeNew(t)})},toJSON:function(){var e=t.clone(this.attributes);return e.video&&e.video.thumbs&&(e.video_placeholder=this.attributes.video.thumbs.medium),this.user&&(e.user=this.user.toJSON()),e.picture&&(e.imageURL=this.largestImage().url,e.thumbURL=this.largestImageBelow("s").url),e.comment_url=this.getPageUrl()+"#vf-"+this.id,e.page_url=this.getPageUrl(),e},getPageUrl:function(){var t="",e=this.attributes.page;return e&&(t=location.host+e.path),t},hasLiked:function(){return 1!==this.get("liked")},hasDisliked:function(){return 1!==this.get("disliked")},toggleLike:function(t){t=t||{},t.success=n(18).wrap(t.success,this.updateLikes);var e="delete";this.hasLiked()&&(e="put"),t.verb=e,this.restAPI.request(e,"likes/"+this.id,{},t)},toggleDislike:function(t){t=t||{},t.success=n(18).wrap(t.success,this.updateDislikes);var e="delete";this.hasDisliked()&&(e="put"),t.verb=e,this.restAPI.request(e,"dislikes/"+this.id,{},t)},largestImage:function(){var t=this.attributes;return t.picture.l||t.picture.m||t.picture.s||t.picture.t},largestImageBelow:function(t){for(var e=this.attributes,n=["x","l","m","s","t"],i=!0,a=0;a<n.length;a++)if(i&&(i=n[a]!=t),!i&&e.picture[n[a]])return e.picture[n[a]];return e.picture[n.pop()]},isVideoProcessing:function(){return this.has("video")&&"in_progress"==this.attributes.video.processing_status},isVideoComplete:function(){return this.has("video")&&"completed"==this.attributes.video.processing_status},isRemoved:function(){return"removed"==this.get("processing_status")},isSpam:function(){return"spam"==this.get("processing_status")},isDisabled:function(){return"disabled"==this.get("processing_status")},hasMedia:function(){return this.has("picture")||this.has("video")||this.has("media_id")},getEditTimeLeft:function(){return Math.min(this.get("date_created")+this.domainSettings.get("user_comment_edit_timeout"),this.get("date_locked"))},hasEditTimeLeft:function(){return s.getTimeLeft(this.getEditTimeLeft(),this.domainSettings.currentTime())>0},hasEditTimeLimit:function(){return this.hasEditTimeLeft()&&!(this.get("date_locked")===this.domainSettings.foreverTimeout&&this.domainSettings.hasForeverTimeout())}});return l}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(27),n(30),n(35)],a=function(t,e,i,a){var s=e.extend({url:"/pages",initialize:function(){e.prototype.initialize.apply(this,arguments),t.bindAll(this,"updateFollow")},toJSON:function(){var e=t.clone(this.attributes);return e.host=window.location.host,e.rating&&e.rating.toFixed&&(e.rating=e.rating.toFixed(1)),e},updateFollow:function(t,e){"delete"===e.verb?this.set({subscribed:!1}):this.set({subscribed:!0})},rate:function(t){var e=this.get("rating"),n=this.get("num_ratings")+1;this.set({num_ratings:n,rating:e+(t-e)/n})},comments:function(){var t=new i;return t.url="/pages/"+this.getRouteId()+"/comments",t},threads:function(t){var e=new a([],t);return e.page=this,e},hasSubscribed:function(){return!!this.get("subscribed")},toggleFollow:function(t){t=t||{},t.success=n(18).wrap(t.success,this.updateFollow);var e="put";this.hasSubscribed()&&(e="delete"),t.verb=e,this.restAPI.request(e,"follows/"+this.id,{},t)},getRouteId:function(){return this.id?this.id:encodeURIComponent(this.get("path"))},getPage:function(e,n){this.unset("id",{silent:!0}),this.save(e,t.extend({},n,{batch:!0}))},isHidden:function(){return"hidden"===this.get("status")},isClosed:function(){return"closed"===this.get("status")},canComment:function(){return!this.isHidden()&&!this.isClosed()}});return s}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(10),n(31),n(11),n(33)],a=function(t,e,i,a,s){var r=i.extend({model:s,defaultSort:"newest",url:function(){var t="/threads";return this.page&&(t="/pages/"+this.page.getRouteId()+t),this.id&&(t="/threads/"+this.id+"/comments"),this.editor&&(t="/pages/"+this.page.getRouteId()+"/comments"),this.context&&(t="/comments/"+this.context+"/context"),t},setOptions:function(t){},sortBy:function(t){switch(t){case"likes":case"activity":case"newest":case"oldest":case"replies":case"editor-picks":return delete this.settings.show,delete this.settings.sort,"editor-picks"==t?(this.settings.show=t,this.editor=!0):(this.editor=!1,this.settings.sort=t),!0}return!1},initialize:function(a,s){i.prototype.initialize.apply(this,arguments),s=s||{},t.bindAll("cleanRealtimeNew"),this.model=n(33),s&&(this.page=s.page),this.settings={sort:this.defaultSort,limit:10,child_limit:s.child_limit||2,original_parent_id:this.page&&this.page.id},s&&s.settings&&t.extend(this.settings,s.settings),this.listenTo(e,"threads:cleanRealtimeNew",this.cleanRealtimeNew)},fetchItem:function(e,n){var i=t.clone(this.settings);delete this.settings.limit,t.extend(this.settings,{item_id:e,max_before:4,max_after:4}),this.fetch(n),this.settings=i},fetchBeginning:function(t){this.setPage(),i.prototype.fetchBeginning.apply(this,arguments)},fetchPageBefore:function(t){this.setPage(),t=t||{},t.remove=!1,t.reverse=!0,i.prototype.fetchPageBefore.call(this,t)},fetchPageAfter:function(t){this.setPage(),t=t||{},t.remove=!1,t.append=!0,i.prototype.fetchPageAfter.call(this,t)},setPage:function(){this.page&&this.pageId&&this.settings.original_parent_id||!(this.models.length>0)?!this.settings.original_parent_id&&this.pageId&&(this.settings.original_parent_id=this.pageId):(this.page=this.models[0].page,this.pageId=this.page.id,this.settings.original_parent_id=this.page.id)},isLoadedThread:function(t){return this.some(function(e){return e.id===t})},fetchMissing:function(e){var n=this;t.each(e.ids,function(t){if(!n.isLoadedThread(t)){var i=new s({id:t});i.fetch({success:function(t){n.add(t)},error:e.error})}})},cleanRealtimeNew:function(t){this.each(function(e){void 0!==t&&t!==e.get("thread_id")||e.set("realtimeNewComment",!1)})}});return r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(3),n(31),n(33),n(10),n(28)],a=function(t,e,n,i,a,s){var r=n.extend({model:s,getUrl:function(){return"/mutes/"+e.current.user.id},initialize:function(e,i){n.prototype.initialize.apply(this,arguments),this.settings={limit:20},i&&i.settings&&t.extend(this.settings,i.settings)}});return r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(27),n(18)],a=function(t,e){var n=t.extend({url:"/settings",foreverTimeout:4294967295,isEnabled:function(t){return 1===this.get(t)},isDisabled:function(t){return 0===this.get(t)},currentTime:function(){var t=new Date;return t.getTime()+this.timeOffset},hasEditTimeLimit:function(){return this.get("user_comment_edit_timeout")!==this.foreverTimeout},hasForeverTimeout:function(){return this.get("user_comment_edit_timeout")===this.foreverTimeout},parse:function(t,n){var i=e.getIEVersion();if((!e.supportCORS()&&!e.supportXDomain()||0!=i&&i<=9)&&t.result.comment_max_length>1400&&(t.result.comment_max_length=1400),void 0!==t.result.server_time){this.serverTime=new Date(1e3*t.result.server_time);var a=n.computerTime||new Date;this.timeOffset=this.serverTime.getTime()-a.getTime()+this.restAPI.batchDelay}else this.timeOffset=0;return t.result}});return n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(27)],a=function(t,e){var n=e.extend({defaults:{descendants:[]},idAttribute:"section_id",url:"/sections/root",initialize:function(n,i){e.prototype.initialize.call(this,n,i),this.has("descendants")&&this.set("names",t.invert(this.get("descendants")))},parse:function(){var n=e.prototype.parse.apply(this,arguments);return n.names=t.invert(n.descendants),n},getId:function(t,e){return e=void 0===e?this.id:e,this.get("descendants")[t]||e},getName:function(t,e){return this.id===t?"root":(e=void 0===e?"root":e,this.get("names")[t]||e)}});return n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(11),n(9),n(41),n(42),n(43),n(44),n(40),n(45),n(7)],a=function(t,e,n,i,a,s,r,o,l){var c=function(t,e,c){this.restAPI=t,this.session=e,this.settings=c,this.oAuthLogin=new n(e),this.cookieLogin=new i(e,c),this.backplaneLogin=new a(t),this.gigyaLogin=new s(e),this.loginRadiusLogin=new r(t,l.authentication_vf_url),this.loginRadiusSocialLogin=new o(t,l.authentication_vf_url),this.listenTo(this.settings,"change:authprovider_oauth_enabled",this.onOAuthChange),this.listenTo(this.settings,"change:authprovider_custom_cookie_name",this.onCookieChange),this.listenTo(this.settings,"change:authprovider_backplane_v2_enabled",this.onBackplaneChange),this.listenTo(this.settings,"change:authprovider_backplane_v1_2_enabled",this.onBackplaneChange),this.listenTo(this.settings,"change:authprovider_gigya_poll",this.onGigyaPollChange),this.listenTo(this.oAuthLogin,"login",this.onLogin),this.listenTo(this.oAuthLogin,"login:fail",this.onLoginFail),this.listenTo(this.backplaneLogin,"login",this.onLogin),this.listenTo(this.backplaneLogin,"login:fail",this.onLoginFail),this.listenTo(this.gigyaLogin,"login",this.onLogin),this.listenTo(this.gigyaLogin,"login:fail",this.onLoginFail),this.listenTo(this.gigyaLogin,"logout",this.onLogout),this.listenTo(this.cookieLogin,"login",this.onLogin),this.listenTo(this.cookieLogin,"login:fail",this.onLoginFail),this.listenTo(this.loginRadiusLogin,"login",this.onLogin),this.listenTo(this.loginRadiusLogin,"login:fail",this.onLoginFail),this.listenTo(this.loginRadiusSocialLogin,"login",this.onLogin),this.listenTo(this.loginRadiusSocialLogin,"login:fail",this.onLoginFail),this.loginRadiusLogin.setup(),this.loginRadiusSocialLogin.setup()};return e.extend(c.prototype,t.Events,{socialLogin:function(t){return this.loginRadiusSocialLogin.login(t)},cookieAutoLogin:function(){this.cookieLogin.autoLogin()},autoLogin:function(t){return t?this.oAuthLogin.autoLogin():!!this.cookieLogin.autoLogin()||this.oAuthLogin.autoLogin()},onOAuthChange:function(t){t.isEnabled("authprovider_oauth_enabled")?this.oAuthLogin.setup(t.get("authprovider_oauth_key")):this.oAuthLogin.teardown()},onCookieChange:function(t){this.cookieLogin.setup(t.get("authprovider_custom_cookie_name"))},onBackplaneChange:function(t){t.isEnabled("authprovider_backplane_v2_enabled")?this.backplaneLogin.setup("2"):t.isEnabled("authprovider_backplane_v1_2_enabled")?this.backplaneLogin.setup("1.2"):this.backplaneLogin.teardown()},onLogin:function(t,e){this.trigger("login",t,e)},onLogout:function(){this.trigger("logout")},onLoginFail:function(t){this.trigger("login:fail",t)},onGigyaPollChange:function(t){t.isEnabled("authprovider_gigya_poll")?this.gigyaLogin.setup():this.gigyaLogin.teardown()}}),c}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(12),n(11),n(7),n(10),n(18),n(15)],a=function(t,e,n,i,a,s,r){var o=function(e){t.bindAll(this),this.restAPI=e,this.loaded=!1};return t.extend(o.prototype,n.Events,{setup:function(){return!this.loaded&&(this.loaded=!0,void this.onload())},login:function(t){if(!this.loaded)return!1},onLoginSuccess:function(t){this.trigger("login",t.session,t.result)},onLoginError:function(t){if(t.message&&"Token not found"===t.message)return!1;var e="Error logging into login radius account.";t.error&&(e=t.error),this.trigger("login:fail",e),a.trigger("/user/login/fail"),a.trigger("/user/login/loginradius/fail")},onloginRadiusEvent:function(t){this.restAPI.request("post","/users/loginradiuslogin",{token:t},{success:this.onLoginSuccess,error:this.onLoginError})},startListening:function(){a.on("onLoginRadiusLogin",this.onloginRadiusEvent)},onload:function(){this.startListening()}}),o}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(11),n(9),n(10),n(17),n(7)],a=function(t,e,n,i,a,s){var r=function(e){this.session=e,this.popup={width:780,height:492},this.wordPressKey="VFWPAuth",n.bindAll(this,"onSuccess","isWindowClosed","onError"),this.windowDelay=250,this.endpoint=s.api_url_v1,this.popup.top=(t(window).height()-this.popup.height)/2,this.popup.left=(t(window).width()-this.popup.width)/2};return n.extend(r.prototype,e.Events,{setup:function(t){this.active=!0,this.cookieKey="oauth_login_"+t},teardown:function(){this.active=!1},isWindowClosed:function(){this.window&&this.window.closed&&(clearInterval(this.timer),this.login())},openWindow:function(){this.window=window.open(this.getUrl(),"vf_login_window","location=1,scrollbars=0,height="+this.popup.height+",width="+this.popup.width+",top="+this.popup.top+",left="+this.popup.left),this.timer=setInterval(this.isWindowClosed,this.windowDelay)},getToken:function(){var t=a.getItem(this.cookieKey);return t?decodeURIComponent(t):null},isLoggedIntoWordpress:function(){var t=window[this.wordPressKey];return t&&"true"===t.isLoggedin&&this.getToken()},autoLogin:function(){return!(!this.active||!this.isLoggedIntoWordpress())&&(this.request({mode:"jsonp",mode_data:this.getToken()}),!0)},login:function(){this.request({step:"login"})},getParams:function(t){t=t||{},n.extend(t,{provider:"oauth",callback_base:this.endpoint});var e={json:JSON.stringify({requests:[{api:"user",type:"loginOAuth",params:t}]})};return e.host=location.hostname,e.s=this.session.get(),e.u="login",e},getUrl:function(e){return this.endpoint+"?"+t.param(this.getParams(e))},request:function(e){var n=this.getParams(e);t.ajax({url:this.endpoint,dataType:"jsonp",data:n,success:this.onSuccess,error:this.onError})},onSuccess:function(t){if(t.error)i.trigger("/user/login/fail","OAuth login failed."),this.trigger("login:fail","OAuth login failed.");else{var e=t.requests[0];if(e.error)i.trigger("/user/login/fail",e.error.text),this.trigger("login:fail",e.error.text);else{var a=e.data[0],s=t.users[a];if(n.isArray(s.badges)){for(var r={videostar:0,authoritative:0,active:0,connected:0,engaged:0},o=s.badges.length;o--;)r[s.badges[o]]=1;s.badges=r}s.id=+s.id,""===s.pic_small&&delete s.pic_small,this.trigger("login",t.sid,s)}}},onError:function(){i.trigger("/user/login/fail","OAuth login failed."),this.trigger("login:fail","OAuth login failed.")}}),r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(12),n(11),n(7),n(10),n(17),n(20)],a=function(t,e,i,a,s,r,o){var l=function(e){
t.bindAll(this,"autoLogin","onSuccess","onError"),this.session=e};return t.extend(l.prototype,i.Events,{setup:function(t){this.cookieKey=t,this.listenTo(s,"user.custom_login",this.onCookieLogin)},teardown:function(){this.stopListening()},autoLogin:function(){var t=this.getCookie();return!!t&&this.login(t)},login:function(t){return this.loginWithData({site:"viafouraDefinedCookie",cookie:t,page_id:n(3).current.page.get("id")})},getCookie:function(){if(this.cookieKey)return r.getItem(this.cookieKey)},onCookieLogin:function(t){this.loginWithData(t)},loginWithData:function(t){var n={json:JSON.stringify({requests:[{api:"user",type:"loginCustom",params:t}]}),u:"login",host:o().domain,s:this.session.get()};return e.ajax({url:a.api_url_v1,data:n,dataType:"jsonp",success:this.onSuccess,error:this.onError}),!0},onSuccess:function(t){var e;t.requests&&t.requests[0].error?e=t.requests[0].error.text:t.error&&(e=t.error.text),e?(s.trigger("/user/login/fail",e),this.trigger("login:fail",e)):this.trigger("login",t.sid)},onError:function(){var t="Cookie login timed out.";s.trigger("/user/login/fail",t),this.trigger("login:fail",t)}}),l}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;(function(s){try{i=[n(11),n(9),n(10),n(7)],a=function(t,e,n,i){var a=function(t){e.bindAll(this,"poll","onSuccess","onError","onBackplaneMessage"),this.restAPI=t,this.loaded=!1,this.active=!1,this.pollDelay=100};return e.extend(a.prototype,t.Events,{setup:function(t){this.active=!0,this.backplaneVersion=t,this.loaded||this.poll()},teardown:function(){this.active=!1,this.backplaneVersion=null},poll:function(){window.Backplane&&("2"===this.backplaneVersion||window.janrain)?this.onBackplaneReady():s(this.poll,this.pollDelay)},onBackplaneReady:function(){this.loaded=!0,window.Backplane.getChannelID()!==!1&&(window.escSubscription=Backplane.subscribe(this.onBackplaneMessage)),"2"!==this.backplaneVersion&&window.janrain.events.onCaptureSessionEnded.addHandler(this.onJanrainLogout)},onBackplaneMessage:function(t){if(this.active)return"identity/login"==t.type?("2"===this.backplaneVersion?this.restAPI.request("post","/users/backplane",{messageChannel:t.channel,messageid:t.messageURL},{success:this.onSuccess,error:this.onError}):this.restAPI.request("post","/users/backplane_v1_2",{backplane_id:t.payload.identities.entry.id},{success:this.onSuccess,error:this.onError}),!1):void("identity/logout"==t.type&&this.onJanrainLogout())},onJanrainLogout:function(){n.trigger("/user/logout/click"),n.trigger("/modal/close"),this.trigger("logout")},onSuccess:function(t){this.trigger("login",t.session,t.result)},onError:function(t){n.trigger("/user/login/fail",t.error),this.trigger("login:fail",t.error)}}),a}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var r=n(6);r(t)}}).call(e,n(5))},function(t,e,n){var i,a;(function(s){try{i=[n(12),n(9),n(11),n(10),n(7),n(20)],a=function(t,e,n,i,a,r){var o=function(t){e.bindAll(this,"timer","gigyaLoginHandler","gigyaLogoutHandler","onSuccess","onError","onGetUserInfo"),this.loaded=!1,this.session=t,this.totalTime=6e4};return e.extend(o.prototype,n.Events,{setup:function(){this.active=!0,this.loaded||this.pollForScript()},teardown:function(){this.active=!1},pollForScript:function(){this.timeout=0,this.elapsedTime=0,this.timer()},timer:function(){this.loaded||(window.gigya?(this.loaded=!0,this.addEvents()):this.elapsedTime<this.totalTime&&(this.timeout+=1e3,this.elapsedTime+=this.timeout,s(this.timer,this.timeout)))},addEvents:function(){window.gigya.socialize.addEventHandlers({onLogin:this.gigyaLoginHandler,onLogout:this.gigyaLogoutHandler}),window.gigya.accounts&&window.gigya.accounts.addEventHandlers({onlogin:this.gigyaLoginHandler,onlogout:this.gigyaLogoutHandler}),window.viafoura.core.current.user.isLoggedIn()||window.gigya.socialize.getUserInfo({callback:this.onGetUserInfo})},onGetUserInfo:function(t){t&&t.user&&t.user.isLoggedIn&&window.gigya.accounts.getAccountInfo({callback:this.gigyaLoginHandler})},gigyaLogoutHandler:function(){this.active&&this.trigger("logout")},gigyaLoginHandler:function(e){if(this.active){var n={json:JSON.stringify({requests:[{api:"user",type:"loginGigya",params:{uid:e.UID,uid_signature:e.UIDSignature,uid_timestamp:e.signatureTimestamp,step:"login"}}]})};n.host=r().domain,n.s=this.session.get(),n.u="login",t.ajax({url:a.api_url_v1,dataType:"jsonp",data:n,success:this.onSuccess,error:this.onError})}},onSuccess:function(t){if(t.requests[0].error)return i.trigger("/user/login/fail",t.requests[0].error.text),void this.trigger("login:fail",t.requests[0].error.text);var e=t.requests[0],n=e.data[0],a=t.users[n];this.trigger("login",t.sid,a)},onError:function(){i.trigger("/user/login/fail","Social login failed."),this.trigger("login:fail","Social login failed.")}}),o}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var r=n(6);r(t)}}).call(e,n(5))},function(t,e,n){var i,a;(function(s){try{i=[n(9),n(12),n(11),n(7),n(10),n(18),n(15)],a=function(t,e,i,a,r,o,l){var c=function(e,n){t.bindAll(this),this.storageKey="vf_social_token",this.loginRadiusSocialUrl=n,this.restAPI=e,this.loaded=!1,this.loginId=null,this.popup=null,this.loginRadiusSocialReceived=!1,this.listeningMode=null};return t.extend(c.prototype,i.Events,{setup:function(){return!this.loaded&&(this.loaded=!0,void this.onload())},teardown:function(){this.loaded=!1,window.removeEventListener?window.removeEventListener("message",this.onLoginRadiusSocialEvent,!1):window.detachEvent("onmessage",this.onLoginRadiusSocialEvent)},login:function(t){if(!this.loaded)return!1;switch(t){case"facebook":case"google":case"twitter":case"linkedin":case"yahoo":case"paypal":return this.triggerFlow(t),!0;case"live_id":return this.triggerFlow("live"),!0;case"aol":return this.triggerFlow("http://openid.aol.com"),!0;case"vkontakte":case"amazon":case"disqus":case"foursquare":case"github":case"hyves":case"instagram":case"kaixin":case"livejournal":case"mixi":case"odnoklassniki":case"openid":case"orange":case"persona":case"qq":case"renren":case"salesforce":case"sinaweibo":case"stackexchange":case"steamcommunity":case"verisign":case"virgilio":case"wordpress":default:return!1}},triggerFlow:function(t,e){this.loginId=this.restAPI.session;var i=a.api_url_root+"/callback.php?site="+this.restAPI.site+"&id="+this.loginId,e=n(3).current.section_tree.getId("root");this.launchWindow(this.loginRadiusSocialUrl+"/thirdparty/"+t+"?callback="+encodeURIComponent(i)+"&site="+o.toUuid(e)+"&client="+a.authentication_vf_client)},launchWindow:function(t){var e=this;if("poll"===this.listeningMode&&this.startPolling(),this.popup=this.openWindow(t,"Window","menubar=0,resizable=1,width=450,height=500"),window===this.popup)return!1;var n=setInterval(function(){e.popup&&e.popup.closed&&(e.loginRadiusSocialReceived===!1&&e.onLoginRadiusSocialLoginCancel(),e.loginRadiusSocialReceived=!1,clearInterval(n))},500);return!1},openWindow:function(t,e,n){return window.open(t,e,n)},fetchUserWithToken:function(t){s(function(){this.restAPI.request("post","/users/sociallogin",{token:t,page_id:n(3).current.page.get("id")},{success:this.onLoginSuccess,error:this.onLoginError})}.bind(this),0)},onLoginRadiusSocialLoginToken:function(t){this.fetchUserWithToken(t)},onLoginRadiusSocialLoginCancel:function(){r.trigger("/user/login/social/cancel")},onLoginRadiusSocialLoginError:function(t){r.trigger("/user/login/social/error",t.err.msg)},onLoginSuccess:function(t){this.trigger("login",t.session,t.result)},onLoginError:function(t){if(t.message&&"Token not found"===t.message)return!1;var e="Error logging into social account.";t.error&&(e=t.error),this.trigger("login:fail",e),r.trigger("/user/login/social/fail",e),r.trigger("/user/login/fail",e)},onLoginRadiusSocialEvent:function(t){var e=t.origin==a.api_url_root||t.origin==location.origin;if(e&&t.data&&"webviewClose"===t.data)return void this.onLoginRadiusSocialLoginCancel();switch(this.listeningMode){case"poll":this.fetchUserWithToken(t.token),this.loginRadiusSocialReceived=!0;break;case"post":e&&this.validateToken(t.data)&&(this.fetchUserWithToken(t.data),this.loginRadiusSocialReceived=!0,this.popup!==window&&this.popup&&(this.popup.focus(),this.popup.close()));break;default:l.assert(!1,"Listening mode undefined")}},validateToken:function(t){var e=/^\{?[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}\}?/i;return null!=t&&t.match(e)},poll:function(){this.loginId&&this.popup.closed&&(this.restAPI.request("get","/users/logincache/get",{id:this.loginId},{success:this.onLoginRadiusSocialEvent,error:this.onLoginError}),clearInterval(this.intId),this.loginId=null)},startPolling:function(){this.intId=setInterval(this.poll,100)},startListening:function(){window.addEventListener?window.addEventListener("message",this.onLoginRadiusSocialEvent,!1):window.attachEvent("onmessage",this.onLoginRadiusSocialEvent)},onload:function(){var t=o.getIEVersion(),e=o.insideWebview();0!=t&&t<=9||11==t||e?this.listeningMode="poll":(this.listeningMode="post",this.startListening())}}),c}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var r=n(6);r(t)}}).call(e,n(5))},function(t,e,n){var i,a;try{i=[n(12),n(9),n(18)],a=function(t,e,n){function i(e){return t(e).data().widget}function a(t){return t.remove&&"function"==typeof t.remove}function s(t){for(var e;e=t.shift();)clearInterval(e)}function r(e){var n=t(document.createElement("div")),i=e.$el,a=i.children();i.append(n),e.setElement(n),a.detach(),n.append(a)}var o=function(t,n,i){this.name=t,this._load=i,this._create=n,e.bindAll(this,["_load","load","_create","create","_instantiate"]),this._init()};o.prototype={_init:function(){this.concreteWidgets={},this.queue=[],this._loaderPromise=void 0},count:function(){return Object.keys(this.concreteWidgets).length},setSettings:function(t){this.settings=t},load:function(){if(this._loaderPromise)return this._loaderPromise;var e=t.Deferred();return this._load(e.resolve),this._loaderPromise=e.promise()},create:function(t){return t&&this.queue.push(t),this.load().then(this._instantiate)},reset:function(){this._removeConcreteWidgets(),this._init()},_removeConcreteWidgets:function(){e.each(this.concreteWidgets,function(t){a(t)&&(r(t),t.remove(!0))})},_instantiate:function(){for(var i;i=this.queue.pop();)if(this._canInstantiate(i)){var a=e.uniqueId("w");t(i).attr("data-widget-id",a).toggleClass("vf-mobile",n.isMobileOrTablet()),this.concreteWidgets[a]=this._create(i)}},_canInstantiate:function(e){if(!this.settings)throw new Error("Attempted to load widgets before settings loaded");const n=t(e).data("widget-id");return!this.concreteWidgets[n]&&0!==this.settings["enable_"+this.name]}};var l=function(){this.loaders={},this._findIntervals=[]};return l.prototype={register:function(t){if(!(t&&t.name&&t.create&&t.loadDeps))throw"Could not register widget";this.loaders[t.name]=new o(t.name,t.create,t.loadDeps)},unregister:function(t){if(!this.widgets[t])throw new Error("Could not find widget "+t);delete this.widgets[t]},loadDeps:function(n,a,s){function r(){e.forEach(t(".vf-widget"),function(t){var e=this.loaders[i(t)];e&&(e.setSettings(a),e.load(),n&&e.create(t))},this),"loading"!==document.readyState&&(e.isFunction(s)&&s(),clearInterval(o))}var o;this._findIntervals.push(o=setInterval(r.bind(this),50))},poll:function(t,e){this.loadDeps(!0,e,t)},removeAll:function(){s(this._findIntervals),e.each(this.loaders,function(t){t.reset()})},count:function(){return e.reduce(this.loaders,function(t,e){return t+e.count()},0)}},l}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(12),n(11),n(26),n(28),n(10),n(16),n(48),n(18)],a=function(t,e,i,a,s,r,o,l,c){var u=function(e,n,i){this.session=e,this.user=n,this.ability=new l(i),t.bindAll(this,"onLogin","onLogout","onUserLoaded"),this.listenTo(r,"/user/login",this.login),this.listenTo(r,"/user/logout/click",this.logout),this.listenTo(r,"/user/create",this.signup),this.listenTo(r,"/user/edit",this.editUser),this.listenTo(r,"/user/email_verification/resend",this.resendVerification),this.listenTo(r,"/session/found",this.setSession),this.listenTo(r,"user.logout",this.logout)};return t.extend(u.prototype,i.Events,{detectSession:function(){var t,n=e("#viafoura-platform").data();return t=n&&n.sid?n.sid:o.getItem(a.sessionKey),this.setSession(t)},fetchUser:function(e){this.user.reset({silent:!0}),e=t.extend({current:!0,wait:!0,batch:!0},e),e.success=c.wrap(e.success,this.onUserLoaded),this.user.fetch(e)},login:function(e,i,a){a=a||{},this.user.reset({silent:!0}),a.success=c.wrap(a.success,this.onLogin),a=t.extend({},a,{login:!0,wait:!0}),this.user.save({email:e,password:i,page_id:n(3).current.page.get("id"),fingerprint:""},a)},logout:function(){this.user.destroy({logout:!0,batch:!1}),this.clear(),this.fetchUser({success:this.onLogout})},signup:function(e,i){i=i||{},e.login=!0,this.user.reset({silent:!0}),i.success=c.wrap(i.success,this.onLogin),e.page_id=n(3).current.page.get("id"),this.user.save(e,t.extend({},i,{wait:!0}))},editUser:function(t,e){this.user.save(t,e)},resendVerification:function(t,e){var n="create";e.data=t,e.success=c.wrap(e.success),this.user.sync(n,t,e)},setSession:function(t){return!!this.session.set(t)&&(this.trigger("session:change",t),!0)},resetUser:function(t,e){return!!this.setSession(t)&&(e?(this.user.clear({silent:!0}),this.user.set(e)):this.user.reset(),this.ability.loadPermissions(this.user),!0)},clear:function(){this.session.destroy(),this.user.reset()},isLoggedIn:function(){return this.user.isLoggedIn()},onUserLoaded:function(){this.ability.loadPermissions(this.user)},onLogout:function(){r.trigger("/user/logout"),this.trigger("logout")},onLogin:function(t){t.http_status&&201===t.http_status?this.fetchUser({success:function(){this.onUserLoaded(),r.trigger("/user/login/success",this.user),r.trigger("/modal/close")}.bind(this)}):(this.onUserLoaded(),r.trigger("/user/login/success",this.user),r.trigger("/modal/close"))}}),u}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(33),n(28),n(34),n(18)],a=function(t,e,n,i,a){var s=function(t){this.settings=t,this.permissions=[],this.type="none"};return s.prototype={loadPermissions:function(t){this.permissions=[],this.type="none",t.isLoggedIn()?(this.type="user",t.isAdmin()?(this.type="admin",this.can("moderate",e)):t.isModerator()&&(this.type="mod",this.can("moderate",e)),this.can("create",e,function(e){return!(t.isLoggedIn()&&t.hasCommentLimit()&&1===this.settings.get("enable_email_verifications"))}),this.can("like",e,function(e){return"pending_new"!==t.get("email_verification_status")}),this.settings.get("enable_dislikes")&&this.can("dislike",e,function(e){return"pending_new"!==t.get("email_verification_status")}),this.can("update",e,function(e){return!e.page.isClosed()&&(!(e.isSpam()||e.isDisabled()||e.isRemoved())&&(0!==this.settings.get("enable_user_comment_editing")&&(!!e.hasEditTimeLeft()&&(e.get("user_id")==t.id&&0===e.get("editor_pick")))))}),this.can("remove",e,function(e){return 0!==this.settings.get("enable_user_comment_remove")&&(!(e.isSpam()||e.isDisabled()||e.isRemoved())&&(!e.page.isClosed()&&(!!e.hasEditTimeLeft()&&e.get("user_id")==t.id)))}),this.can("flag",e,function(e){return!e.user.isModOrAdmin()&&!t.hasUnapprovedUsername()&&!t.hasUnverifiedEmail()}),this.can("update",n,function(e){return e.id===t.id}),this.can("updateAvatar",n,function(e){return!this.isLoginRadiusEnabled()&&(e.id===t.id&&!e.isSocialAccount()&&this.settings.isDisabled("disable_cookie_avatars"))}),this.can("updatePassword",n,function(e){return!this.isLoginRadiusEnabled()&&(e.id===t.id&&e.isViafouraAccount()&&this.settings.isDisabled("disable_widget_logins"))}),this.can("updateName",n,function(e){return!this.isLoginRadiusEnabled()&&(e.id===t.id&&(e.isCustomAccount()||e.isViafouraAccount())&&this.settings.isDisabled("disable_cookie_displayname"))}),this.can("updateEmail",n,function(e){return!this.isLoginRadiusEnabled()&&(e.id===t.id&&e.isViafouraAccount())}),this.can("updateNotifications",n,function(e){return e.id===t.id&&this.settings.isDisabled("disable_email_notifications")&&e.has("email")}),this.can("record"),this.can("uploadVideo"),this.can("uploadImage"),this.can("follow",i),this.can("follow",n,function(e){return e.id!==t.id&&!e.get("isMuted")}),this.can("mute",n,function(e){return e.id!==t.id}),this.can("unmute",n,function(e){return e.id!==t.id}),this.can("rate",i)):t.isBanned()?this.type="banned":t.isGuest()&&(this.type="guest",this.can("create",e,function(t){return this.settings.isEnabled("enable_anonymous_comments")&&"string"==typeof t.get("anonymous_name")&&t.get("anonymous_name").length>0}))},typeIs:function(t){return this.type===t},check:function(t,e){for(var n=0;n<this.permissions.length;n++){var i=this.permissions[n];if(void 0===i.type||e instanceof i.type){if("manage"===i.action)return!0;if(i.action===t)return!i.condition||i.condition.call(this,e)}}return!1},has:function(e,n,i){return!!t.find(this.permissions,function(t){return t.action===e&&t.type===n&&t.condition===i})},can:function(t,e,n){n||this.cannot(t,e),this.permissions.push({action:t,type:e,condition:n})},cannot:function(e,n){this.permissions=t.filter(this.permissions,function(t){return!(t.action===e&&t.type===n)})},isLoginRadiusEnabled:function(){return this.settings.isEnabled("authprovider_loginradius_enabled")}},s}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(7),n(3),n(4)],a=function(t,e,n,i){var a=["content"],s=function(t,e){this.apis={},this.services=t||a,this.url_template=e||"//{SERVICE}{API_URL}"};return t.extend(s.prototype,{init:function(e){return e=t.clone(e)||{},t.each(this.services,function(t){e.service=t;var n=new i(this.getUrl(e),e.domain,e.section);this.apis[t]=n}.bind(this)),this},get:function(t){return this.apis[t]},getUrl:function(e){return e=t.defaults(e||{},{service:"",api_url:""}),this.url_template.replace(/\{SERVICE\}/,e.service).replace(/\{API_URL\}/,e.api_url)}}),s}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(7),n(9),n(10),n(18)],a=function(t,e,n,i){function a(t){this.socket=null,this.pingTimer=null,this.lastPing=[],this.sendQueue=[],this.subscriptions={},this.manualClose=!1,this.options=e.defaults(t||{},{maxPingList:3,strictPing:!1,retries:5,pingTimeoutMs:3e4,connectingTimeoutMs:5e3}),this.retries=this.options.retries}return e.extend(a.prototype,n,{connect:function(){if(!("WebSocket"in window))return this.trigger("status","unsupported"),this;if(this.socket)switch(this.socket.readyState){case WebSocket.OPEN:case WebSocket.CONNECTING:return this;case WebSocket.CLOSING:case WebSocket.CLOSED:this.close()}return this.trigger("status","connecting"),this.socket=new WebSocket(t.realtime_socket),this.socket.onopen=this.onOpen.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=function(e){t.debug&&console.log(e),this.trigger("status","disconnected"),this.close()}.bind(this),this},ping:function(){this.pingTimer||(this.pingTimer=setInterval(function(){var t=(new Date).getTime();this.lastPing.push(t),this.lastPing.length>this.options.maxPingList&&this.lastPing.shift(),this.send({action:"ping",time:t})}.bind(this),this.options.pingTimeoutMs))},send:function(t){this.sendQueue.push(t),this.flushQueue()},flushQueue:function(){if(this.socket)switch(this.socket.readyState){case WebSocket.OPEN:for(var t=null;t=this.sendQueue.shift();)this.socket.send(JSON.stringify(t));break;case WebSocket.CONNECTING:}},subscribe:function(t,n){var i={},a=n||e.uniqueId("s");return void 0!==this.subscriptions[a]?a:(i[a]=this.subscriptions[a]=t,this.connect().send({action:"subscribe",filters:i}),a)},subscribePage:function(t){return this.subscribe({page_uuid:[i.toUuid(t)]})},unsubscribe:function(t){var n=e.clone(this.subscriptions,!0);e.each(this.subscriptions,function(i,a){if("string"==typeof t&&a===t||e.isEqual(t,i)){var s={};s[a]=i,this.connect().send({action:"unsubscribe",filters:s}),delete n[a]}},this),this.subscriptions=n,e.size(this.subscriptions)||this.close(!0)},unsubscribePage:function(t){this.unsubscribe({page_uuid:[i.toUuid(t)]})},unsubscribeAll:function(){this.subscriptions={},this.close(!0)},close:function(e){t.debug&&console.log("close: ",arguments),this.manualClose=!!e,this.socket&&this.socket.close(),this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)},onClose:function(n){if(this.trigger("status","disconnected"),!this.manualClose&&this.retries>0){t.debug&&console.log("connection unexpectedly closed, retrying: ",n),this.retries--;var i=e.clone(this.subscriptions);this.subscriptions={},e.each(i,function(t,e){this.connect().subscribe(t,e)}.bind(this))}this.manualClose=!1},onMessage:function(t){var e=[];if(t&&t.data){if("string"==typeof t.data)try{e=JSON.parse(t.data)}catch(t){}else"object"==typeof t.data&&(e=t.data);!e||e instanceof Array||(e=[e])}for(var n=null;n=e.shift();)if(n.action)switch(n.action){case"subscribe":this.subscribeCallback(n);break;case"pong":this.pongCallback(n)}else n.event_type?this.trigger("content",n):n.filters&&this.subscribeCallback(n)},onOpen:function(){this.ping(),this.trigger("status","connected"),this.flushQueue()},subscribeCallback:function(n){this.trigger("subscribe",n),n.filters&&e.each(n.filters,function(e,n){if(!e.status||"OK"!==e.status){if(t.debug){var i=e.message?" ("+e.message+")":"",a=e.code?"[Error "+e.code+"] ":"";console.log(a+"Subscription failed, removing. "+n+i)}delete this.subscriptions[n]}}.bind(this))},pongCallback:function(n){e.indexOf(this.lastPing,n.time)===-1?(t.debug&&console.log("expired or unknown pong: "+n.time),this.options.strictPing&&this.close()):t.debug&&console.log("ping latency: "+(+new Date-n.time)+"ms")}}),new a}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(9),n(3),n(10),n(18),n(54),n(55),n(52),n(56),n(57),n(7)],a=function(t,e,n,i,a,s,r,o,l,c,u){function h(){return s.isActive(T.namespace)}function d(){return t('.vf-widget[data-widget="comments"]')}function f(e){if(!y&&h()){_+=e;var n=!1;t.each(d(),function(i,s){a.isElementPortionInViewport(s,{vAbs:100,h:.25})&&(n=!0,t(s).data("engage",(0|t(s).data("engage"))+e))}),n&&(w+=e)}}function p(t){var e=new Image;e.src=u.analytics_url.replace(/\{DOMAIN\}/,t.meta.domain)+"?t="+encodeURIComponent(JSON.stringify(t))}function v(){return{nl:navigator.language||null,nu:navigator.userAgent||null,sr:window.screen&&window.screen.width?window.screen.width+"x"+window.screen.height:null,sd:window.screen&&window.screen.colorDepth?window.screen.colorDepth:null,vp:window.innerWidth?window.innerWidth+"x"+window.innerHeight:null,dt:document.title||null,de:document.charset||null,dl:document.documentElement&&document.documentElement.getAttribute?document.documentElement.getAttribute("lang"):null}}function g(t){return{domain:t.domain,site:t.site_id?a.toUuid(t.site_id):void 0,section:t.section_id?a.toUuid(t.section_id):void 0,page:t.page.id?a.toUuid(t.page.id):void 0,pageStatus:t.page.status,ref:t.ref,vf:!!e.size(t.ref),path:t.page.path,title:t.page.title,user:t.user.id?a.toUuid(t.user.id):void 0,privilege:t.user.user_privilege,page_type:t.page_type||void 0,page_description:t.page_description||void 0,git:u.gitHash}}var m,y=!1,b=333,_=0,w=0,x=0,k=a.uuid4(),E={},T=s.subscribe({interval:6e4});return{trackView:function(t,e){var n=new r;n.chain(l).chain(c).chain(o);var i=g(t);e&&x++,E=n.track(i),p({view:E,ua:v(),meta:i,rs:x,rq:k,v:4})},trackEngagement:function(e){var n={};t.each(d(),function(e,i){var a=t(i);a.data("engage")&&(!n[a.data("widget")]||a.data("engage")>n[a.data("widget")])&&(n[a.data("widget")]=a.data("engage"))}),p({engage:{time:_,vftime:w,widgets:n},view:E,meta:g(e),ua:v(),rs:x,rq:k,v:4}),w=_=0},start:function(){m=setInterval(function(){f(b)},b)},stop:function(){m&&clearInterval(m)}}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(53)],a=function(t,e){function n(t,n){e.apply(this,arguments),this.cookieName="a",this.cookieExpiry="2y",this.keylist.push("uniqueId","firstVisit","previousVisit","currentVisit","visitCount")}return t.extend(n.prototype,e.prototype,{defaults:function(){var e=this.timestamp();t.defaults(this.data,{uniqueId:this.uuid4(),firstVisit:e,previousVisit:e,currentVisit:e,visitCount:1})},run:function(t){return this.data.uniqueId&&this.data.firstVisit&&this.data.previousVisit&&this.data.currentVisit?t.newVisit&&(this.data.previousVisit!==this.data.currentVisit&&(this.data.previousVisit=this.data.currentVisit),this.data.currentVisit=this.timestamp(),this.data.visitCount++):this.defaults(),t}}),n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(17),n(18)],a=function(t,e,n){function i(t,e){e=e||{},t=t||{},this.cookiePrefix=e.cookiePrefix||"_vf",this.cookieName="",this.data={domain:t.domain,siteUuid:t.site},this.keylist=["domain","siteUuid"]}return t.extend(i.prototype,{timestamp:function(){return Math.round(+new Date/1e3)},timeoffset:function(t){if("string"==typeof t){var e={y:31536e3,d:86400,h:3600,m:60,s:1}[t[t.length-1]]||1;return parseInt(t)*e}return"number"==typeof t?t:0},uuid4:n.uuid4,cookie:function(){return this.cookiePrefix+this.cookieName},read:function(){return e.getItem(this.cookie())},write:function(){e.setItem(this.cookie(),this.stringify(),this.timeoffset(this.cookieExpiry))},track:function(t){return this.parse(this.read()),t=this.run(t),this.write(),t},parse:function(t){for(var e=t&&"string"==typeof t?t.split("."):[],n=0;n<this.keylist.length&&n<e.length;n++)e[n]&&(this.data[this.keylist[n]]=decodeURI(e[n]));return this.data},stringify:function(){for(var t=[],e=0;e<this.keylist.length;e++)t.push(encodeURIComponent(this.data[this.keylist[e]]||"").replace(/\./g,"%2E"));return t.join(".")},getData:function(){return this.parse(this.read())}}),i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;(function(s){try{i=[n(12),n(9),n(10)],a=function(t,e,n){function i(){this.subscriptions={}}return e.extend(i.prototype,n,{subscribe:function(t){var n;return t&&t.namespace&&this.subscriptions[t.namespace]?(n=this.subscriptions[t.namespace],n.subscribers+=1,this.trigger(n.namespace,"subscribed"),n):(n={timeoutID:null},e.defaults(n,t,{subscribers:0,namespace:e.uniqueId("a"),interval:3e5,handlers:["focus","click","scroll","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove","keypress"],status:"active"}),this.subscriptions[n.namespace]=n,this.bindHandlers(n),this.trigger(n.namespace,"subscribed"),n)},unsubscribe:function(e){var n=this.subscriptions[e];n.subscribers-=1,n.subscribers<1&&(clearTimeout(n.timeoutID),t(window).off(e),this.trigger(e,"unsubscribed"),delete this.subscriptions[e])},isActive:function(t){return!(!this.subscriptions[t]||"active"!==this.subscriptions[t].status)},setActive:function(t){clearTimeout(t.timeoutID),"active"!==t.status&&(t.status="active",this.trigger(t.namespace,"active")),t.timeoutID=s(this.setInactive.bind(this,t),t.interval)},setInactive:function(t){"inactive"!==t.status&&(t.status="inactive",this.trigger(t.namespace,"inactive"))},bindHandlers:function(e){var n=e.handlers.join("."+e.namespace+" ")+"."+e.namespace;t(window).on(n,this.setActive.bind(this,e))}}),new i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var r=n(6);r(t)}}).call(e,n(5))},function(t,e,n){var i,a;try{i=[n(9),n(53)],a=function(t,e){function n(t){t=t||{},this._chain=[]}return n.prototype={chain:function(t){return this._chain.push(t),this},track:function(e,n){n=n||{};var i={};return t.each(this._chain,function(a){var s=new a(e);n=s.track(n),t.extend(i,s.data)}),i}},n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(53)],a=function(t,e){function n(t,n){e.apply(this,arguments),this.cookieName="b",this.cookieExpiry="30m",this.keylist.push("pageViews","outgoing","sessionStart","isRecirculation","landingPage"),this.data.pageUuid=t.page}return t.extend(n.prototype,e.prototype,{defaults:function(){var e=this.timestamp();t.defaults(this.data,{pageViews:1,outgoing:10,sessionStart:e,isRecirculation:!1,landingPage:this.data.pageUuid})},run:function(t){return this.data.sessionStart?this.data.pageViews++:(this.defaults(),t.newVisit=!0),document.referrer&&document.referrer.indexOf(this.data.domain)!==-1&&(this.data.isRecirculation=!0),t}}),n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(53)],a=function(t,e){function n(t,n){e.apply(this,arguments),this.cookieName="z",this.cookieExpiry="6m",this.keylist.push("referrerStart","refVisitCount","ref")}return t.extend(n.prototype,e.prototype,{defaults:function(e){var n=this.timestamp();t.defaults(this.data,{referrerStart:n,refVisitCount:1,ref:e||this.referrer()})},referrer:function(){return document.referrer&&document.referrer.indexOf(this.data.domain)===-1?{medium:"referral",source:document.referrer,terms:""}:{medium:"direct",source:"",terms:""}},run:function(e){if(this.data.referrerStart){if(e.newVisit){var n=this.referrer();"referral"!==n.medium||t.isEqual(n,this.data.ref)?this.data.refVisitCount++:this.defaults(n)}}else this.defaults();return e},parse:function(e){for(var n,i=e&&"string"==typeof e?e.split("."):[],a=0;a<this.keylist.length&&a<i.length;a++)switch(n=i[a],this.keylist[a]){case"ref":if(this.data.ref={},!n)break;var s=this.data.ref;t.each(n.split("|"),function(t){t=t.split("="),s[t[0]]=decodeURI(t[1])});break;default:this.data[this.keylist[a]]=n?decodeURI(i[a]):null}return this.data},stringify:function(){for(var e=[],n=0;n<this.keylist.length;n++)switch(this.keylist[n]){case"ref":e.push(t.chain(this.data.ref).pairs().map(function(t){return t[1]=encodeURIComponent(t[1]||"").replace(/\./g,"%2E"),t.join("=")}).value().join("|"));break;default:e.push(encodeURIComponent(this.data[this.keylist[n]]||"").replace(/\./g,"%2E"))}return e.join(".")}}),n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9)],a=function(t){var e=function(t){this.app=t,this.modules={}};return t.extend(e.prototype,{hasModule:function(t){return"string"==typeof t&&!!this.modules[t]},add:function(t,e){return"string"==typeof t&&"function"==typeof e&&(this.modules[t]=new e(this.app),!0)},remove:function(t){return!!this.hasModule(t)&&(delete this.modules[t],!0)},start:function(t){return!!this.hasModule(t)&&(this.modules[t].start(this.app),!0)},stop:function(t){return!!this.hasModule(t)&&(this.modules[t].stop(this.app),!0)},startAll:function(){var e=this;t.each(this.modules,function(t,n){e.start(n)})},stopAll:function(){var e=this;t.each(this.modules,function(t,n){e.stop(n)})}}),e}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(60)],a=function(t){return t.extend({initialize:function(){},start:function(t){this.app=t,this.listenTo(t.current.settings,"change:enable_google_analytics",this.trackPageview)},stop:function(t){this.stopListening()},loadGaq:function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t.parentNode.insertBefore(e,t)},trackPageview:function(){if(this.app.current.settings.isEnabled("enable_google_analytics")){window._gaq||(this.loadGaq(),window._gaq=[]),window._gaq.push(["viafoura._setAccount","UA-6452517-6"]),window._gaq.push(["viafoura._setDomainName",(location.hostname.indexOf(".")>-1?".":"")+location.hostname]),window._gaq.push(["viafoura._trackPageview"]);var t=this.app.locations.section;void 0!==t&&"root"!==t&&window._gaq.push(["viafoura._setCustomVar",1,"Section",t,3])}}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(11)],a=function(t,e){var n=function(e){t.isFunction(this.initialize)&&this.initialize.apply(this,arguments);
};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{start:function(t){},stop:function(){}}),n}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(62),n(12),n(9),n(63),n(18),n(24)],a=function(t,e,n,i,a,s){var r=i.extend({initialize:function(t){this.settings=t,n.bindAll(this,"renderTooltip","tipTemplate"),e.fn.tipsy.defaults.templateMethod=this.renderTooltip,e.fn.tipsy.defaults.tipTemplate=this.tipTemplate},start:function(){a.isMobileOrTablet()||e(".viafoura .vf-tip").tipsy({gravity:e.fn.tipsy.autoSEW,live:!0})},refresh:function(){var t=this.settings.toJSON();this.tooltipDatas={login:{content:{description:this.i18n("tooltip_login_desc")}},facebook:{content:{description:this.i18n("share_facebook")}},twitter:{content:{description:this.i18n("share_twitter")}},email:{content:{description:this.i18n("share_email")}},viafoura_login_info:{content:{title:"Viafoura",description:this.i18n("viafoura_about")}},trusted:{content:{title:this.i18n("title_trusted"),description:this.i18n("title_trusted_desc")}},connected:{content:{title:this.i18n("badge_connected_hdr"),description:this.i18n("badge_connected_desc",t.badging_connected_repliesmade,t.badging_connected_days)}},engaged:{content:{title:this.i18n("badge_engaged_hdr"),description:this.i18n("badge_engaged_desc",t.badging_engaged_commentsmade,t.badging_engaged_likesmade,t.badging_engaged_days)}},authoritative:{content:{title:this.i18n("badge_authoritative_hdr"),description:this.i18n("badge_authoritative_desc",t.badging_authoritative_likesreceived,t.badging_authoritative_repliesreceived,t.badging_authoritative_days)}},videostar:{content:{title:this.i18n("badge_video_star_hdr"),description:this.i18n("badge_video_star_desc",t.badging_videostar_videosmade,t.badging_videostar_days)}},active:{content:{title:this.i18n("badge_active_hdr"),description:this.i18n("badge_active_desc",t.badging_active_commentsmade,t.badging_active_days)}},"subscribe-page":{content:{description:this.i18n("subscribe_page_desc")}},"unsubscribe-page":{content:{description:this.i18n("unsubscribe_page_desc")}},"subscribe-user":{content:{description:this.i18n("subscribe_user_desc")}},"unsubscribe-user":{content:{description:this.i18n("unsubscribe_user_desc")}},"cannot-subscribe":{content:{description:this.i18n("cant_subscribe")}},"mute-user":{content:{description:this.i18n("mute_user_desc")}},"unmute-user":{content:{description:this.i18n("unmute_user_desc")}},"cannot-mute":{content:{description:this.i18n("cant_mute",t.mute_limit)}},"over-char-limit":{content:{limit:t.comment_max_length}},"realtime-toggle-on":{content:{description:this.i18n("realtime_toggle_on")}},"realtime-toggle-off":{content:{description:this.i18n("realtime_toggle_off")}},"smartmod-toggle-enable":{content:{description:this.i18n("smartmod_toggle_enable")}},"smartmod-toggle-disable":{content:{description:this.i18n("smartmod_toggle_disable")}},"page-settings-disabled":{content:{description:this.i18n("page_settings_disabled")}}}},renderTooltip:function(t,n){var i=this.tooltipDatas[t];return i||(i={content:{description:this.i18n(t)}}),e(this.template(i,n))},tipTemplate:function(){return e(this.template({},"tooltip"))}});return r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;(function(s){i=[n(12),n(9)],a=function(t,e){function n(t,e){return"function"==typeof t?t.call(e):t}function i(t){for(;t==t.parentNode;)if(t==document)return!0;return!1}function a(n,i,a){e.bindAll(this,"clearCloseTimer"),this.leave=i,this.$element=t(n),this.timeoutId=0,this.options=a,this.enabled=!0,this.fixTitle()}a.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();if(i.is(":visible"))return;i.find(".vf-tipsy-inner")[this.options.html?"html":"text"](n),i[0].className="viafoura vf-tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"});var a=t(".vf-tipsy").filter(":last");void 0!==a[0]?i.insertAfter(a):i.prependTo(document.body),this.positionTip(),this.positionTip();var s=this;this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity},300,function(){s.options.onOpen(s)}):(i.css({visibility:"visible",opacity:this.options.opacity}).addClass("vf-tip-animate"),this.options.onOpen(this)),this.options.interactive&&(this.$tip.on("mouseenter.tip",this.clearCloseTimer),this.$tip.on("mouseleave.tip",e.bind(this.leave,this.$element[0])))}},positionTip:function(){var e,i=this.$tip,a=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=i[0].offsetWidth,r=i[0].offsetHeight,o=n(this.options.gravity,this.$element[0]);switch(o.charAt(0)){case"n":e={top:a.top+a.height+this.options.offset,left:a.left+a.width/2-s/2};break;case"s":e={top:a.top-r-this.options.offset,left:a.left+a.width/2-s/2};break;case"e":e={top:a.top+a.height/2-r/2,left:a.left-s-this.options.offset};break;case"w":e={top:a.top+a.height/2-r/2,left:a.left+a.width+this.options.offset}}var l=i.find(".vf-tipsy-arrow").outerWidth(),c=Math.round(a.left+this.$element.outerWidth()/2),u=Math.round(t(window).width()-(a.left+this.$element.outerWidth()/2)),h=(i.outerWidth()-i.width())/2,d=this.options.styleTipOffsetWE+l/2;if(2==o.length)if("w"==o.charAt(1)){if(e.left=a.left+a.width/2-30,c<d){var f=c-l/2>=h?c-l/2:h;i.find(".vf-tipsy-arrow, .vf-tipsy-arrow-border").css("left",f)}}else if(e.left=a.left+a.width/2-s+30,u<d){var f=u-l/2>=h?u-l/2:h;i.find(".vf-tipsy-arrow, .vf-tipsy-arrow-border").css("right",f)}e.left<0&&(e.left=0),i.css(e).addClass("vf-tipsy-"+o),i.find(".vf-tipsy-arrow")[0].className="vf-tipsy-arrow vf-tipsy-arrow-"+o.charAt(0),i.find(".vf-tipsy-arrow-border")[0].className="vf-tipsy-arrow-border vf-tipsy-arrow-border-"+o.charAt(0),this.options.className&&this.$tip.addClass(n(this.options.className,this.$element[0]))},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},setTitle:function(t){t&&(this.options.title=t)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-title"))&&t.attr("data-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,n=this.options;this.fixTitle();var t,n=this.options;"string"==typeof n.title?t="data-title"==n.title||"title"==n.title?e.attr("title"==n.title?"data-title":n.title):n.title:"function"==typeof n.title&&(t=n.title.call(e[0]));var i=n.templateMethod(t||n.fallback,e.attr("data-template")||n.template);return this.options.onCreate(i),i},tip:function(){return this.$tip||(this.$tip=this.options.tipTemplate(),this.$tip.data("vf-tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||this.remove()},remove:function(){this.hide(),this.$element.removeData("tipsy"),this.$element.off(".tip"),this.$element=null,this.options.onClose(this),this.options=null},clearCloseTimer:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(n){function i(e){var i=t.data(e,"tipsy");return i||(i=new a(e,o,t.fn.tipsy.elementOptions(e,n)),t.data(e,"tipsy",i)),i}function r(){var t=i(this);t.hoverState="in",0==n.delayIn?t.show():(t.fixTitle(),s(function(){"in"==t.hoverState&&t.show()},n.delayIn))}function o(){var t=i(this);t.hoverState="out",0==n.delayOut?t.hide():(t.clearCloseTimer(),t.timeoutId=s(function(){"out"==t.hoverState&&t.hide()},n.delayOut))}if(n===!0)return this.data("tipsy");if("string"==typeof n){var l=this.data("tipsy");return l&&l[n].apply(l,e.rest(arguments)),this}if(n=t.extend({},t.fn.tipsy.defaults,n),n.live||this.each(function(){i(this)}),"manual"!=n.trigger){var c="hover"==n.trigger?"mouseenter":"focus",u="hover"==n.trigger?"mouseleave":"blur";n.live?(t(this.context).on(c+".tip",this.selector,r),n.stayOpen||t(this.context).on(u+".tip",this.selector,o)):(this.on(c+".tip",r),n.stayOpen||this.on(u+".tip",o))}return this},t.fn.tipsy.elementOptions=function(e,n){return t.metadata?t.extend({},n,t(e).metadata()):n},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoSEW=function(){var e=t(this),n=e.offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w";return"s"+n},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:t.fn.tipsy.autoSEW,html:!0,live:!1,stayOpen:!1,offset:6,opacity:1,title:"title",trigger:"hover",templateMethod:null,template:"title",tipTemplate:null,styleTipOffsetWE:22,onCreate:function(){},onOpen:function(){},onClose:function(){},interactive:!1},t.fn.tipsy.revalidate=function(){t(".vf-tipsy").each(function(){var e=t.data(this,"vf-tipsy-pointee");e&&i(e)||t(this).remove()})},t.fn.tipsy.autoBounds=function(e,n){return function(){var i={},a=t(document).scrollTop()+e,s=t(document).scrollLeft()+e,r=t(this);return n.length>1?(i.ns=n[0],i.ew=n[1]):"e"==n[0]||"w"==n[0]?i.ew=n[0]:i.ns=n[0],r.offset().top<a&&(i.ns="n"),r.offset().left<s&&(i.ew="w"),t(window).width()+t(document).scrollLeft()-(r.offset().left+r.width())<e&&(i.ew="e"),t(window).height()+t(document).scrollTop()-(r.offset().top+r.height())<e&&(i.ns="s"),i.ns?i.ns+(i.ew?i.ew:""):i.ew}}}.apply(e,i),!(void 0!==a&&(t.exports=a))}).call(e,n(5))},function(t,e,n){var i,a;try{i=[n(9),n(11),n(12),n(64),n(29),n(22),n(65),n(66)],a=function(t,e,n,i,a,s,r,o){var l=e.View.extend(t.extend(r,s,o,{_configure:function(n){if(e.View.prototype._configure.apply(this,arguments),this.restAPI=this.options.restAPI||l.core.restAPI,this.domainSettings=this.options.domainSettings||l.core.current.settings,this.currentPage=this.options.currentPage||l.core.current.page,this.currentUser=this.options.currentUser||l.core.current.user,this._i18n=this.options.i18n||l.core.i18n,this.loginManager=this.options.loginManager||l.core.loginManager,this.userManager=this.options.userManager||l.core.userManager,this.locations=this.options.locations||l.core.locations,this.mixins)for(var i=0;i<this.mixins.length;i++)t.extend(this,this.mixins[i])},$body:n("body"),template:function(e,a,s){var r=i(a||t.result(this,"templateName"),s)(e);return n.parseHTML(n.trim(r))},inlineError:function(t){return i("inline_error")({message:t})},inlineSuccess:function(t){return i("inline_success")({message:t})},i18n:function(){return this._i18n.translate.apply(this._i18n,arguments).string},cacheSave:function(t,e){this.cacheHash||(this.cacheHash={});var i={};return e=e||0,t=t||this.$(":input"),t.each(function(){i[n(this).attr("name")]=n(this).val()}),this.cacheHash[e]=i,this},cacheRestore:function(t){if(this.cacheHash){t=t||0;var e=this.cacheHash[t];if(e)for(var n in e)this.$(":input[name="+n+"]").val(e[n]);return this}},cacheClear:function(t){if(this.cacheHash)return t=t||0,this.cacheHash[t]=null,this},renderView:function(e,n){var i=e;return n&&(i={},i[e]=n),t.each(i,function(t,e){t.setElement(this.$(e)).render()},this),this},validateForm:function(e,i){var s,r=e.find("input").filter(function(t){return!n(t).data("validate")});this.formErrors=[],e.find(".vf-error-message").remove(),e.find(".vf-error").removeClass("vf-error");var o=this,l=function(e,i){var r=t.rest(arguments,2);if(("oldPassword"!==i||!n(e).hasClass("vf-error"))&&("password"==i&&r.push(8),a[i]&&!a[i].apply(a,r))){r.shift();var l=a.errorMessage(i,r);o.formErrors.push(l),e.after(o.inlineError(l)).addClass("vf-error"),s=!0}},c=e.find("[data-validate=oldPassword]"),u=e.find("[data-validate=email]");i&&u.length&&l(c,"modemail",c.val());var h=e.find("[data-validate=confirmPassword]"),d=e.find("[data-validate=newPassword]");return h.length&&""!==h.val()||d.length&&""!==d.val()||!i&&c.length&&""!==c.val()&&h.length&&d.length?(l(h,"confirmPassword",h.val(),d.val()),h.attr("data-validate","password"),d.attr("data-validate","password")):(r=r.filter(function(){return this!=h[0]&&this!=d[0]}),i===!1&&(r=r.filter(function(){return this!=c[0]}))),r.each(function(){var t=n(this),e=t.val(),i=t.data("validate");i&&l(t,i,e)}),h.length&&(h.attr("data-validate","confirmPassword"),d.attr("data-validate","newPassword")),!s},parsePath:function(t){return this.locations.parsePath(t)},removeMessages:function(){this.$el.find(".vf-error-message, .vf-success-message").remove()},showServerErrors:function(e){var n=this;this.$el.find(".vf-error-message").remove(),e&&t.each(e,function(t,e){n.$('[name="vf_'+e+'"]').after(n.inlineError(t))})},subStringLastWord:function(t,e,n){if(n=n||15,t.length<e)return t;for(var i=e,a=0;i>1&&" "!=t[i]&&a++<n;)i--;return a>=n&&(i=e),t.substring(0,i)},insertSubViews:function(t,e){return t=t||{},e=e||{},this.$("div").each(function(i,a){var s=n(a),r=s.data();e.disabledViews&&e.disabledViews.indexOf(r.view)>=0||t[r.view]&&(s.replaceWith(t[r.view].el),t[r.view].render(e))}),this},templateOnly:function(){var e=n(i(t.result(this,"templateName")).apply(this,arguments));this.$el.replaceWith(e),this.setElement(e),"object"==typeof this.subviews&&this.insertSubViews.call(this,this.subviews)},remove:function(){n.fn.tipsy.revalidate(),this.undelegateEvents(),this.$el.removeData().unbind(),t.each(this.views,function(t,e){t.remove()}),e.View.prototype.remove.call(this)},onModalClose:function(){}}));return l}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(24),n(12),n(9),n(18)],a=function(t,e,n,i){return function(){function a(t){var e=this;return this._defaultFn=t,function(t,n){return e._defaultFn(t,n)}}var s=function(e){if(e instanceof Array)for(var n=e.length;n--;)t.templates[e[n]]&&t.registerPartial(e[n],t.templates[e[n]]);else if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&t.templates[e[i]]&&t.registerPartial(i,t.templates[e[i]])},r=new a(function(e,n){return n&&s(n),t.templates[e]});r.format=function(e){e=t.Utils.escapeExpression(e);var n=(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1 <br> $2");return n};var o=function(t,e,n,i){i=i||"";for(var a=1;a<3;a++){var s=n.length-a;if("("===t[0]&&")"===n[s]){i=n.substr(s)+i,n=n.substr(0,s);break}}return t+'<a href="'+n+'" target="_blank">'+e+"</a>"+i};return r.formatLinks=function(t){var e,n,i,a=r.format(t);return e=/(^|.)((https?|ftp):\/\/[\-A-Z0-9+&@#\/%?=~_|!:,.;\(\)]*[\(\)\-A-Z0-9+&@#\/%=~_|])/gim,a=a.replace(e,function(t,e,n){return o(e,n,n)}),n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,a=a.replace(n,function(t,e,n,i){return o(e,n,"http://"+n,i)}),i=/(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim,a=a.replace(i,'<a href="mailto:$1">$1</a>')},t.registerHelper("addTracking",function(t,e,n){var a=i.parseUri(t);a.queryKey.__vfz=encodeURIComponent(e+"="+(n||""));var s=i.stringifyUriPath(a),r=s.indexOf("?"),o=s.substring(0,r),l=t.indexOf(o);return t.substring(0,l)+s}),t.registerHelper("withFirstDefined",function(){var t,n,i=e.makeArray(arguments),a=i.pop(),s=i;for(t=0,n=s.length;t<n;t++)if("undefined"!=typeof s[t])return a.fn(s[t])}),t.registerHelper("format",r.format),t.registerHelper("formatLinks",r.formatLinks),t.registerHelper("isEqual",function(t,e,n){return t===e?n.fn(this):n.inverse(this)}),t.registerHelper("anyEqual",function(t){var e=[].slice.call(arguments,1),i=n(arguments).last();for(var a in e)if(t===e[a])return i.fn(this);return i.inverse(this)}),t.registerHelper("isNot",function(t,e,n){return t!==e?n.fn(this):n.inverse(this)}),t.registerHelper("formatDate",function(t){return new Date(t).toDateString()}),r}()}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(18)],a=function(t){var e={getTimeLeftWords:function(e,n){var i,a=t.getTimeLeft(e,n),s=1e3,r=6e4,o=36e5;if(a<0)return"0 "+this.i18n("seconds");if(a<=10*s)return i=Math.ceil(a/s),i+" "+this.i18n("second_s",i);if(a<=50*s)return 10*Math.ceil(a/(10*s))+" "+this.i18n("seconds");if(a<=15*r)return i=Math.ceil(a/r),i+" "+this.i18n("minute_s",i);if(a<=55*r)return 5*Math.ceil(a/5/r)+" "+this.i18n("minutes");if(a<=12*o){var l=Math.floor(a/o),c=15*Math.round(a%o/15/r);return 60==c?(l++,c=0,l+" "+this.i18n("hour_s",l)):l+" "+this.i18n("hour_s",l)+" and "+c+" "+this.i18n("minutes")}return a<=23*o?Math.round(a/o)+" "+this.i18n("hours"):a>23*o?(i=Math.round(a/(24*o)),i+" "+this.i18n("day_s",i)):void 0},getRelativeTime:function(t,e){e=e||new Date;var n=e-1e3*t,i=6e4;if(n<i)return this.i18n("time_now");var a=null,s={millisecond:1,second:1e3,minute:60,hour:60,day:24,month:30,year:12};for(var r in s){if(n<s[r])break;a=r,n/=s[r]}return n=Math.floor(n),1!==n&&(a+="s"),this.i18n("relative_date",n,this.i18n(a))}};return e}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[],a=function(){return{socialLogin:function(t,e){return n(3).loginManager.socialLogin(t,e)},oAuthLogin:function(){return n(3).loginManager.oAuthLogin.openWindow()}}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(9),n(33)],a=function(t,e,n){var i={fetchShare:function(i){i=i||{},e.defaults(i,{id:this.parseHash()});var a=t.Deferred(),s=i.id,r=i.type,o=i.page;return!s&&0!==s||s===i.avoid?(a.reject(),a.promise()):(this.model=new n({id:s,page:o}),this.model.getThread({success:function(t){if(0===t.length)return this.clearShare(),void a.reject();var e=t.models[0];o&&e.page.id!==o.id?(this.clearShare(),a.reject()):r&&e.has("type")&&e.get("type")!==r?(this.clearShare(),a.reject()):a.resolve(t)}.bind(this),error:function(){a.reject()}.bind(this)}),a.promise())},parseHash:function(){var t=window.location.hash.match(/^#vf-(\d+)/);if(t&&t.length>1){var e=parseInt(t[1],10);if("number"==typeof e)return e}return!1},setShare:function(t){var e="";t&&(e="vf-"+t),""!==e?window.location.hash=e:window.location.hash=window.location.hash.split("vf-")[0]},clearShare:function(){this.setShare()}};return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(12),n(63),n(10),n(18),n(69)],a=function(t,e,n,i,a,s){return n.extend({className:"vf-modal",templateName:function(){return"desktop"===this.style?"modal_desktop":"mobile"===this.style?"modal_mobile":"modal"},mixins:[s],events:{"mousedown .vf-modal-close":"closeModal","touchmove .vf-scrollable-menu-container":"scrollMenu","scroll .vf-scrollable-menu-container":"scrollMenu","scrollstop .vf-scrollable-menu-container":"scrollMenu"},initialize:function(){this.events=i,this.settings=this.domainSettings,this.listenTo(i,"/modal/generic",this.renderSubView),this.listenTo(i,"/modal/close",this.closeModal),e(window).resize(this.onWindowResize.bind(this)),this.active_view="",this.containers={}},render:function(){return(!this.containers[this.style]||this.containers[this.style]&&0===e('.viafoura div[data-modal-style="'+this.style+'"]').length)&&(this.containers[this.style]=e(this.template()).appendTo(this.el)),this.$container=this.containers[this.style],this.$modal=this.$container.find(".vf-modal,.vf-share-modal"),this.$modal.toggleClass("vf-mobile",a.isMobileOrTablet()).attr("data-modal-style",this.style),this.$modal.scrollMenuContainer=this.$modal.find(".vf-scrollable-menu-container"),this.$inner_modal=this.$modal.find(".vf-inner-modal-content"),this.$subview=this.$container.find(".vf-modal-subview-content"),this.$modal.click(function(t){t.stopPropagation()}),this.$body.on("keyup.modal",this.keyup.bind(this)),this.$(".vf-modal-close").click(this.closeModal.bind(this)),this.active_view&&this.$subview.html(this.active_view.render(this.settings.toJSON()).el),this},onWindowResize:function(){this.centerElement()},renderSubView:function(e,n){this.closeModal(void 0,function(){n=t.extend({style:"old"},n),this.style=n.style,this.active_view=e,this.render().showModal(function(){n.complete&&t.isFunction(n.complete)&&n.complete(),this.centerElement();var e=this.$subview.find("input")[0];e&&e.focus()}.bind(this))}.bind(this))},centerElement:function(){var t,n=e(window),i=this.$inner_modal,s=0,r=0;return this.$modal&&!i.outerWidth()&&a.getIEVersion()<=8&&0!==a.getIEVersion()?t=this.$modal:i&&i.length>0&&(t=i,s=n.scrollTop(),r=n.scrollLeft()),t&&(s+=(window.innerHeight-t.outerHeight())/2,r+=(window.innerWidth-t.outerWidth())/2,t.css({top:s,left:r})),this},closeModal:function(t,n){if(!t||0===t.button){t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),e(document).off("click.modal");var i=window.pageYOffset;this.$el.removeClass("vf-no-scroll"),this.$modal&&this.$modal.hasClass("vf-modal-fullscreen")&&(t?e(window).scrollTop(this.$el.prevYOffset):e(window).scrollTop(i)),t&&e("#modal-open")&&e("#modal-open").attr({"data-keypress":"null",id:"","aria-expanded":!1}),this.hideModal(void 0,n),this.active_view&&this.active_view.trigger("onModalClose",t)}},showModal:function(n){return this.$modal.hasClass("vf-modal-fullscreen")&&(this.$el.prevYOffset=window.pageYOffset,this.$el.addClass("vf-no-scroll").css({top:-Math.abs(this.$el.prevYOffset)})),this.$modal.fadeIn(1,function(){n&&t.isFunction(n)&&n(),e(document).on("click.modal",function(t){this.closeModal(t)}.bind(this))}.bind(this)),this},clickModal:function(){this.hideModal()},keyup:function(t){if(27===t.which){var n=document.getElementById("modal-open");n&&(n.focus(),e(n).attr({"data-keypress":"null",id:"","aria-expanded":!1})),this.hideModal()}},removeModal:function(){this.active_view&&(this.active_view.remove(),this.active_view=null)},hideModal:function(t,n){this.$body.off(".modal"),e(document).off(".modal"),this.$modal?t?(this.$modal.hide(),this.removeModal(),n&&n()):this.$modal.fadeOut(this.removeModal.bind(this),n):n&&n(),i.trigger("/commenting/resize",this.$el)},scrollMenu:function(){this.onMenuScroll()},scrollUp:function(){this.onScrollUp()},scrollDown:function(){this.onScrollDown()}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12)],a=function(t){var e={initScrollMenu:function(t){this.scrollMenu={$container:t,$menu:t.find(".vf-scrollable-menu"),$scrollUp:t.siblings("button.up"),$scrollDown:t.siblings("button.down")},this.scrollMenu.$scrollUp.click(this.onScrollUp.bind(this)),this.scrollMenu.$scrollDown.click(this.onScrollDown.bind(this)),this.scrollMenu.$menu.on("touchmove",this.onMenuScroll.bind(this)),this.toggleScrollIcons.bind(this),this.getScrollPosition.bind(this)},onMenuScroll:function(t){var e=this.getScrollPosition(),n=.5*this.scrollMenu.$menu.find("li").height();this.toggleScrollIcons(this.setScrollDirection(e.scrollPosition,n,e.overflowBottom))},toggleScrollIcons:function(t){var e="visible",n="visible";switch(t){case"up":n="hidden";break;case"down":e="hidden"}this.scrollMenu.$scrollUp.css("visibility",e),this.scrollMenu.$scrollDown.css("visibility",n)},setScrollDirection:function(t,e,n){return 0===t?"down":n>0&&n-e>=0?t>n-e?"up":t<e?"down":"both":"up"},onScrollUp:function(){var t=this.getScrollPosition(),e=t.scrollPosition,n=.2*this.scrollMenu.$menu.height();this.scrollMenu.$container.scrollTop(Math.max(e-n,0));var i="both";e-n<0&&(i="down"),this.toggleScrollIcons(i)},onScrollDown:function(){var t=this.getScrollPosition(),e=t.scrollPosition,n=t.overflowBottom,i=.2*this.scrollMenu.$menu.height();this.scrollMenu.$container.scrollTop(Math.min(e+i,n));var a="both";e+i>n&&(a="up"),this.toggleScrollIcons(a)},getScrollPosition:function(){return{scrollPosition:this.scrollMenu.$container[0].scrollTop,overflowBottom:this.scrollMenu.$menu.height()-(this.scrollMenu.$container.height()+parseInt(this.scrollMenu.$container.css("border-bottom-width").replace(/px/,"")))}}};return e}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(18),n(50)],a=function(t,e,n){return{isSelf:function(t,n){try{if(n.isGuest()&&"1"===t.user_anonymous)return!0;if("awaiting_moderation"===t.status&&!n.isModOrAdmin())return!0;var i;switch(t.event_type){case"comment.liked":case"comment.unliked":case"comment.disliked":case"comment.undisliked":case"page.share":i="actor_uuid";break;default:i="user_uuid"}return!(!n||!t||e.toUuid(n.id)!==t[i])}catch(t){return!1}},initRealtime:function(){this.subscriptions=[],this.listenTo(n,"content",this.filterRealtimeUpdate),this.subscribeRealtime()},subscribeRealtime:function(){t.forEach(t.result(this,"realtimeFilters"),function(t,e){parseInt(e)==e&&(e=void 0),this.subscriptions.push(n.subscribe(t,e))}.bind(this))},unsubscribeRealtime:function(){t.forEach(this.subscriptions,function(t){this.subscriptions.push(n.unsubscribe(t))}.bind(this))},filterRealtimeUpdate:function(e){e&&e.filter_id&&t.contains(this.subscriptions,e.filter_id)&&this.realtimeUpdate(e)}}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},,,,function(t,e,n){var i,a;try{i=[n(11),n(12),n(7)],a=function(t,e,n){return{events:{"click .vf-viafoura-login":"viafouraLogin","click .vf-oauth-login":"oauthLogin","click .vf-facebook-login":"facebookLogin","click .vf-google-login":"googleLogin","click .vf-linkedin-login":"linkedinLogin","click .vf-twitter-login":"twitterLogin","click .vf-windowslive-login":"windowsLiveLogin","click .vf-yahoo-login":"yahooLogin","click .vf-aol-login":"aolLogin","click .vf-paypal-login":"paypalLogin","click .vf-qq-login":"qqLogin"},methods:{viafouraLogin:function(t){t.preventDefault()},oauthLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-oauth-login")&&(this.showDisable(".vf-oauth-login"),this.oAuthLogin())},facebookLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-facebook-login")&&(this.showDisable(".vf-facebook-login"),this.socialLogin("facebook"))},aolLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-aol-login")&&(this.showDisable(".vf-aol-login"),this.socialLogin("aol"))},googleLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-google-login")&&(this.showDisable(".vf-google-login"),this.socialLogin("google"))},linkedinLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-linkedin-login")&&(this.showDisable(".vf-linkedin-login"),this.socialLogin("linkedin"))},twitterLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-twitter-login")&&(this.showDisable(".vf-twitter-login"),this.socialLogin("twitter"))},windowsLiveLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-windowslive-login")&&(this.showDisable(".vf-windowslive-login"),this.socialLogin("live_id"))},yahooLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-yahoo-login")&&(this.showDisable(".vf-yahoo-login"),this.socialLogin("yahoo"))},paypalLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-paypal-login")&&(this.showDisable(".vf-paypal-login"),this.socialLogin("paypal"))},qqLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-qq-login")&&(this.showDisable(".vf-qq-login"),this.socialLogin("qq"))},isLoginEnabled:function(t){return!this.$(t).hasClass("vf-disabled")},showDisable:function(t){this.hideDisable(),this.$(".vf-social-button, .vf-social-logins a").not(".vf-viafoura-login").addClass("vf-disabled"),this.domainSettings.isEnabled("authprovider_viafoura_enabled")?this.$(t).loader("show",{position:"right",gifType:"gray"}):this.$el.find(".vf-social-login-modal")[0]?(this.$(t).addClass("vf-social-clicked"),this.$(".vf-extras-area").loader("show",{loaderSize:"large",inside:!0,gifType:"whitelarge"})):this.$(t).loader("show")},isDisabled:function(){return 0!==this.$(".vf-disabled").length},hideDisable:function(){this.$(".vf-social-button, .vf-social-logins a").removeClass("vf-disabled vf-social-clicked").each(function(){e(this).loader("hide")}),this.$(".vf-extras-area")[0]&&this.$(".vf-extras-area").html("<hr>").loader("hide")}}}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},,,,,,,,,function(t,e,n){var i;try{i=function(){var t={defaultError:"something_went_wrong",codes:{65540:"banned_from_posting",65541:"page_is_closed",65542:"anonymous_not_enabled",65543:"unverified_user_comment_limit",65544:"not_logged_in",65545:"email_already_verified",65554:"reload_comment",65555:"comment_content_same",131073:"flag_not_found",131074:"flag_login",131075:"flag_login_moderator",196609:"like_not_found",196610:"like_login",196611:"unlike_login",262151:"login_banned",327681:"user_update_email_in_use",327682:"user_update_password_required",327683:"user_update_picture_not_found",327684:"user_update_unrecognized_picture_format",458753:"signup_banned"},uploadCodes:{500:"something_went_wrong",400:"problem_uploading",401:"logged_in_to_upload",403:"your_account_banned",415:"cannot_process_upload"},codeToI18n:function(t,e){var n=[];if(this.codes.hasOwnProperty(t))switch(n.push(this.codes[t]),this.codes[t]){case"banned_from_posting":n.push(e&&e.reason||"")}else n.push(this.defaultError);return n},uploadStatusToI18n:function(t){return this.uploadCodes.hasOwnProperty(t)?this.uploadCodes[t]:this.defaultError}};return t}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}catch(t){var a=n(6);a(t)}},,,,,function(t,e,n){var i,a;try{i=[n(23),n(83)],a=function(t,e){var n=["login_banned","signup_banned","banned_from_posting"];return{getErrorMessage:function(i){var a=e.codeToI18n(i.api_code).shift();return n.indexOf(a)>=0?t.translate.apply(t,[a,i.api_code_data.reason,new Date(1e3*i.api_code_data.end_date),i.api_code_data.permanent]).string:i.error}}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},,,,,,,,function(t,e,n){var i,a;try{i=[n(9),n(12),n(63),n(10)],a=function(t,e,n,i){var a=n.extend({tagName:"ul",className:"vf-list",initialize:function(e){this.canView=e.canView,this.itemView=e.itemView,this.views=[],this.settings=e.settings||{},this.index=0,t.bindAll(this,"appendItem","prependItem","render"),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.add),this.listenTo(this.collection,"sync",this.resetIndex)},render:function(){return this.views=[],this.$el&&this.collection.length>=0&&(this.$el.empty(),this.collection.each(this.appendItem)),this},add:function(t,e,n){var i={prepend:this.prependItem,append:this.appendItem},a=i[n.insert_method||"append"](t);a&&n.animate&&a.hide().slideDown()},appendItem:function(t){if(!this.canView||this.canView(t)){var e=new this.itemView({model:t,settings:this.settings});return this.views.push(e),e.render().$el.appendTo(this.el)}},prependItem:function(t){if(!this.canView||this.canView(t)){var e=new this.itemView({model:t,settings:this.settings}),n=this.$el.children().eq(this.index);return this.views.splice(this.index,0,e),this.index+=1,e.render().$el.insertBefore(n)}},resetIndex:function(){this.index=0}});return a}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},,,,,,,,,,,,,function(t,e,n){var i,a;try{i=[n(3),n(110),n(114),n(117),n(120)],a=function(t,e,i,a,s){var r;t.register({name:"trending-articles",create:function(t){return new r({el:t})},loadDeps:function(t){n.e(3,function(){r=n(122),t&&t()})}});var o;t.register({name:"trending-comments",create:function(t){return new o({el:t})},loadDeps:function(t){n.e(3,function(){o=n(126),t&&t()})}});var l;t.register({name:"quote",create:function(t){return new l({el:t})},loadDeps:function(t){n.e(3,function(){l=n(130),t&&t()})}});var c;t.register({name:"users",create:function(t){return new c({el:t})},loadDeps:function(t){n.e(3,function(){c=n(128),t&&t()})}});var u;t.register({name:"sharebar",create:function(t){return new u({el:t})},loadDeps:function(t){n.e(4,function(){u=n(132),t&&t()})}});var h;t.register({name:"sharetotal",create:function(t){return new h({el:t})},loadDeps:function(t){n.e(4,function(){h=n(144),t&&t()})}}),t.register({name:"community-articles",create:function(t){return new e({el:t})},loadDeps:function(t){n.e(1,function(){n(71),t&&t()})}}),t.register({name:"community-users",create:function(t){return new i({el:t})},loadDeps:function(t){n.e(1,function(){n(71),t&&t()})}}),t.register({name:"community-comments",create:function(t){return new a({el:t,show:"recent"})},loadDeps:function(t){n.e(1,function(){n(71),t&&t()})}}),t.register({
name:"community-popular",create:function(t){return new a({el:t,show:"top"})},loadDeps:function(t){n.e(1,function(){n(71),t&&t()})}}),t.register({name:"community-tabs",create:function(t){return new s({el:t})},loadDeps:function(t){n.e(1,function(){n(71),t&&t()})}}),t.register({name:"community-tab",create:function(t){return new s({el:t})},loadDeps:function(t){n.e(1,function(){n(71),t&&t()})}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(111),n(96),n(112),n(113),n(3)],a=function(t,e,n,i,a){var s=t.extend({initialize:function(t){var a=this.$el.data();this.collection=new n,this.view=new e({itemView:i,collection:this.collection,settings:a}),this.collection.settings.section=null,void 0!==a.section&&(this.collection.settings.section=a.section),this.collection.settings.days=a.days||0,this.collection.settings.limit=a.limit||5,a.navigation&&(this.navigation=a.navigation),this.listenTo(this.collection,"reset",this.render),this.collection.fetch({batch:!0,reset:!0})}});return s}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(63),n(3)],a=function(t,e,n){var i=e.extend({templateName:"community",events:{"click .vf-next-btn":"nextPage","click .vf-prev-btn":"prevPage"},initialize:function(t){var e=this.$el.data();this.view=new t.mainView({collection:t.collection(),itemView:t.itemView}),e.navigation&&(this.navigation=e.navigation)},render:function(){this.$el.html(this.template(this.$el.data())),this.$el.find(".vf-data-container").append(this.view.el),this.renderUI()},renderUI:function(){if("cycle"===this.navigation){var t=this.collection,e=this.$(".vf-prev-btn"),n=this.$(".vf-next-btn");t.before_count||t.after_count?(e.toggleClass("vf-disable",!t.before_count),n.toggleClass("vf-disable",!t.after_count)):(e.hide(),n.hide())}},nextPage:function(t){t.preventDefault();var e=this.collection,n=e.settings;n.before_id&&delete n.before_id,e.after_count>0&&(n.after_id=e.at(e.length-1).id,e.fetch({reset:!0}))},prevPage:function(t){t.preventDefault();var e=this.collection,n=e.settings;n.after_id&&delete n.after_id,e.before_count>0&&(e.settings.before_id=e.at(0).id,e.fetch({reset:!0}))}});return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(31),n(34),n(10)],a=function(t,e,n,i){var a=e.extend({model:n,url:"/pages",initialize:function(n,i){e.prototype.initialize.apply(this,arguments),this.settings={show:"top",days:0,limit:5},i&&i.settings&&t.extend(this.settings,i.settings)}});return a}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(63),n(3)],a=function(t,e,n){var i=e.extend({templateName:"page_row",tagName:"li",className:"vf-item vf-page-row",initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){var t=this.model.toJSON(),e=this.options.settings,i={model:t,host:location.hostname,hasImage:e.hasImage||!1,hasDescription:e.hasDescription||!1,hasCount:!0,page_url:t.host+t.path,current_page_id:n.current.page.id};return this.$el.html(this.template(i)),this}});return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(111),n(96),n(115),n(116),n(3)],a=function(t,e,n,i,a){var s=t.extend({initialize:function(t){var a=this.$el.data();this.collection=new n,this.view=new e({itemView:i,collection:this.collection}),this.collection.settings.days=a.days||0,this.collection.settings.limit=a.limit||5,this.collection.settings.format=a.format||"list",this.collection.settings.section=null,void 0!==a.section&&(this.collection.settings.section=a.section),a.navigation&&(this.navigation=a.navigation),this.listenTo(this.collection,"reset",this.render),this.collection.fetch({batch:!0,reset:!0})}});return s}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(31),n(28),n(10)],a=function(t,e,n,i){var a=e.extend({model:n,url:"/users",initialize:function(n,i){e.prototype.initialize.apply(this,arguments),this.settings={show:"top",days:0,limit:5},i&&i.settings&&t.extend(this.settings,i.settings)}});return a}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(63),n(3),n(10)],a=function(t,e,n){var i=t.extend({templateName:"user_row",tagName:"li",className:"vf-item vf-user-row clearfix",events:{"click .vf-username":"showAccount","click .vf-avatar":"showAccount"},initialize:function(){this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$(".vf-avatar").attr("onerror","this.src='"+this.model.defaults.pic_small+"'"),this},showAccount:function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation()),n.trigger("/user/account/click",this.model)}});return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(111),n(96),n(30),n(118),n(3),n(119)],a=function(t,e,n,i,a,s,r){var o=e.extend({initialize:function(t){var e=this.$el.data();this.collection=new i,this.orientation=e.orientation||"vertical",this.collection.settings.section=null,void 0!==e.section&&(this.collection.settings.section=e.section),this.collection.settings.show=t.show||"top",this.collection.settings.type=e.type||"comment",this.collection.settings.days=e.days||0,e.path&&(this.collection.rootUrl="/pages/"+encodeURIComponent(this.parsePath(decodeURIComponent(e.path))),"comment"===this.collection.settings.type&&(this.collection.settings.type="any")),e.navigation&&(this.navigation=e.navigation),this.cols=e.cols||1,this.rows=e.rows||e.limit||5,"horizontal"===e.orientation?this.collection.settings.limit=this.cols*this.rows:(this.collection.settings.limit=this.rows,this.view=new n({itemView:a,collection:this.collection})),"editor_pick"===e.filter&&(this.collection.settings.show="editor-picks"),this.collection.fetch({batch:!0,reset:!0}),this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(this.template(this.$el.data())),this.$data_container=this.$el.find(".vf-data-container"),"horizontal"===this.orientation?this.renderHorizontal():this.$el.find(".vf-data-container").append(this.view.el),this.renderUI()},renderHorizontal:function(){var e,n=this;this.collection.each(function(i,a){a%n.cols===0&&(e=n.createRow());var s=new r({model:i}),o=t(s.render().el);o.css({width:n.getColWidth()}),e.append(o),a%n.cols===0&&n.$data_container.append(e)})},createRow:function(){var e=t("<div />");return e.addClass("vf-community-widget vf-clearfix"),e},getColWidth:function(){this.$el.css({visibility:"hidden",display:"block"});var t=this.$data_container.width()/this.cols;return this.$el.removeAttr("style"),t}});return o}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(63),n(3),n(10),n(12)],a=function(t,e,n,i){var a=t.extend({templateName:"comment_row",tagName:"li",className:"vf-item",events:{"click .vf-username":"showAccount"},initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){var t=this.getComment();return t.current_page_id=e.current.page.id,this.$el.html(this.template(t)),this.delegateEvents(),this.model.user.isGuest()&&(this.$el.addClass("vf-is-anonymous"),this.$el.undelegate(".vf-username","click")),this},getComment:function(){var t=this.model.toJSON();return t.timeAgo=this.getRelativeTime(t.date_created,this.domainSettings.currentTime()),t.video&&t.video.thumbs&&(t.video_placeholder=t.video.thumbs.medium),t.content&&t.content.replace(/&#?[a-zA-Z0-9]+;/g,"#").length>75&&(t.content=this.subStringLastWord(t.content,71)+" ..."),t.picture&&(t.picture.s?t.imageURL=t.picture.s.url:t.picture.t&&(t.imageURL=t.picture.t.url)),t},showAccount:function(t){t.preventDefault(),t.stopPropagation(),n.trigger("/user/account/click",this.model.toJSON().user)}});return a}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(3),n(10),n(118)],a=function(t,e,n){return n.extend({templateName:"popular",tagName:"div",className:"vf-community-comment",events:{"click .vf-user":"showAccount"},render:function(){var e=this.getComment();return e.current_page_id=t.current.page.id,this.$el.html(this.template(e)),this.delegateEvents(),this.model.user.isGuest()&&(this.$el.addClass("vf-is-anonymous"),this.$el.undelegate(".vf-username","click")),this},showAccount:function(t){t.preventDefault(),t.stopPropagation(),e.trigger("/user/account/click",this.model.get("user"))}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(3),n(63)],a=function(t,e,n){var i=n.extend({templateName:"tabs",events:{"click .vf-community-tabs > li a":"changeTabs"},initialize:function(e){this.$widgets=this.$el.children(".vf-widget");var n=this.tabs=[];this.$widgets.length>0&&(t.each(this.$widgets,function(e,i){var a=t(i),s="vf-tabs-"+e;n.push({title:a.data("title"),container:s}),a.addClass(s)}),this.render())},render:function(){this.$el.find(".vf-nav.vf-clearfix.vf-community-tabs").remove(),this.$el.prepend(this.template());for(var e=0;e<this.tabs.length;e++){var n=t("<li><a data-con="+this.tabs[e].container+" href='#'>"+this.tabs[e].title+"</a></li>");this.$(".vf-community-tabs").append(n)}this.$tabs=this.$el.find("ul li"),this.$widgets.first().addClass("vf-current"),this.$tabs.first().addClass("vf-current")},changeTabs:function(e){e.preventDefault();var n=t(e.target);this.$widgets.removeClass("vf-current"),this.$tabs.removeClass("vf-current"),n.parent().addClass("vf-current"),this.$el.find("."+n.data("con")).addClass("vf-current")}});return i}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i,a;try{i=[n(3),n(146),n(34)],a=function(t,e,i){t.register({name:"counter",create:function(t){var n=new i;return new e({el:t,model:n})},loadDeps:function(t){n.e(1,function(){n(71),t&&t()})}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(63),n(3),n(10)],a=function(t,e,n,i){var a=e.extend({initialize:function(t){var e,a=this.$el.data();e=a.path?this.parsePath(a.path):a.id?a.id:this.parsePath(n.locations.path),this.model.set("id",encodeURIComponent(e)),this.listenTo(this.model,"change",this.render),this.listenTo(i,"comment:created",this.incrementCount),this.model.fetch({batch:!0}),this.render()},render:function(){var t=this.model.get("num_replies");return this.$el.text(t),this},incrementCount:function(t){t.get("page").id==this.model.id&&this.model.set("num_replies",this.model.get("num_replies")+1)}});return a}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(3),n(148)],a=function(t,e){t.register({name:"rating-star",create:function(t){return new e({el:t})},loadDeps:function(t){n.e(1,function(){n(71),t&&t()})}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12),n(9),n(3),n(63),n(10),n(34)],a=function(t,e,n,i,a,s){var r=i.extend({templateName:"ratings",events:{"mouseover .vf-rating":"clearRatings","mouseout .vf-rating":"restoreRatings","click span":"rate"},initialize:function(t){e.bindAll(this,"update"),this.user=n.current.user,this.settings=n.current.settings;var i=this.$el.data(),a=n.current.page,r=1===this.settings.attributes.enable_page_rating;e.bindAll(this,"render","onPageFetch"),r&&i.path&&(i.path=encodeURIComponent(this.parsePath(i.path)),a=new s({id:i.path}),a.fetch({batch:!0,success:this.onPageFetch})),this.model=a,i.path||this.onPageFetch()},onPageFetch:function(){this.render(),this.listenTo(this.model,"change",this.render)},render:function(){var t=this.model.toJSON();this.$el.html(this.template(t)),this.$ratings=this.$el.find(".vf-ratings"),this.setRating(this.currentRating())},currentRating:function(){var t=this.model;if(this.user.isLoggedIn()){var e=t.get("ratings");if(e&&e[t.id])return e[t.id].points.toFixed(1)}return t.get("rating").toFixed(1)},rate:function(e){if(e.preventDefault(),this.authorize("rate",this.model)){var n=t(e.target),i=n.data().value;this.restAPI.request("put","ratings/"+this.model.id,{points:i},{success:this.update,error:this.update})}},update:function(t){t&&t.result&&this.model.set(t.result)},select:function(e){var n=t(e.target);this.setRatings(n.data().value)},restoreRatings:function(t){this.setRating(this.currentRating())},clearRatings:function(t){this.$(".vf-rating span").removeClass("vf-till")},setRating:function(e){t(this.$el.find(".vf-rating span")[(e-5)*-1]).addClass("vf-till")}});return r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(12)],a=function(t){t.fn.serializeObject=function(){var e={},n=this.serializeArray();return t.each(n,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},a=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,a.prototype=new i,a})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(3),n(10),n(68),n(152),n(153),n(151),n(154),n(155)],a=function(t,e,i,a,s,r,o,l){ModalEvents={showLogin:function(){t.current.user.id||0!==t.current.settings.attributes.disable_widget_logins||(1===t.current.settings.get("authprovider_viafoura_enabled")?e.trigger("/modal/generic",new a):0===t.current.settings.get("authprovider_viafoura_enabled")&&e.trigger("/modal/generic",new s))},showAccount:function(i,a){a=a||"default",i.id==t.current.user.id&&(i=t.current.user),n.e(2,function(t){var s=n(156);e.trigger("/modal/generic",new s({model:i,tab:a}))})},showSignup:function(){0===t.current.settings.attributes.disable_widget_logins&&e.trigger("/modal/generic",new r)},showForgotPassword:function(){e.trigger("/modal/generic",new o)}},e.on("/user/login/click",ModalEvents.showLogin),e.on("onLoginRequired",ModalEvents.showLogin),e.on("/user/signup/click",ModalEvents.showSignup),e.on("/user/account/click",ModalEvents.showAccount),e.on("/user/forgot_password/click",ModalEvents.showForgotPassword)}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(12),n(63),n(28),n(3),n(10),n(74),n(88)],a=function(t,e,n,i,a,s,r,o){var l=n.extend({templateName:"signup",mixins:[o],events:{"click .vf-login":"showLogin"},initialize:function(){this.listenTo(s,"/user/login/social/fail",this.onSocialLoginFail),this.listenTo(s,"/user/login/social/cancel",this.onSocialCancel),this.listenTo(s,"/user/login/fail",this.onSocialCancel),this.listenTo(s,"/user/login/social/error",this.onSocialError)},render:function(){return this.pubsub=s,this.$el.html(this.template(a.current.settings.toJSON(),"signup",["login_options"])),this.delegateEvents(),this.$(".vf-signup-form").submit(this.signupSubmit.bind(this)),this},showLogin:function(t){t.preventDefault(),s.trigger("/user/login/click")},signupSubmit:function(t){t&&t.preventDefault();var n=this.$el.find(".vf-signup-form"),i={};this.validateForm(n)&&(e.each(n.serializeArray(),function(t,e){i[e.name.replace(/vf_/,"")]=e.value}),s.trigger("/user/create",i,{user:{email:i.email},success:this.onSuccess.bind(this),error:this.showErrors.bind(this)}))},onSuccess:function(t,arguments){var e=arguments.user.email;1===this.domainSettings.get("enable_email_verification")?t.result.email_pending=e:t.result.email=e},showErrors:function(t){if(t.validation_errors)this.showServerErrors(t.validation_errors);else{var e=this.getErrorMessage(t);this.showServerErrors({password:e})}},onSocialLoginFail:function(t){this.showServerErrors({password:t}),this.hideDisable()},onSocialError:function(t){this.hideDisable(),this.showServerErrors({password:t})},onSocialCancel:function(){this.hideDisable()}});return t.extend(l.prototype,r.methods),t.extend(l.prototype.events,r.events),l}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(63),n(3),n(10),n(74),n(88)],a=function(t,e,n,i,a,s){var r=e.extend({templateName:"login",mixins:[s],events:{"click .vf-forgot-password":"forgotPasswordClicked","click .vf-signup":"signupClicked"},initialize:function(e){t.bindAll(this,"onFormError","loginError","loginSuccess"),this.settings=n.current.settings,this.listenTo(i,"/user/login/social/fail",this.onSocialLoginFail),this.listenTo(i,"/user/login/social/cancel",this.onSocialCancel),this.listenTo(i,"/user/login/fail",this.onSocialCancel),this.listenTo(i,"/user/login/social/error",this.onSocialError)},render:function(){return this.lockSubmit=!1,this.$el.html(this.template(this.settings.toJSON(),"login",["login_options"])),this.$("form").submit(this.submitForm.bind(this)),this.delegateEvents(),this},forgotPasswordClicked:function(t){t.preventDefault(),i.trigger("/user/forgot_password/click")},signupClicked:function(t){t.preventDefault(),i.trigger("/user/signup/click")},submitForm:function(t){t&&t.preventDefault();var e=this.$("form");if(this.lockSubmit===!1)if(this.validateForm(e)){this.lockSubmit=!0;var n=e.serializeObject();i.trigger("/user/login",n.vf_email,n.vf_password,{error:this.loginError,success:this.loginSuccess})}else for(var a=0;a<this.formErrors.length;a++)this.onFormError(this.formErrors[a]);return!1},onFormError:function(t){i.trigger("/user/login/fail",t)},loginError:function(t){this.lockSubmit=!1;var e=this.getErrorMessage(t);this.$(".vf-password-input").after(this.inlineError(e)),i.trigger("/user/login/fail",e)},loginSuccess:function(){this.lockSubmit=!1},onSocialLoginFail:function(t){this.showServerErrors({password:t}),this.hideDisable()},onSocialError:function(t){this.hideDisable(),this.showServerErrors({password:t})},onSocialCancel:function(){this.hideDisable()}});return t.extend(r.prototype,a.methods),t.extend(r.prototype.events,a.events),r}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(63),n(3),n(10),n(74)],a=function(t,e,n,i,a){var s=e.extend({templateName:"social_login",events:{},initialize:function(e){t.bindAll(this,"loginError"),this.settings=n.current.settings,this.listenTo(i,"/user/login/social/fail",this.loginError),this.listenTo(i,"/user/login/social/cancel",this.onSocialCancel),this.listenTo(i,"/user/login/fail",this.loginError),this.listenTo(i,"/user/login/social/error",this.loginError)},render:function(){return this.$el.html(this.template(this.settings.toJSON(),"social_login")),this},loginError:function(t){this.hideDisable(),this.$(".vf-extras-area").empty().html(this.inlineError(t))},onSocialCancel:function(){this.hideDisable()}});return t.extend(s.prototype,a.methods),t.extend(s.prototype.events,a.events),s}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;try{i=[n(9),n(12),n(63),n(29),n(28),n(3),n(10)],a=function(t,e,n,i,a,s,r){return n.extend({templateName:"forgot",events:{"click .vf-login":"showLogin","submit form":"submitForgotPassword"},render:function(){return this.$el.html(this.template(s.current.settings.toJSON())),t.bindAll(this,"showErrors","showSuccess"),this.delegateEvents(),this.$form=this.$el.find("form"),this.$email=this.$form.find(".vf-username-input"),this},showLogin:function(t){t.preventDefault(),r.trigger("/user/login/click")},submitForgotPassword:function(t){t&&t.preventDefault();var n=this.$form,i={};this.removeMessages(),this.validateForm(n)&&(e.each(n.serializeArray(),function(t,e){i[e.name.replace(/vf_/,"")]=e.value}),this.restAPI.request({verb:"post",route:"account/password",data:{email:i.email},success:this.showSuccess,error:this.showErrors}))},showErrors:function(t){this.showServerErrors(t.validation_errors)},showSuccess:function(){this.$(".vf-username-input").val(""),this.removeMessages(),this.$(".vf-form").prepend(this.inlineSuccess(this.i18n("forgot_success_msg")))}})}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}},function(t,e,n){var i,a;i=[n(24)],a=function(t){var e=t.template,n=t.templates=t.templates||{};return n.account=e(function(t,e,n,i,a){function s(t,e){return"hidden"}function r(t,e){var i,a,s,r="";return r+='\n                    <li><i class="vf-videostar vf-tip ',a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(4,o,e),data:e},i=a?a.call(t,(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.videostar),0,s):k.call(t,"isEqual",(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.videostar),0,s),(i||0===i)&&(r+=i),r+='" data-title="videostar" data-template="dialog"></i></li>\n                    '}function o(t,e){return"vf-disabled"}function l(t,e){var i,a,s,r="";return r+='\n                    <li><i class="vf-authoritative vf-tip ',a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(4,o,e),data:e},i=a?a.call(t,(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.authoritative),0,s):k.call(t,"isEqual",(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.authoritative),0,s),(i||0===i)&&(r+=i),r+='" data-title="authoritative" data-template="dialog"></i></li>\n                    '}function c(t,e){var i,a,s,r="";return r+='\n                    <li><i class="vf-active vf-tip ',a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(4,o,e),data:e},i=a?a.call(t,(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.active),0,s):k.call(t,"isEqual",(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.active),0,s),(i||0===i)&&(r+=i),r+='" data-title="active" data-template="dialog"></i></li>\n                    '}function u(t,e){var i,a,s,r="";return r+='\n                    <li><i class="vf-connected vf-tip ',a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(4,o,e),data:e},i=a?a.call(t,(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.connected),0,s):k.call(t,"isEqual",(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.connected),0,s),(i||0===i)&&(r+=i),r+='" data-title="connected" data-template="dialog"></i></li>\n                    '}function h(t,e){var i,a,s,r="";return r+='\n                    <li><i class="vf-engaged vf-tip ',a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(4,o,e),data:e},i=a?a.call(t,(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.engaged),0,s):k.call(t,"isEqual",(i=t&&t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.engaged),0,s),(i||0===i)&&(r+=i),r+='" data-title="engaged" data-template="dialog"></i></li>\n                    '}function d(t,e){var i,a,s,r="";return r+='\n                        <a data-id="'+T((i=t&&t.user,i=null==i||i===!1?i:i.id,typeof i===E?i.apply(t):i))+"\" class='vf-mute vf-btn vf-tip' href='#' data-title=\"mute-user\" aria-label=\""+T((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"mute_user_desc",s):k.call(t,"i18n","mute_user_desc",s)))+'">'+T((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"mute_btn",s):k.call(t,"i18n","mute_btn",s)))+"</a>\n                    "}function f(t,e){var i,a,s="";return s+="<li><a class='vf-videos vf-is-selection' href='#' data-container='vf-video-container'>"+T((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"videos",a):k.call(t,"i18n","videos",a)))+"</a></li>"}function p(t,e){var i,a,s="";return s+="<li><a class='vf-images vf-is-selection' href='#' data-container='vf-images-container'>"+T((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"images",a):k.call(t,"i18n","images",a)))+"</a></li>"}function v(t,e){var i,a,s="";return s+="<li class=\"vf-right\"><a class='vf-settings vf-is-selection' href='#' data-container='vf-settings-container'>"+T((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"settings_lnk",a):k.call(t,"i18n","settings_lnk",a)))+"</a></li>"}function g(t,e){var i,a,s="";return s+="<li class=\"vf-right\"><a class='vf-mutes vf-is-selection' href='#' data-container='vf-mute-container'>"+T((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"mutes_lnk",a):k.call(t,"i18n","mutes_lnk",a)))+"</a></li>"}function m(t,e){var a,s="";return s+="<div class='vf-settings-container vf-is-content'>",a=x.invokePartial(i.settings,"settings",t,n,i,e),(a||0===a)&&(s+=a),s+="</div>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=this.merge(i,t.partials),a=a||{};var y,b,_,w="",x=this,k=n.helperMissing,E="function",T=this.escapeExpression;return w+="<h2 id='vf-user-profile-label' class='visuallyhidden'>"+T((b=n.i18n||e&&e.i18n,_={hash:{},data:a},b?b.call(e,"user_profile_hdr",_):k.call(e,"i18n","user_profile_hdr",_)))+"</h2>\n<div class='vf-user-profile'>\n    <div class='vf-header vf-clearfix'>\n        <div class='vf-comment-user' data-id='"+T((y=e&&e.user,y=null==y||y===!1?y:y.id,typeof y===E?y.apply(e):y))+"'>\n            <div class='vf-avatar-container'>\n                <img class='vf-avatar' src='"+T((y=e&&e.user,y=null==y||y===!1?y:y.pic_small,typeof y===E?y.apply(e):y))+"' alt='",(b=n.alert_msg)?y=b.call(e,{hash:{},data:a}):(b=e&&e.alert_msg,y=typeof b===E?b.call(e,{hash:{},data:a}):b),w+=T(y)+"'>\n                    <span class='vf-moderation-status-icon vf-icon-"+T((y=e&&e.user,y=null==y||y===!1?y:y.avatar_moderation_status,typeof y===E?y.apply(e):y))+" vf-js-user-mod-icon ",y=n.if.call(e,e&&e.hideIcon,{hash:{},inverse:x.noop,fn:x.program(1,s,a),data:a}),(y||0===y)&&(w+=y),w+="'></span>\n            </div>\n        </div>\n        <div class='vf-user-info vf-clearfix'>\n            <div class=\"vf-left\">\n                <div class='vf-username'>"+T((y=e&&e.user,y=null==y||y===!1?y:y.name,typeof y===E?y.apply(e):y))+"</div>\n                <div>"+T((b=n.i18n||e&&e.i18n,_={hash:{},data:a},b?b.call(e,"rank_count",_):k.call(e,"i18n","rank_count",_)))+" <span class='vf-rank'>"+T((y=e&&e.user,y=null==y||y===!1?y:y.rank_overall,typeof y===E?y.apply(e):y))+"</span></div>\n                <div>"+T((b=n.i18n||e&&e.i18n,_={hash:{},data:a},b?b.call(e,"likes_stat",(y=e&&e.user,null==y||y===!1?y:y.likes_received),_):k.call(e,"i18n","likes_stat",(y=e&&e.user,null==y||y===!1?y:y.likes_received),_)))+" <span class='vf-count-likes'>"+T((y=e&&e.user,y=null==y||y===!1?y:y.likes_received,typeof y===E?y.apply(e):y))+"</span></div>\n                <ul class='vf-achievements'>\n                    ",y=n.if.call(e,(y=e&&e.settings,null==y||y===!1?y:y.badging_videostar_display),{hash:{},inverse:x.noop,fn:x.program(3,r,a),data:a}),(y||0===y)&&(w+=y),w+="\n                    ",y=n.if.call(e,(y=e&&e.settings,null==y||y===!1?y:y.badging_authoritative_display),{hash:{},inverse:x.noop,fn:x.program(6,l,a),data:a}),(y||0===y)&&(w+=y),w+="\n                    ",y=n.if.call(e,(y=e&&e.settings,null==y||y===!1?y:y.badging_active_display),{hash:{},inverse:x.noop,fn:x.program(8,c,a),data:a}),(y||0===y)&&(w+=y),w+="\n                    ",y=n.if.call(e,(y=e&&e.settings,null==y||y===!1?y:y.badging_connected_display),{hash:{},inverse:x.noop,fn:x.program(10,u,a),data:a}),(y||0===y)&&(w+=y),w+="\n                    ",y=n.if.call(e,(y=e&&e.settings,null==y||y===!1?y:y.badging_engaged_display),{hash:{},inverse:x.noop,fn:x.program(12,h,a),data:a}),(y||0===y)&&(w+=y),w+='\n                </ul>\n                <div class="vf-subscribe-wrap">\n                    ',y=n.if.call(e,e&&e.showMuteButton,{hash:{},inverse:x.noop,fn:x.program(14,d,a),data:a}),(y||0===y)&&(w+=y),w+='\n                    <a data-id="'+T((y=e&&e.user,y=null==y||y===!1?y:y.id,typeof y===E?y.apply(e):y))+"\" class='vf-subscribe vf-btn vf-tip' href='#' data-title=\"subscribe-user\">"+T((b=n.i18n||e&&e.i18n,_={hash:{},data:a},b?b.call(e,"subscribe_btn",_):k.call(e,"i18n","subscribe_btn",_)))+"</a>\n                </div>\n            </div>\n            <ul class='vf-user-meta vf-right vf-clearfix'>\n                <li><div class='vf-user-comments vf-count'>"+T((y=e&&e.user,y=null==y||y===!1?y:y.comments_made,typeof y===E?y.apply(e):y))+"</div>"+T((b=n.i18n||e&&e.i18n,_={hash:{},data:a},b?b.call(e,"comments",_):k.call(e,"i18n","comments",_)))+"</li>\n                <li><div class='vf-user-videos vf-count'>"+T((y=e&&e.user,y=null==y||y===!1?y:y.video_comments_made,typeof y===E?y.apply(e):y))+"</div>"+T((b=n.i18n||e&&e.i18n,_={hash:{},data:a},b?b.call(e,"videos",_):k.call(e,"i18n","videos",_)))+"</li>\n                <li><div class='vf-user-images vf-count'>"+T((y=e&&e.user,y=null==y||y===!1?y:y.picture_comments_made,typeof y===E?y.apply(e):y))+"</div>"+T((b=n.i18n||e&&e.i18n,_={hash:{},data:a},b?b.call(e,"images",_):k.call(e,"i18n","images",_)))+"</li>\n            </ul>\n        </div>\n    </div>\n    <ul class='vf-account-options vf-tabs vf-clearfix'>\n        <li class='vf-current'><a class='vf-comments vf-is-selection' href='#' data-container='vf-text-container'>"+T((b=n.i18n||e&&e.i18n,_={hash:{},data:a},b?b.call(e,"comments",_):k.call(e,"i18n","comments",_)))+"</a></li>\n        ",y=n.if.call(e,(y=e&&e.user,null==y||y===!1?y:y.video_comments_made),{hash:{},inverse:x.noop,fn:x.program(16,f,a),data:a}),(y||0===y)&&(w+=y),w+="\n        ",y=n.if.call(e,(y=e&&e.user,null==y||y===!1?y:y.picture_comments_made),{hash:{},inverse:x.noop,fn:x.program(18,p,a),data:a}),(y||0===y)&&(w+=y),w+="\n        ",y=n.if.call(e,e&&e.showSettings,{hash:{},inverse:x.noop,fn:x.program(20,v,a),data:a}),(y||0===y)&&(w+=y),w+="\n        ",y=n.if.call(e,e&&e.showMuteList,{hash:{},inverse:x.noop,fn:x.program(22,g,a),data:a}),(y||0===y)&&(w+=y),w+="\n    </ul>\n</div>\n<div class='vf-user-content vf-content-views'>\n    <div class='vf-text-container vf-is-content vf-current'></div>\n    <div class='vf-video-container vf-is-content'></div>\n    <div class='vf-images-container vf-is-content'></div>\n    ",y=n.if.call(e,e&&e.showSettings,{hash:{},inverse:x.noop,fn:x.program(24,m,a),data:a}),(y||0===y)&&(w+=y),w+="\n    <div class='vf-mute-container vf-is-content'>\n</div>\n"}),n.avatar=e(function(t,e,n,i,a){function s(t,e){var i,a,s,o="";return o+="\n            <span class='vf-moderation-status-icon vf-icon-",(a=n.avatar_moderation_status)?i=a.call(t,{hash:{},data:e}):(a=t&&t.avatar_moderation_status,i=typeof a===u?a.call(t,{hash:{},data:e}):a),o+=h(i)+" vf-js-user-mod-icon ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:d.noop,fn:d.program(2,r,e),data:e},i=a?a.call(t,t&&t.avatar_moderation_status,"approved",s):f.call(t,"isEqual",t&&t.avatar_moderation_status,"approved",s),(i||0===i)&&(o+=i),o+="'></span>\n        "}function r(t,e){return"hidden"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var o,l,c="",u="function",h=this.escapeExpression,d=this,f=n.helperMissing;return c+="<div class='vf-comment-user' data-id='",(l=n.id)?o=l.call(e,{hash:{},data:a}):(l=e&&e.id,o=typeof l===u?l.call(e,{hash:{},data:a}):l),c+=h(o)+"'>\n    <div class=\"vf-avatar-container\">\n        <img class='vf-avatar' src='",(l=n.pic_small)?o=l.call(e,{hash:{},data:a}):(l=e&&e.pic_small,o=typeof l===u?l.call(e,{hash:{},data:a}):l),c+=h(o)+"' alt='",(l=n.alert_msg)?o=l.call(e,{hash:{},data:a}):(l=e&&e.alert_msg,o=typeof l===u?l.call(e,{hash:{},data:a}):l),c+=h(o)+"'>\n        ",o=n.if.call(e,e&&e.hasAvatarMod,{hash:{},inverse:d.noop,fn:d.program(1,s,a),data:a}),(o||0===o)&&(c+=o),c+="\n    </div>\n</div>\n"}),n.comment=e(function(t,e,n,i,a){function s(t,e){return" vf-sharelink"}function r(t,e){return" vf-rt-has-edit"}function o(t,e){return"vf-rt-new"}function l(t,e){var i,a,s="";return s+='<span class="vf-comment-hightlight">'+z((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"editor_pick_icon_txt",a):B.call(t,"i18n","editor_pick_icon_txt",a)))+"</span>"}function c(t,e){var i,a,s,r="";return r+='\n            <div class="vf-flag-container',i=n.if.call(t,t&&t.wasEdited,{hash:{},inverse:W.noop,fn:W.program(10,u,e),
data:e}),(i||0===i)&&(r+=i),i=n.if.call(t,t&&t.userPendingNew,{hash:{},inverse:W.noop,fn:W.program(10,u,e),data:e}),(i||0===i)&&(r+=i),r+='"><a class="vf-flag" href="#">'+z((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"flag_lnk",s):B.call(t,"i18n","flag_lnk",s)))+"</a></div>\n        "}function u(t,e){return" invisible"}function h(t,e){var i,a,s,r="";return r+='\n            <a class="vf-page-title" href="//'+z((a=n.addTracking||t&&t.addTracking,s={hash:{},data:e},a?a.call(t,t&&t.page_url,"profile_comment",t&&t.current_page_id,s):B.call(t,"addTracking",t&&t.page_url,"profile_comment",t&&t.current_page_id,s)))+'">',(a=n.page_title)?i=a.call(t,{hash:{},data:e}):(a=t&&t.page_title,i=typeof a===V?a.call(t,{hash:{},data:e}):a),r+=z(i)+"</a>\n        "}function d(t,e){var i,a,s,r="";return r+='\n            <ul class="vf-user-meta vf-hlist vf-clearfix">\n                <li><span class="vf-username">'+z((i=t&&t.user,i=null==i||i===!1?i:i.name,typeof i===V?i.apply(t):i))+'</span> <span class="vf-anonymous vf-user-title">'+z((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"guest",s):B.call(t,"i18n","guest",s)))+'</span></li>\n                <li class="vf-rank">'+z((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"rank",s):B.call(t,"i18n","rank",s)))+' <span class="vf-rank-count" href="#">'+z((i=t&&t.user,i=null==i||i===!1?i:i.rank_overall,typeof i===V?i.apply(t):i))+"</span></li>\n                ",a=n.anyEqual||t&&t.anyEqual,s={hash:{},inverse:W.program(18,v,e),fn:W.program(15,f,e),data:e},i=a?a.call(t,t&&t.user_privilege,"moderator","administrator",s):B.call(t,"anyEqual",t&&t.user_privilege,"moderator","administrator",s),(i||0===i)&&(r+=i),r+="\n            </ul>\n        "}function f(t,e){var i,a="";return a+="\n                    ",i=n.if.call(t,t&&t.showMod,{hash:{},inverse:W.noop,fn:W.program(16,p,e),data:e}),(i||0===i)&&(a+=i),a+="\n                "}function p(t,e){var i,a,s="";return s+='\n                        <li><span class="vf-moderator vf-user-title">'+z((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"title_moderator",a):B.call(t,"i18n","title_moderator",a)))+"</span></li>\n                    "}function v(t,e){var i,a="";return a+="\n                    ",i=n.if.call(t,t&&t.showTrusted,{hash:{},inverse:W.noop,fn:W.program(19,g,e),data:e}),(i||0===i)&&(a+=i),a+="\n                "}function g(t,e){var i,a="";return a+="\n                        ",i=n.if.call(t,(i=t&&t.user,null==i||i===!1?i:i.badge_trusted),{hash:{},inverse:W.noop,fn:W.program(20,m,e),data:e}),(i||0===i)&&(a+=i),a+="\n                    "}function m(t,e){var i,a,s="";return s+='\n                            <li><span class="vf-trusted vf-user-title">'+z((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"title_trusted",a):B.call(t,"i18n","title_trusted",a)))+"</span></li>\n                        "}function y(t,e){var i,a="";return a+="\n                ",i=n.if.call(t,t&&t.video_placeholder,{hash:{},inverse:W.noop,fn:W.program(23,b,e),data:e}),(i||0===i)&&(a+=i),a+="\n                ",i=n.if.call(t,t&&t.video,{hash:{},inverse:W.noop,fn:W.program(25,_,e),data:e}),(i||0===i)&&(a+=i),a+="\n                ",i=n.if.call(t,t&&t.thumbURL,{hash:{},inverse:W.noop,fn:W.program(28,x,e),data:e}),(i||0===i)&&(a+=i),a+="\n            "}function b(t,e){var i,a,s,r="";return r+='\n                <div class="vf-inline-video vf-paused">\n                    <a href="#" class="vf-media-container">\n                        <img src="',(a=n.video_placeholder)?i=a.call(t,{hash:{},data:e}):(a=t&&t.video_placeholder,i=typeof a===V?a.call(t,{hash:{},data:e}):a),r+=z(i)+'" alt="'+z((i=t&&t.user,i=null==i||i===!1?i:i.name,typeof i===V?i.apply(t):i))+'">\n                        <div class="vf-video-icon">'+z((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"videos",s):B.call(t,"i18n","videos",s)))+'</div>\n                    </a>\n                </div>\n                <div style="clear:both;"></div>\n                '}function _(t,e){var i,a,s,r="";return r+="\n                    ",s={hash:{},inverse:W.program(26,w,e),fn:W.noop,data:e},(a=n.video_placeholder)?i=a.call(t,s):(a=t&&t.video_placeholder,i=typeof a===V?a.call(t,s):a),n.video_placeholder||(i=J.call(t,i,{hash:{},inverse:W.program(26,w,e),fn:W.noop,data:e})),(i||0===i)&&(r+=i),r+="\n                "}function w(t,e){var i,a,s="";return s+='<span class="vf-ajax-loader vf-alert"><div class="vf-ajax-loader-wrap"></div>'+z((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"comment_status_processing",a):B.call(t,"i18n","comment_status_processing",a)))+"</span>"}function x(t,e){var i,a,s,r="";return r+='\n                    <a class="vf-media-container">\n                        <div style="background-image: url(',(a=n.thumbURL)?i=a.call(t,{hash:{},data:e}):(a=t&&t.thumbURL,i=typeof a===V?a.call(t,{hash:{},data:e}):a),r+=z(i)+');" class="vf-photo"></div>\n                        <div class="vf-photo-icon">'+z((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"images",s):B.call(t,"i18n","images",s)))+"</div>\n                    </a>\n                "}function k(t,e){var i,a,s,r="";return r+='\n                <p class="vf-comment-html vf-comment-profile">\n                    <a href="//'+z((a=n.addTracking||t&&t.addTracking,s={hash:{},data:e},a?a.call(t,t&&t.comment_url,"profile_comment",t&&t.current_page_id,s):B.call(t,"addTracking",t&&t.comment_url,"profile_comment",t&&t.current_page_id,s)))+'">',a=n.format||t&&t.format,s={hash:{},data:e},i=a?a.call(t,t&&t.content,s):B.call(t,"format",t&&t.content,s),(i||0===i)&&(r+=i),r+="</a>\n                </p>\n            "}function E(t,e){var i,a,s,r="";return r+='\n                <p class="vf-comment-html">',a=n.formatLinks||t&&t.formatLinks,s={hash:{},data:e},i=a?a.call(t,t&&t.content,s):B.call(t,"formatLinks",t&&t.content,s),(i||0===i)&&(r+=i),r+="</p>\n            "}function T(t,e){var i,a,s="";return s+='\n            <li class="vf-rt-has-edit-li"><a href="#" class="vf-rt-has-edit-link">'+z((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"comment_edited",a):B.call(t,"i18n","comment_edited",a)))+"</a></li>\n        "}function C(t,e){var i,a="";return a+='\n            <li><span class="vf-date"></span></li>\n        ',i=n.unless.call(t,t&&t.enableDislikes,{hash:{},inverse:W.noop,fn:W.program(37,S,e),data:e}),(i||0===i)&&(a+=i),a+="\n        "}function S(t,e){var i,a,s,r="";return r+="\n            <li class=\"vf-likes\"><span class='vf-count-likes'><span>",(a=n.num_likes)?i=a.call(t,{hash:{},data:e}):(a=t&&t.num_likes,i=typeof a===V?a.call(t,{hash:{},data:e}):a),r+=z(i)+"</span></span> "+z((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"likes_count",t&&t.num_likes,s):B.call(t,"i18n","likes_count",t&&t.num_likes,s)))+"</li>\n        "}function L(t,e){return" vf-dislike-enabled"}function A(t,e){return" hidden"}function N(t,e){return"\n            "}function q(t,e){var i,a="";return a+='\n            <li class="',i=n.if.call(t,t&&t.enableDislikes,{hash:{},inverse:W.noop,fn:W.program(46,I,e),data:e}),(i||0===i)&&(a+=i),a+='">\n                ',i=n.if.call(t,t&&t.enableDislikes,{hash:{},inverse:W.program(51,R,e),fn:W.program(48,M,e),data:e}),(i||0===i)&&(a+=i),a+="\n            </li>\n            ",i=n.unless.call(t,t&&t.hideReply,{hash:{},inverse:W.noop,fn:W.program(56,j,e),data:e}),(i||0===i)&&(a+=i),a+="\n            "}function I(t,e){return"vf-like-dislike"}function M(t,e){var i,a,s,r="";return r+='\n                <a href="#" class="vf-new-like-btn ',(a=n.likeClass)?i=a.call(t,{hash:{},data:e}):(a=t&&t.likeClass,i=typeof a===V?a.call(t,{hash:{},data:e}):a),r+=z(i)+" ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:W.noop,fn:W.program(49,D,e),data:e},i=a?a.call(t,t&&t.email_unverified,1,s):B.call(t,"isEqual",t&&t.email_unverified,1,s),(i||0===i)&&(r+=i),r+='"><span class="vf-like-icon">&#58899;</span><span class="vf-count-likes"><span>',(a=n.num_likes)?i=a.call(t,{hash:{},data:e}):(a=t&&t.num_likes,i=typeof a===V?a.call(t,{hash:{},data:e}):a),r+=z(i)+'</span></span><span class="vf-count-likes-label"> '+z((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"likes_lnk",s):B.call(t,"i18n","likes_lnk",s)))+'</span></a>\n                <a href="#" class="vf-dislike-btn ',(a=n.dislikeClass)?i=a.call(t,{hash:{},data:e}):(a=t&&t.dislikeClass,i=typeof a===V?a.call(t,{hash:{},data:e}):a),r+=z(i)+" ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:W.noop,fn:W.program(49,D,e),data:e},i=a?a.call(t,t&&t.email_unverified,1,s):B.call(t,"isEqual",t&&t.email_unverified,1,s),(i||0===i)&&(r+=i),r+='"><span class="vf-dislike-icon">&#58900;</span><span class="vf-count-dislikes"><span>',(a=n.num_dislikes)?i=a.call(t,{hash:{},data:e}):(a=t&&t.num_dislikes,i=typeof a===V?a.call(t,{hash:{},data:e}):a),r+=z(i)+'</span></span><span class="vf-count-dislikes-label"> '+z((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"dislikes_lnk",s):B.call(t,"i18n","dislikes_lnk",s)))+"</span></a>\n                "}function D(t,e){return"vf-disabled-likes"}function R(t,e){var i,a,s,r="";return r+='\n                <a class="vf-like-btn ',a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:W.noop,fn:W.program(49,D,e),data:e},i=a?a.call(t,t&&t.email_unverified,1,s):B.call(t,"isEqual",t&&t.email_unverified,1,s),(i||0===i)&&(r+=i),r+='" href="#">',a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:W.noop,fn:W.program(52,P,e),data:e},i=a?a.call(t,t&&t.liked,1,s):B.call(t,"isEqual",t&&t.liked,1,s),(i||0===i)&&(r+=i),a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:W.noop,fn:W.program(54,O,e),data:e},i=a?a.call(t,t&&t.liked,0,s):B.call(t,"isEqual",t&&t.liked,0,s),(i||0===i)&&(r+=i),r+="</a>\n                "}function P(t,e){var i,a;return z((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"unlike_lnk",a):B.call(t,"i18n","unlike_lnk",a)))}function O(t,e){var i,a;return z((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"like_lnk",a):B.call(t,"i18n","like_lnk",a)))}function j(t,e){var i,a,s="";return s+='<li><a class="vf-reply-btn" href="#">'+z((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"reply_lnk",a):B.call(t,"i18n","reply_lnk",a)))+"</a></li>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var $,F,H,U="",B=n.helperMissing,z=this.escapeExpression,W=this,V="function",J=n.blockHelperMissing;return U+='<div class="vf-comment-container vf-clearfix',H={hash:{},inverse:W.noop,fn:W.program(1,s,a),data:a},(F=n.sharelink)?$=F.call(e,H):(F=e&&e.sharelink,$=typeof F===V?F.call(e,H):F),n.sharelink||($=J.call(e,$,{hash:{},inverse:W.noop,fn:W.program(1,s,a),data:a})),($||0===$)&&(U+=$),$=n.if.call(e,e&&e.wasEdited,{hash:{},inverse:W.noop,fn:W.program(3,r,a),data:a}),($||0===$)&&(U+=$),U+=" ",$=n.if.call(e,e&&e.realtimeNewComment,{hash:{},inverse:W.noop,fn:W.program(5,o,a),data:a}),($||0===$)&&(U+=$),U+='" data-id="',(F=n.id)?$=F.call(e,{hash:{},data:a}):(F=e&&e.id,$=typeof F===V?F.call(e,{hash:{},data:a}):F),U+=z($)+'">\n    ',$=n.if.call(e,e&&e.editor_pick,{hash:{},inverse:W.noop,fn:W.program(7,l,a),data:a}),($||0===$)&&(U+=$),U+='\n    <div class="view" data-view="avatar"></div>\n    <div class="vf-comment">\n        <div class="view" data-view="verification_status"></div>\n        <div class="view" data-view="processing_status"></div>\n\n        ',$=n.if.call(e,e&&e.showFlag,{hash:{},inverse:W.noop,fn:W.program(9,c,a),data:a}),($||0===$)&&(U+=$),U+="\n\n        ",$=n.if.call(e,e&&e.isProfileView,{hash:{},inverse:W.program(14,d,a),fn:W.program(12,h,a),data:a}),($||0===$)&&(U+=$),U+="\n        <div>\n            ",$=n.unless.call(e,($=e&&e.settings,null==$||$===!1?$:$.disablePreview),{hash:{},inverse:W.noop,fn:W.program(22,y,a),data:a}),($||0===$)&&(U+=$),U+="\n            ",$=n.if.call(e,e&&e.isProfileView,{hash:{},inverse:W.program(32,E,a),fn:W.program(30,k,a),data:a}),($||0===$)&&(U+=$),U+='\n        </div>\n        <div class="vf-comment-user-actions" data-view="user_actions">\n        </div>\n        <div class="vf-rt-new-circle vf-rt-accent-color-background"></div>\n        <ul class="vf-comment-meta vf-hlist vf-clearfix">\n        ',$=n.if.call(e,e&&e.wasEdited,{hash:{},inverse:W.program(36,C,a),fn:W.program(34,T,a),data:a}),($||0===$)&&(U+=$),U+='\n        </ul>\n        <ul class="vf-comment-actions vf-hlist vf-clearfix',$=n.if.call(e,e&&e.enableDislikes,{hash:{},inverse:W.noop,fn:W.program(39,L,a),data:a}),($||0===$)&&(U+=$),$=n.if.call(e,e&&e.wasEdited,{hash:{},inverse:W.noop,fn:W.program(41,A,a),data:a}),($||0===$)&&(U+=$),U+='">\n            ',$=n.if.call(e,e&&e.isProfileView,{hash:{},inverse:W.program(45,q,a),fn:W.program(43,N,a),data:a}),($||0===$)&&(U+=$),U+='\n            <li class="vf-share-options vf-clearfix">\n                <a href="#" class="vf-share-btn">'+z((F=n.i18n||e&&e.i18n,H={hash:{},data:a},F?F.call(e,"share_lnk",H):B.call(e,"i18n","share_lnk",H)))+"</a>\n            </li>\n        </ul>\n    </div>\n</div>\n"}),n.comment_confirm_remove=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l=n.helperMissing,c=this.escapeExpression;return o+='<div class="vf-comment-user-actions-wrap">\n    <span class="vf-confirm-message">'+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"remove_confirm",r):l.call(e,"i18n","remove_confirm",r)))+'</span><a class="vf-yes" href="#">'+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"yes",r):l.call(e,"i18n","yes",r)))+'</a><a class="vf-no" href="#">'+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"no",r):l.call(e,"i18n","no",r)))+"</a>\n</div>\n"}),n.comment_edit_form=e(function(t,e,n,i,a){function s(t,e){var i,a,s="";return s+='\n<div class="vf-comment-edit-timer">\n    <span class="vf-timer"></span> <span class="vf-time-remaining-desc">'+h((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"time_remaining_desc",a):u.call(t,"i18n","time_remaining_desc",a)))+"</span>\n</div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var r,o,l,c="",u=n.helperMissing,h=this.escapeExpression,d="function",f=this;return c+='<div class="vf-comment-container">\n    <textarea class="vf-content">'+h((r=e&&e.comment,r=null==r||r===!1?r:r.content,typeof r===d?r.apply(e):r))+'</textarea>\n</div>\n<div class="vf-comment-controls">\n    <ul class="vf-submit-container vf-hlist">\n\t\t<li><span class="vf-char-count"></span></li>\n        <li><a class="vf-comment-edit-save" href="#">'+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"edit_txt",l):u.call(e,"i18n","edit_txt",l)))+'</a><div class="vf-tipsy-mask"></div></li>\n        <li><a class="vf-comment-edit-cancel" href="#">'+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"cancel_lnk",l):u.call(e,"i18n","cancel_lnk",l)))+"</a></li>\n    </ul>\n</div>\n\n",r=n.if.call(e,e&&e.showTimer,{hash:{},inverse:f.noop,fn:f.program(1,s,a),data:a}),(r||0===r)&&(c+=r),c+='\n\n<div class="vf-error-box vf-clearfix">\n</div>\n'}),n.comment_form=e(function(t,e,n,i,a){function s(t,e){var i,a,s="";return s+='\n    <div class="vf-anonymous-menu vf-clearfix">\n        <div class="vf-left">\n            <b>'+p((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"anonymous_post_as",a):f.call(t,"i18n","anonymous_post_as",a)))+'&nbsp;</b>&nbsp;\n            <input type="text" name="vf_anonymous_name" placeholder="'+p((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"anonymous_pick_name",a):f.call(t,"i18n","anonymous_pick_name",a)))+'">\n        </div>\n        <div class="vf-right">\n            <div class="view" data-view="login_dashboard"></div>\n        </div>\n    </div>\n    '}function r(t,e){return'\n        <div class="view" data-view="verification_status"></div>\n    '}function o(t,e){var i,a,s="";return s+="\n            <li class='vf-left vf-upload-item'><a class='vf-upload-video'>"+p((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"upload_video_btn",a):f.call(t,"i18n","upload_video_btn",a)))+"</a><input type='file' size='1' name='video' class='vf-video-file'></li>\n        "}function l(t,e){var i,a,s="";return s+="\n            <li class='vf-left vf-upload-item'><a class='vf-upload-image'>"+p((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"upload_image_btn",a):f.call(t,"i18n","upload_image_btn",a)))+"</a><input type='file' size='1' name='image' class='vf-image-file'></li>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var c,u,h,d="",f=n.helperMissing,p=this.escapeExpression,v=this;return d+='<form class="vf-comment-form">\n    ',c=n.if.call(e,e&&e.enable_anonymous_comments,{hash:{},inverse:v.noop,fn:v.program(1,s,a),data:a}),(c||0===c)&&(d+=c),d+="\n    <div class='vf-textarea-container'>\n        <div class='vf-comment-textarea'>\n            <textarea name='vf_content' class='vf-content' placeholder='"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"comment_box_placeholder",h):f.call(e,"i18n","comment_box_placeholder",h)))+"'></textarea>\n        </div>\n    </div>\n    ",c=n.if.call(e,e&&e.hasVerification,{hash:{},inverse:v.noop,fn:v.program(3,r,a),data:a}),(c||0===c)&&(d+=c),d+="\n    <ul class='vf-comment-controls vf-clearfix'>\n        ",c=n.if.call(e,e&&e.enable_video_upload,{hash:{},inverse:v.noop,fn:v.program(5,o,a),data:a}),(c||0===c)&&(d+=c),d+="\n        ",c=n.if.call(e,e&&e.enable_image_upload,{hash:{},inverse:v.noop,fn:v.program(7,l,a),data:a}),(c||0===c)&&(d+=c),d+="\n        <li class='vf-left'><div class='vf-progress-bar' style='display: none;'><div class='vf-progress'><span class='vf-progress-filename'>&ndash;</span><a href='#' class='vf-progress-cancel'>"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"cancel_lnk",h):f.call(e,"i18n","cancel_lnk",h)))+"</a></div></div></li>\n        <li class='vf-right'><span class=\"vf-char-count\"></span><div class=\"vf-comment-submit-wrap\"><button class='vf-comment-submit' type='submit'>"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"submit_btn",h):f.call(e,"i18n","submit_btn",h)))+'</button><div class="vf-tipsy-mask"></div></div></li>\n    </ul>\n    <span class="vf-error-box"></span>\n</form>\n'}),n.comment_thread=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o,l="",c=n.helperMissing,u=this.escapeExpression;return l+='<div class="vf-comment-thread">\n    <div class="view" data-view="root_comment"></div>\n    <div class="vf-comment-replies">\n        <a class="vf-replies-button" href="#">'+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"comment_has_replies",(s=e&&e.thread,null==s||s===!1?s:s.after_count),o):c.call(e,"i18n","comment_has_replies",(s=e&&e.thread,null==s||s===!1?s:s.after_count),o)))+'</a>\n    </div>\n    <div class="vf-child-comments">\n        <div class="view" data-view="replies"></div>\n    </div>\n    <!-- REALTIME REPLY NOTIFICATION -->\n    <div class="vf-realtime vf-rt-reply invisible">\n        <a href="#" class="vf-rt-link">\n            <div class="vf-rt-default-state">\n                <div class="vf-rt-bar vf-rt-accent-color-background"></div>\n                <div class="vf-rt-bubble">\n                    <svg class="vf-rt-bubble-svg" viewBox="0 0 26 26">\n                        <path class="vf-rt-bubble-svg-path vf-rt-main-color-fill" d="M9.52,20.25c0.14,0,0.26,0.09,0.37,0.16l8.06,5.43c0.37,0.25,0.94,0.24,0.87-0.31l-0.65-4.82c-0.05-0.37,0.22-0.47,0.49-0.47h3.02c2.38,0,4.32-1.84,4.32-4.12V4.12C26,1.84,24.07,0,21.68,0H4.32C1.93,0,0,1.84,0,4.12v12.01c0,2.27,1.93,4.12,4.32,4.12H9.52z"/>\n                    </svg>\n                    <span class="vf-rt-bubble-text vf-rt-overlay-color-text">0</span>\n                </div>\n            </div>\n            <div class="vf-rt-hover-state vf-rt-accent-color-background">\n                <div class="vf-rt-bar vf-rt-accent-color-background"></div>\n                <div class="vf-rt-label vf-rt-overlay-color-text">'+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"comment_has_realtime_replies",o):c.call(e,"i18n","comment_has_realtime_replies",o)))+'</div>\n                <div class="vf-rt-bubble">\n                    <svg class="vf-rt-bubble-svg" viewBox="0 0 26 26">\n                        <path class="vf-rt-bubble-svg-path vf-rt-overlay-color-fill" d="M9.52,20.25c0.14,0,0.26,0.09,0.37,0.16l8.06,5.43c0.37,0.25,0.94,0.24,0.87-0.31l-0.65-4.82c-0.05-0.37,0.22-0.47,0.49-0.47h3.02c2.38,0,4.32-1.84,4.32-4.12V4.12C26,1.84,24.07,0,21.68,0H4.32C1.93,0,0,1.84,0,4.12v12.01c0,2.27,1.93,4.12,4.32,4.12H9.52z"/>\n                    </svg>\n                    <span class="vf-rt-bubble-text vf-rt-main-color-text">0</span>\n                </div>\n            </div>\n        </a>\n    </div>\n    <!-- REALTIME REPLY NOTIFICATION -->\n\n</div>\n'}),n.comment_user=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l="function",c=this.escapeExpression;return o+='<li><a class="vf-username" href="#">',(r=n.name)?s=r.call(e,{hash:{},data:a}):(r=e&&e.name,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+'</a></li>\n<li class="vf-rank">Rank <span class="vf-rank-count" href="#">',(r=n.rank)?s=r.call(e,{hash:{},data:a}):(r=e&&e.rank,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"</span></li>\n"}),n.comment_user_actions=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l=n.helperMissing,c=this.escapeExpression;return o+='<div class="vf-comment-user-actions-wrap">\n    '+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"time_remaining_ext",e&&e.showTimer,e&&e.canUpdate,e&&e.canRemove,r):l.call(e,"i18n","time_remaining_ext",e&&e.showTimer,e&&e.canUpdate,e&&e.canRemove,r)))+"\n</div>\n"}),n.commenting=e(function(t,e,n,i,a){function s(t,e){return'\n    <div class="view vf-login-dashboard" data-view="login_dashboard"></div>\n'}function r(t,e){return'\n    <div class="view vf-email-verification" data-view="email_verification"></div>\n'}function o(t,e){var i,a,s="";return s+="\n    <ul class='vf-comments-meta vf-clearfix'>\n        <li class='vf-left'><div class=\"view\" data-view=\"page_count\"></div></li>\n        <li class='vf-right'><a class='vf-branding' href='http://viafoura.com' target=\"_blank\"><b>"+v((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"powered_by",a):p.call(t,"i18n","powered_by",a)))+'</b><span class="vf-logo" title="Viafoura"></span></a></li>\n    </ul>\n'}function l(t,e){return'\n    <div class="view" data-view="comment_box"></div>\n'}function c(t,e){var i,a,s="";return s+="\n    <p><strong>"+v((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"commenting_closed",a):p.call(t,"i18n","commenting_closed",a)))+"</strong></p>\n"}function u(t,e){return'\n    <div class="view" data-view="comments_options"></div>\n'}function h(t,e){var i,a,s="";return s+='\n    <div class="vf-show-all-con">\n        <a href="#" class="vf-show-all vf-button">&larr; '+v((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"view_all_btn",a):p.call(t,"i18n","view_all_btn",a)))+'</a>\n    </div>\n    <div class="view" data-view="comments"></div>\n    <div class="vf-load-more-con">\n        <a href="#" class="vf-load-more">'+v((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"show_more_btn",a):p.call(t,"i18n","show_more_btn",a)))+"</a>\n    </div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var d,f="",p=n.helperMissing,v=this.escapeExpression,g=this;return f+='<div class="vf-commenting">\n    <div class="view vf-page-settings" data-view="page_settings"></div>\n\n',d=n.if.call(e,e&&e.hasLoginDashboard,{hash:{},inverse:g.noop,fn:g.program(1,s,a),data:a}),(d||0===d)&&(f+=d),f+="\n",d=n.if.call(e,e&&e.hasEmailVerification,{hash:{},inverse:g.noop,fn:g.program(3,r,a),data:a}),(d||0===d)&&(f+=d),f+="\n",d=n.if.call(e,e&&e.hasCommentMeta,{hash:{},inverse:g.noop,fn:g.program(5,o,a),data:a}),(d||0===d)&&(f+=d),f+="\n",d=n.if.call(e,e&&e.hasCommentBox,{hash:{},inverse:g.noop,fn:g.program(7,l,a),data:a}),(d||0===d)&&(f+=d),f+="\n\n",d=n.if.call(e,e&&e.commentingClosed,{hash:{},inverse:g.noop,fn:g.program(9,c,a),data:a}),(d||0===d)&&(f+=d),f+="\n\n",d=n.if.call(e,e&&e.hasCommentOptions,{hash:{},inverse:g.noop,fn:g.program(11,u,a),data:a}),(d||0===d)&&(f+=d),f+="\n\n",d=n.if.call(e,e&&e.hasComments,{hash:{},inverse:g.noop,fn:g.program(13,h,a),data:a}),(d||0===d)&&(f+=d),f+="\n</div>\n"}),n.comments_options=e(function(t,e,n,i,a){function s(t,e){return' class="vf-rt-block-wrapper"'}function r(t,e){var i,a,s,r="";return r+='\n        <a data-id="',(a=n.id)?i=a.call(t,{hash:{},data:e}):(a=t&&t.id,i=typeof a===p?a.call(t,{hash:{},data:e}):a),r+=v(i)+'" href="#" class="vf-btn vf-subscribe vf-tip" data-title="unsubscribe-page">'+v((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"unsubscribe_btn",s):g.call(t,"i18n","unsubscribe_btn",s)))+"</a>\n"}function o(t,e){var i,a,s,r="";return r+='\n        <a data-id="',(a=n.id)?i=a.call(t,{hash:{},data:e}):(a=t&&t.id,i=typeof a===p?a.call(t,{hash:{},data:e}):a),r+=v(i)+'" href="#" class="vf-btn vf-subscribe vf-tip" data-title="subscribe-page">'+v((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"subscribe_btn",s):g.call(t,"i18n","subscribe_btn",s)))+"</a>\n"}function l(t,e){var i,a,s="";return s+='\n        <div class="vf-rt-toggle vf-tip vf-rt-overlay-color-text" data-title="realtime-toggle-on"><div class="vf-rt-toggle-dot vf-rt-blinking"></div><span>'+v((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"realtime_on",a):g.call(t,"i18n","realtime_on",a)))+"</span></div>\n"}function c(t,e){var i,a,s="";return s+='\n    <!-- REALTIME NOTIFICATION BANNER -->\n    <div class="vf-realtime vf-comments-realtime vf-rt-main-static invisible">\n        <a href="#" class="vf-rt-link">\n            <div class="vf-rt-default-state">\n                <div class="vf-rt-bar vf-rt-accent-color-background"></div>\n                <div class="vf-rt-label vf-rt-main-color-text"></div>\n            </div>\n            <div class="vf-rt-hover-state vf-rt-accent-color-background">\n                <div class="vf-rt-bar vf-rt-accent-color-background"></div>\n                <div class="vf-rt-label vf-rt-overlay-color-text"></div>\n            </div>\n\n        </a>\n    </div>\n\n    <div class="vf-realtime vf-comments-realtime vf-rt-main-sticky">\n        <a href="#" class="vf-rt-link">\n            <div class="vf-rt-default-state">\n                <div class="vf-rt-bar vf-rt-accent-color-background"></div>\n                <div class="vf-rt-bubble">\n                    <svg class="vf-rt-bubble-svg" viewBox="0 0 26 26">\n                        <path class="vf-rt-bubble-svg-path vf-rt-main-color-fill" d="M9.52,20.25c0.14,0,0.26,0.09,0.37,0.16l8.06,5.43c0.37,0.25,0.94,0.24,0.87-0.31l-0.65-4.82c-0.05-0.37,0.22-0.47,0.49-0.47h3.02c2.38,0,4.32-1.84,4.32-4.12V4.12C26,1.84,24.07,0,21.68,0H4.32C1.93,0,0,1.84,0,4.12v12.01c0,2.27,1.93,4.12,4.32,4.12H9.52z"/>\n                    </svg>\n                    <span class="vf-rt-bubble-text vf-rt-overlay-color-text">',(a=n.new_comments)?i=a.call(t,{hash:{},data:e}):(a=t&&t.new_comments,i=typeof a===p?a.call(t,{hash:{},data:e}):a),s+=v(i)+'</span>\n                </div>\n            </div>\n            <div class="vf-rt-hover-state vf-rt-accent-color-background">\n                <div class="vf-rt-bar vf-rt-accent-color-background"></div>\n                <div class="vf-rt-label vf-rt-overlay-color-text"></div>\n                <div class="vf-rt-bubble">\n                    <svg class="vf-rt-bubble-svg" viewBox="0 0 26 26">\n                        <path class="vf-rt-bubble-svg-path vf-rt-overlay-color-fill" d="M9.52,20.25c0.14,0,0.26,0.09,0.37,0.16l8.06,5.43c0.37,0.25,0.94,0.24,0.87-0.31l-0.65-4.82c-0.05-0.37,0.22-0.47,0.49-0.47h3.02c2.38,0,4.32-1.84,4.32-4.12V4.12C26,1.84,24.07,0,21.68,0H4.32C1.93,0,0,1.84,0,4.12v12.01c0,2.27,1.93,4.12,4.32,4.12H9.52z"/>\n                    </svg>\n                    <span class="vf-rt-bubble-text vf-rt-main-color-text">',(a=n.new_comments)?i=a.call(t,{hash:{},data:e}):(a=t&&t.new_comments,i=typeof a===p?a.call(t,{hash:{},data:e}):a),s+=v(i)+"</span>\n                </div>\n            </div>\n        </a>\n    </div>\n    <!-- REALTIME NOTIFICATION BANNER -->\n\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var u,h,d,f="",p="function",v=this.escapeExpression,g=n.helperMissing,m=this;return f+="<div",u=n.if.call(e,e&&e.hasRealtime,{hash:{},inverse:m.noop,fn:m.program(1,s,a),data:a}),(u||0===u)&&(f+=u),f+='>\n    <div class="vf-comments-setting vf-clearfix">\n',u=n.if.call(e,e&&e.subscribed,{hash:{},inverse:m.program(5,o,a),fn:m.program(3,r,a),data:a}),(u||0===u)&&(f+=u),f+="\n        <div class=\"vf-comments-sort-block\">\n            <select class='vf-comments-sort'>\n                <option value='newest'>"+v((h=n.i18n||e&&e.i18n,d={hash:{},data:a},h?h.call(e,"newest_sort",d):g.call(e,"i18n","newest_sort",d)))+"</option>\n                <option value='oldest'>"+v((h=n.i18n||e&&e.i18n,d={hash:{},data:a},h?h.call(e,"oldest_sort",d):g.call(e,"i18n","oldest_sort",d)))+"</option>\n                <option value='likes'>"+v((h=n.i18n||e&&e.i18n,d={hash:{},data:a},h?h.call(e,"liked_sort",d):g.call(e,"i18n","liked_sort",d)))+"</option>\n                <option value='editor-picks'>"+v((h=n.i18n||e&&e.i18n,d={hash:{},data:a},h?h.call(e,"editor_pick_sort",d):g.call(e,"i18n","editor_pick_sort",d)))+"</option>\n                <option value='activity'>"+v((h=n.i18n||e&&e.i18n,d={hash:{},data:a},h?h.call(e,"active_sort",d):g.call(e,"i18n","active_sort",d)))+"</option>\n                <option value='replies'>"+v((h=n.i18n||e&&e.i18n,d={hash:{},data:a},h?h.call(e,"replies_sort",d):g.call(e,"i18n","replies_sort",d)))+"</option>\n            </select>\n        </div>\n",u=n.if.call(e,e&&e.hasRealtime,{hash:{},inverse:m.noop,fn:m.program(7,l,a),data:a}),(u||0===u)&&(f+=u),f+="\n    </div>\n\n",u=n.if.call(e,e&&e.hasRealtime,{hash:{},inverse:m.noop,fn:m.program(9,c,a),data:a}),(u||0===u)&&(f+=u),f+="\n</div>\n"}),n.horizontal_list=e(function(t,e,n,i,a){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{},'<div class="vf-horizontal-list"></div>'}),n.load_more=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l=n.helperMissing,c=this.escapeExpression;return o+='<div class="vf-load-more-con">\n    <a href="#" class="vf-load-more">'+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"show_more_btn",r):l.call(e,"i18n","show_more_btn",r)))+"</a>\n</div>"}),n.login_dashboard=e(function(t,e,n,i,a){function s(t,e){var i,a,s="";return s+='\n    <a class="vf-login-button" href="#">'+p((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"login_lnk",a):f.call(t,"i18n","login_lnk",a)))+'</a> | <a class="vf-signup-button">'+p((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"signup_lnk",a):f.call(t,"i18n","signup_lnk",a)))+"</a>\n    "}function r(t,e){var i,a,s,r="";return r+='\n    <a class="vf-username" href="#">',(a=n.name)?i=a.call(t,{hash:{},data:e}):(a=t&&t.name,i=typeof a===v?a.call(t,{hash:{},data:e}):a),r+=p(i)+"\n        ",i=n.if.call(t,t&&t.has_usermod,{hash:{},inverse:g.noop,fn:g.program(4,o,e),data:e}),(i||0===i)&&(r+=i),r+='\n    </a>\n     |\n    <a class="vf-logout" href="#">'+p((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"logout_lnk",s):f.call(t,"i18n","logout_lnk",s)))+"</a>\n    "}function o(t,e){var i,a,s,r="";return r+="\n        <span class=\"vf-moderation-status-inline vf-js-needs-moderation\">\n            <span class='visuallyhidden' aria-role='alert'>"+p((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,t&&t.alert_msg,t&&t.name,s):f.call(t,"i18n",t&&t.alert_msg,t&&t.name,s)))+"</span>\n            <span class='vf-moderation-status-icon vf-icon-",(a=n.username_moderation_status)?i=a.call(t,{hash:{},data:e}):(a=t&&t.username_moderation_status,i=typeof a===v?a.call(t,{hash:{},data:e}):a),r+=p(i)+" vf-js-user-mod-icon ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:g.noop,fn:g.program(5,l,e),data:e},i=a?a.call(t,t&&t.username_moderation_status,"approved",s):f.call(t,"isEqual",t&&t.username_moderation_status,"approved",s),(i||0===i)&&(r+=i),r+="'></a>\n        </span>\n        ";
}function l(t,e){return"hidden"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var c,u,h,d="",f=n.helperMissing,p=this.escapeExpression,v="function",g=this;return d+='<div class="vf-login-widget vf-clearfix">\n    ',u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:g.program(3,r,a),fn:g.program(1,s,a),data:a},c=u?u.call(e,e&&e.user_privilege,"guest",h):f.call(e,"isEqual",e&&e.user_privilege,"guest",h),(c||0===c)&&(d+=c),d+="\n</div>\n"}),n.moderation=e(function(t,e,n,i,a){function s(t,e){var i,a,s,u="";return u+="\n        ",a=n.isNot||t&&t.isNot,s={hash:{},inverse:x.noop,fn:x.program(2,r,e),data:e},i=a?a.call(t,(i=t&&t.comment,null==i||i===!1?i:i.processing_status),"spam",s):_.call(t,"isNot",(i=t&&t.comment,null==i||i===!1?i:i.processing_status),"spam",s),(i||0===i)&&(u+=i),u+="\n        ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(4,o,e),data:e},i=a?a.call(t,(i=t&&t.comment,null==i||i===!1?i:i.processing_status),"spam",s):_.call(t,"isEqual",(i=t&&t.comment,null==i||i===!1?i:i.processing_status),"spam",s),(i||0===i)&&(u+=i),u+="\n        ",a=n.isNot||t&&t.isNot,s={hash:{},inverse:x.noop,fn:x.program(6,l,e),data:e},i=a?a.call(t,(i=t&&t.comment,null==i||i===!1?i:i.processing_status),"disabled",s):_.call(t,"isNot",(i=t&&t.comment,null==i||i===!1?i:i.processing_status),"disabled",s),(i||0===i)&&(u+=i),u+="\n        ",a=n.anyEqual||t&&t.anyEqual,s={hash:{},inverse:x.noop,fn:x.program(8,c,e),data:e},i=a?a.call(t,(i=t&&t.comment,null==i||i===!1?i:i.processing_status),"disabled","awaiting_moderation",s):_.call(t,"anyEqual",(i=t&&t.comment,null==i||i===!1?i:i.processing_status),"disabled","awaiting_moderation",s),(i||0===i)&&(u+=i),u+="\n    "}function r(t,e){var i,a,s="";return s+="<li><a class=\"vf-spam-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_spam",a):_.call(t,"i18n","admin_spam",a)))+"</a></li>"}function o(t,e){var i,a,s="";return s+="<li><a class=\"vf-unspam-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_unspam",a):_.call(t,"i18n","admin_unspam",a)))+"</a></li>"}function l(t,e){var i,a,s="";return s+="<li><a class=\"vf-disable-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_disable",a):_.call(t,"i18n","admin_disable",a)))+"</a></li>"}function c(t,e){var i,a,s="";return s+="<li><a class=\"vf-approve-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_approve",a):_.call(t,"i18n","admin_approve",a)))+"</a></li>"}function u(t,e){var i,a,s="";return s+="\n        <li><a class=\"vf-ban-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_ban",a):_.call(t,"i18n","admin_ban",a)))+"</a></li>\n    "}function h(t,e){var i,a,s,r="";return r+="\n        ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(13,d,e),data:e},i=a?a.call(t,(i=t&&t.comment,null==i||i===!1?i:i.editor_pick),0,s):_.call(t,"isEqual",(i=t&&t.comment,null==i||i===!1?i:i.editor_pick),0,s),(i||0===i)&&(r+=i),r+="\n\n        ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(15,f,e),data:e},i=a?a.call(t,(i=t&&t.comment,null==i||i===!1?i:i.editor_pick),1,s):_.call(t,"isEqual",(i=t&&t.comment,null==i||i===!1?i:i.editor_pick),1,s),(i||0===i)&&(r+=i),r+="\n\n        ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(17,p,e),data:e},i=a?a.call(t,(i=t&&t.user,null==i||i===!1?i:i.badge_trusted),0,s):_.call(t,"isEqual",(i=t&&t.user,null==i||i===!1?i:i.badge_trusted),0,s),(i||0===i)&&(r+=i),r+="\n        ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(19,v,e),data:e},i=a?a.call(t,(i=t&&t.user,null==i||i===!1?i:i.badge_trusted),1,s):_.call(t,"isEqual",(i=t&&t.user,null==i||i===!1?i:i.badge_trusted),1,s),(i||0===i)&&(r+=i),r+="\n    "}function d(t,e){var i,a,s="";return s+="\n            <li><a class=\"vf-pick-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_editor_pick",a):_.call(t,"i18n","admin_editor_pick",a)))+"</a></li>\n        "}function f(t,e){var i,a,s="";return s+="\n            <li><a class=\"vf-unpick-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_uneditor_pick",a):_.call(t,"i18n","admin_uneditor_pick",a)))+"</a></li>\n        "}function p(t,e){var i,a,s="";return s+="\n            <li>\n                <a class=\"vf-trust-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_trusted",a):_.call(t,"i18n","admin_trusted",a)))+"</a>\n            </li>\n        "}function v(t,e){var i,a,s="";return s+="\n            <li>\n                <a class=\"vf-untrust-btn\" href='#'>"+w((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"admin_untrusted",a):_.call(t,"i18n","admin_untrusted",a)))+"</a>\n            </li>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var g,m,y,b="",_=n.helperMissing,w=this.escapeExpression,x=this;return b+="<ul class='vf-moderator-options'>\n    ",m=n.isNot||e&&e.isNot,y={hash:{},inverse:x.noop,fn:x.program(1,s,a),data:a},g=m?m.call(e,(g=e&&e.comment,null==g||g===!1?g:g.processing_status),"removed",y):_.call(e,"isNot",(g=e&&e.comment,null==g||g===!1?g:g.processing_status),"removed",y),(g||0===g)&&(b+=g),b+="\n\n    ",m=n.isEqual||e&&e.isEqual,y={hash:{},inverse:x.noop,fn:x.program(10,u,a),data:a},g=m?m.call(e,(g=e&&e.user,null==g||g===!1?g:g.ban_level),"none",y):_.call(e,"isEqual",(g=e&&e.user,null==g||g===!1?g:g.ban_level),"none",y),(g||0===g)&&(b+=g),b+="\n\n    ",m=n.isNot||e&&e.isNot,y={hash:{},inverse:x.noop,fn:x.program(12,h,a),data:a},g=m?m.call(e,(g=e&&e.comment,null==g||g===!1?g:g.processing_status),"removed",y):_.call(e,"isNot",(g=e&&e.comment,null==g||g===!1?g:g.processing_status),"removed",y),(g||0===g)&&(b+=g),b+="\n</ul>\n"}),n.moderation_status=e(function(t,e,n,i,a){function s(t,e){return"vf-warning"}function r(t,e){var i,a,s="";return s+="\n            <ul class='clearfix'>\n                <li>\n                    <a href='#' class='vf-open-modal-profile' aria-expanded=false aria-controls='vf-modal-profile' data-focus=\"vf_email\">\n                        "+g((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"verify_email_change",a):v.call(t,"i18n","verify_email_change",a)))+"\n                    </a>\n                </li>\n\n                <li>\n                    <a href='#' class='vf-resend-verification-email'>"+g((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"resend_verification",a):v.call(t,"i18n","resend_verification",a)))+"</a>\n                    <span class='vf-resend-verification-status' aria-hidden=true aria-role='alert'>\n                        <span class='vf-moderation-status-icon hidden'></span>\n                        <strong></strong>\n                    </span>\n                </li>\n            </ul>\n        "}function o(t,e){var i,a="";return a+="\n            ",i=n.if.call(t,t&&t.warning,{hash:{},inverse:m.noop,fn:m.program(6,l,e),data:e}),(i||0===i)&&(a+=i),a+="\n        "}function l(t,e){var i,a,s,r="";return r+="\n                ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:m.noop,fn:m.program(7,c,e),data:e},i=a?a.call(t,t&&t.type,"username",s):v.call(t,"isEqual",t&&t.type,"username",s),(i||0===i)&&(r+=i),r+="\n                ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:m.noop,fn:m.program(9,u,e),data:e},i=a?a.call(t,t&&t.type,"avatar",s):v.call(t,"isEqual",t&&t.type,"avatar",s),(i||0===i)&&(r+=i),r+="\n                </a>\n            "}function c(t,e){var i,a,s="";return s+="\n                    <a href='#' class='vf-open-modal-profile' aria-expanded=false aria-controls='vf-modal-profile' data-focus=\"vf_name\">\n                        "+g((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"name_change",a):v.call(t,"i18n","name_change",a)))+"\n                "}function u(t,e){var i,a,s="";return s+="\n                    <a href='#' class='vf-open-modal-profile' aria-expanded=false aria-controls='vf-modal-profile' data-focus=\"avatar\">\n                        "+g((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"avatar_change",a):v.call(t,"i18n","avatar_change",a)))+"\n                "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var h,d,f,p="",v=n.helperMissing,g=this.escapeExpression,m=this,y="function";return p+="<div class='vf-verification-status vf-info ",h=n.if.call(e,e&&e.warning,{hash:{},inverse:m.noop,fn:m.program(1,s,a),data:a}),(h||0===h)&&(p+=h),p+='\' aria-role=\'alert\'>\n    <div class="vf-loader-error vf-loader-left-error" aria-hidden=true>&#xe602;</div>\n    <div class = "vf-message">\n        <p>',(d=n.message)?h=d.call(e,{hash:{},data:a}):(d=e&&e.message,h=typeof d===y?d.call(e,{hash:{},data:a}):d),p+=g(h)+"</p>\n        ",d=n.isEqual||e&&e.isEqual,f={hash:{},inverse:m.noop,fn:m.program(3,r,a),data:a},h=d?d.call(e,e&&e.type,"email",f):v.call(e,"isEqual",e&&e.type,"email",f),(h||0===h)&&(p+=h),p+="\n        ",d=n.isNot||e&&e.isNot,f={hash:{},inverse:m.noop,fn:m.program(5,o,a),data:a},h=d?d.call(e,e&&e.type,"email",f):v.call(e,"isNot",e&&e.type,"email",f),(h||0===h)&&(p+=h),p+="\n    </div>\n</div>\n"}),n.page_count=e(function(t,e,n,i,a){function s(t,e){var i,a,s,r="";return r+="\n    <b class='vf-total-comments'>",(a=n.num_replies)?i=a.call(t,{hash:{},data:e}):(a=t&&t.num_replies,i=typeof a===c?a.call(t,{hash:{},data:e}):a),r+=u(i)+"</b> "+u((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"comment_total_count",t&&t.num_replies,s):h.call(t,"i18n","comment_total_count",t&&t.num_replies,s)))+"\n    "}function r(t,e){var i,a,s="";return s+="\n    <b class='vf-total-comments'>0</b> "+u((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"comment_total_count",0,a):h.call(t,"i18n","comment_total_count",0,a)))+"\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var o,l="",c="function",u=this.escapeExpression,h=n.helperMissing,d=this;return l+="<b>",o=n.if.call(e,e&&e.num_replies,{hash:{},inverse:d.program(3,r,a),fn:d.program(1,s,a),data:a}),(o||0===o)&&(l+=o),l+="</b>\n"}),n.page_settings=e(function(t,e,n,i,a){function s(t,e){return"disabled"}function r(t,e){return" selected"}function o(t,e){var i,a,s,r="";return r+='\n    <div class="vf-setting-item vf-smartmod-settings">\n        <label class="vf-page-smartmod">'+p((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"smartmod_option_lbl",s):f.call(t,"i18n","smartmod_option_lbl",s)))+':</label>\n        <input type="checkbox" class="vf-smartmod-option vf-toggle-checkbox" id="vf-smartmod-option" ',a=n.anyEqual||t&&t.anyEqual,s={hash:{},inverse:v.noop,fn:v.program(6,l,e),data:e},i=a?a.call(t,t&&t.smartmod,"enable","default","enable_premod_unknown",s):f.call(t,"anyEqual",t&&t.smartmod,"enable","default","enable_premod_unknown",s),(i||0===i)&&(r+=i),r+='></input>\n        <label class="vf-toggle vf-smartmod-toggle vf-tip" data-title="smartmod-toggle-enable" for="vf-smartmod-option">\n            <span class="vf-switch"></span>\n        </label>\n        <span class="vf-premod-setting">\n            <label class="vf-page-premod-unknowns">'+p((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"premod_unknowns_option_lbl",s):f.call(t,"i18n","premod_unknowns_option_lbl",s)))+':</label>\n            <input type="checkbox" id="premod_unknowns_option" class="vf-premod-option vf-toggle-checkbox" ',a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:v.noop,fn:v.program(6,l,e),data:e},i=a?a.call(t,t&&t.smartmod,"enable_premod_unknown",s):f.call(t,"isEqual",t&&t.smartmod,"enable_premod_unknown",s),(i||0===i)&&(r+=i),r+='/></input>\n            <label for="premod_unknowns_option" class="vf-toggle vf-premod-toggle">\n                <span class="vf-switch"></span>\n            </label>\n        </span>\n    </div>\n    '}function l(t,e){return"checked"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var c,u,h,d="",f=n.helperMissing,p=this.escapeExpression,v=this;return d+="<div class=\"vf-global-settings\">\n    <div class='vf-setting-item vf-commenting-settings'>\n        <label for='vf_comment_thread' class=\"vf-comment-thread\">"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"commenting_option_lbl",h):f.call(e,"i18n","commenting_option_lbl",h)))+': </label>\n        <span class="vf-dropdown-wrapper">\n            <span class="vf-page-settings-tooltip vf-tip" data-title="page-settings-disabled"></span>\n            <select class=\'vf-thread-option\' id=\'vf_comment_thread\' ',u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:v.noop,fn:v.program(1,s,a),data:a},c=u?u.call(e,e&&e.smartmod,"enable",h):f.call(e,"isEqual",e&&e.smartmod,"enable",h),(c||0===c)&&(d+=c),d+=">\n            <option value='0'",u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:v.noop,fn:v.program(3,r,a),data:a},c=u?u.call(e,"default",e&&e.status,h):f.call(e,"isEqual","default",e&&e.status,h),(c||0===c)&&(d+=c),d+=">"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"commenting_default_option",h):f.call(e,"i18n","commenting_default_option",h)))+"</option>\n            <option value='3'",u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:v.noop,fn:v.program(3,r,a),data:a},c=u?u.call(e,"premoderated",e&&e.status,h):f.call(e,"isEqual","premoderated",e&&e.status,h),(c||0===c)&&(d+=c),d+=">"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"commenting_premoderate",h):f.call(e,"i18n","commenting_premoderate",h)))+"</option>\n            <option value='1'",u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:v.noop,fn:v.program(3,r,a),data:a},c=u?u.call(e,"closed",e&&e.status,h):f.call(e,"isEqual","closed",e&&e.status,h),(c||0===c)&&(d+=c),d+=">"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"commenting_close",h):f.call(e,"i18n","commenting_close",h)))+"</option>\n            <option value='2'",u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:v.noop,fn:v.program(3,r,a),data:a},c=u?u.call(e,"hidden",e&&e.status,h):f.call(e,"isEqual","hidden",e&&e.status,h),(c||0===c)&&(d+=c),d+=">"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"commenting_disable",h):f.call(e,"i18n","commenting_disable",h)))+"</option>\n            <option value='4'",u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:v.noop,fn:v.program(3,r,a),data:a},c=u?u.call(e,"open",e&&e.status,h):f.call(e,"isEqual","open",e&&e.status,h),(c||0===c)&&(d+=c),d+=">"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"commenting_open",h):f.call(e,"i18n","commenting_open",h)))+"</option>\n            <option value='5'",u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:v.noop,fn:v.program(3,r,a),data:a},c=u?u.call(e,"premoderated_with_timeout",e&&e.status,h):f.call(e,"isEqual","premoderated_with_timeout",e&&e.status,h),(c||0===c)&&(d+=c),d+=">"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"commenting_premoderate_with_timeout",h):f.call(e,"i18n","commenting_premoderate_with_timeout",h)))+"</option>\n            <option value='6'",u=n.isEqual||e&&e.isEqual,h={hash:{},inverse:v.noop,fn:v.program(3,r,a),data:a},c=u?u.call(e,"open_with_timeout",e&&e.status,h):f.call(e,"isEqual","open_with_timeout",e&&e.status,h),(c||0===c)&&(d+=c),d+=">"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,"commenting_open_with_timeout",h):f.call(e,"i18n","commenting_open_with_timeout",h)))+"</option>\n            </select>\n        </span>\n    </div>\n    ",c=n.if.call(e,e&&e.moderation_smartmod_enabled,{hash:{},inverse:v.noop,fn:v.program(5,o,a),data:a}),(c||0===c)&&(d+=c),d+="\n\n</div>\n"}),n.player=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l="function",c=this.escapeExpression;return o+="<video width='",(r=n.width)?s=r.call(e,{hash:{},data:a}):(r=e&&e.width,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"' height='",(r=n.height)?s=r.call(e,{hash:{},data:a}):(r=e&&e.height,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"' id=\"vf-video-",(r=n.id)?s=r.call(e,{hash:{},data:a}):(r=e&&e.id,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"\" controls='controls'>\n\t<source src='",(r=n.mp4)?s=r.call(e,{hash:{},data:a}):(r=e&&e.mp4,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"' type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'>\n\t<source src='",(r=n.webm)?s=r.call(e,{hash:{},data:a}):(r=e&&e.webm,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"' type='video/webm; codecs=\"vp8, vorbis\"'>\n</video>"}),n.processing_status=e(function(t,e,n,i,a){function s(t,e){var i,a,s="";return s+='\n    <div class="vf-hidden vf-alert">\n        <p>'+m((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"verify_email_comment_limit",a):g.call(t,"i18n","verify_email_comment_limit",a)))+'</p>\n        <a href="#">'+m((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"resend_verification",a):g.call(t,"i18n","resend_verification",a)))+"/"+m((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"verify_email_update",a):g.call(t,"i18n","verify_email_update",a)))+"</a>\n    </div>\n    "}function r(t,e){var i,a,s="";return s+='<div class="vf-disabled-content vf-alert">'+m((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"comment_status_disabled",a):g.call(t,"i18n","comment_status_disabled",a)))+"</div>"}function o(t,e){var i,a,s="";return s+='<div class="vf-removed vf-alert">'+m((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"post_removed",a):g.call(t,"i18n","post_removed",a)))+"</div>"}function l(t,e){var i,a,s="";return s+='<div class="vf-spam vf-alert">'+m((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"comment_status_spam",a):g.call(t,"i18n","comment_status_spam",a)))+"</div>"}function c(t,e){var i,a,s="";return s+='<div class="vf-info vf-alert">'+m((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"comment_status_premod",a):g.call(t,"i18n","comment_status_premod",a)))+"</div>"}function u(t,e){var i,a,s,r="";return r+="\n    ",a=n.anyEqual||t&&t.anyEqual,s={hash:{},inverse:y.noop,fn:y.program(12,h,e),data:e},i=a?a.call(t,(i=t&&t.current_user,null==i||i===!1?i:i.user_privilege),"moderator","administrator",s):g.call(t,"anyEqual",(i=t&&t.current_user,null==i||i===!1?i:i.user_privilege),"moderator","administrator",s),(i||0===i)&&(r+=i),r+="\n    "}function h(t,e){var i,a,s="";return s+='\n        <div class="vf-alert vf-banned">'+m((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"comment_status_banned",a):g.call(t,"i18n","comment_status_banned",a)))+"</div>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var d,f,p,v="",g=n.helperMissing,m=this.escapeExpression,y=this;return v+='<div class="vf-processing-status" aria-role="alert">\n    ',f=n.isEqual||e&&e.isEqual,p={hash:{},inverse:y.noop,fn:y.program(1,s,a),data:a},d=f?f.call(e,(d=e&&e.user,null==d||d===!1?d:d.verification_status),"unverified",p):g.call(e,"isEqual",(d=e&&e.user,null==d||d===!1?d:d.verification_status),"unverified",p),(d||0===d)&&(v+=d),v+="\n    ",f=n.isEqual||e&&e.isEqual,p={hash:{},inverse:y.noop,fn:y.program(3,r,a),data:a},d=f?f.call(e,e&&e.processing_status,"disabled",p):g.call(e,"isEqual",e&&e.processing_status,"disabled",p),(d||0===d)&&(v+=d),v+="\n    ",f=n.isEqual||e&&e.isEqual,p={hash:{},inverse:y.noop,fn:y.program(5,o,a),data:a},d=f?f.call(e,e&&e.processing_status,"removed",p):g.call(e,"isEqual",e&&e.processing_status,"removed",p),(d||0===d)&&(v+=d),v+="\n    ",f=n.isEqual||e&&e.isEqual,p={hash:{},inverse:y.noop,fn:y.program(7,l,a),data:a},d=f?f.call(e,e&&e.processing_status,"spam",p):g.call(e,"isEqual",e&&e.processing_status,"spam",p),(d||0===d)&&(v+=d),v+="\n    ",f=n.isEqual||e&&e.isEqual,p={hash:{},inverse:y.noop,fn:y.program(9,c,a),data:a},d=f?f.call(e,e&&e.processing_status,"awaiting_moderation",p):g.call(e,"isEqual",e&&e.processing_status,"awaiting_moderation",p),(d||0===d)&&(v+=d),v+="\n    ",f=n.isNot||e&&e.isNot,p={hash:{},inverse:y.noop,fn:y.program(11,u,a),data:a},d=f?f.call(e,(d=e&&e.user,null==d||d===!1?d:d.ban_level),"none",p):g.call(e,"isNot",(d=e&&e.user,null==d||d===!1?d:d.ban_level),"none",p),(d||0===d)&&(v+=d),v+="\n</div>\n"}),n.reply_box=e(function(t,e,n,i,a){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{},'<div class="vf-comment-box">\n    <div class="view" data-view="avatar"></div>\n    <div class="view" data-view="comment_form"></div>\n</div>\n'}),n.show_all=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l=n.helperMissing,c=this.escapeExpression;return o+='<div class="vf-show-all-con">\n    <a href="#" class="vf-show-all vf-button">&larr; '+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"view_all_btn",r):l.call(e,"i18n","view_all_btn",r)))+"</a>\n</div>"}),n.social_logins=e(function(t,e,n,i,a){function s(t,e){return"\n        <li>\n            <a href='#' class='vf-facebook-login' id='vf-facebook-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">Facebook</span>\n            </a>\n        </li>\n        "}function r(t,e){return"\n        <li>\n            <a href='#' class='vf-google-login' id='vf-google-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">Google</span>\n            </a>\n        </li>\n        "}function o(t,e){return"\n        <li>\n            <a href='#' class='vf-twitter-login' id='vf-twitter-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">Twitter</span>\n            </a>\n        </li>\n        "}function l(t,e){return"\n        <li>\n            <a href='#' class='vf-aol-login' id='vf-aol-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">AOL</span>\n            </a>\n        </li>\n        "}function c(t,e){return"\n        <li>\n            <a href='#' class='vf-linkedin-login' id='vf-linkedin-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">LinkedIn</span>\n            </a>\n        </li>\n        "}function u(t,e){return"\n        <li>\n            <a href='#' class='vf-paypal-login' id='vf-paypal-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">PayPal</span>\n            </a>\n        </li>\n        "}function h(t,e){return"\n        <li>\n            <a href='#' class='vf-qq-login' id='vf-qq-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">Tencent QQ</span>\n            </a>\n        </li>\n        "}function d(t,e){return"\n        <li>\n            <a href='#' class='vf-tumblr-login' id='vf-tumblr-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">Tumblr</span>\n            </a>\n        </li>\n        "}function f(t,e){return"\n        <li>\n            <a href='#' class='vf-windowslive-login' id='vf-windowslive-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">Windows Live</span>\n            </a>\n        </li>\n        "}function p(t,e){return"\n        <li>\n            <a href='#' class='vf-yahoo-login' id='vf-yahoo-login'>\n                <span class=\"vf-social-icon\"></span>\n                <span class=\"vf-ariacontent\">Yahoo!</span>\n            </a>\n        </li>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var v,g="",m=this;return g+="<div class=\"vf-login-widget\">\n    <h3>Login with: </h3>\n    <ul class='vf-social-logins'>\n        <!-- An anchor tag was used since iOS has issues with click events on list elements -->\n        ",v=n.if.call(e,e&&e.authprovider_facebook_enabled,{hash:{},inverse:m.noop,fn:m.program(1,s,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_google_enabled,{hash:{},inverse:m.noop,fn:m.program(3,r,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_twitter_enabled,{hash:{},inverse:m.noop,fn:m.program(5,o,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_aol_enabled,{hash:{},inverse:m.noop,fn:m.program(7,l,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_linkedin_enabled,{hash:{},inverse:m.noop,fn:m.program(9,c,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_paypal_enabled,{hash:{},inverse:m.noop,fn:m.program(11,u,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_qq_enabled,{hash:{},inverse:m.noop,fn:m.program(13,h,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_tumblr_enabled,{hash:{},inverse:m.noop,fn:m.program(15,d,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_windowslive_enabled,{hash:{},inverse:m.noop,fn:m.program(17,f,a),data:a}),(v||0===v)&&(g+=v),g+="\n        ",v=n.if.call(e,e&&e.authprovider_yahoo_enabled,{hash:{},inverse:m.noop,fn:m.program(19,p,a),data:a}),(v||0===v)&&(g+=v),g+="\n    </ul>\n</div>\n"}),n.user=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l="function",c=this.escapeExpression;return o+='<img src="http://placehold.it/60x60"></img>\n<a href="#">User Name. id: ',(r=n.user_id)?s=r.call(e,{hash:{},data:a}):(r=e&&e.user_id,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"</a>\n"}),n.verification_status=e(function(t,e,n,i,a){function s(t,e){var i,a,s,o="";return o+="\n    <ul class='clearfix'>\n        ",i=n.if.call(t,t&&t.username_pending,{hash:{},inverse:v.noop,fn:v.program(2,r,e),data:e}),(i||0===i)&&(o+=i),o+="\n        <li>\n            <a href='#' class='vf-open-modal-profile' aria-expanded=false aria-controls='vf-modal-profile' data-focus=\"vf_email\">"+p((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"verify_email_change",s):f.call(t,"i18n","verify_email_change",s)))+"</a>\n        </li>\n        <li>\n            <a href='#' class='vf-resend-verification-email'>"+p((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"resend_verification",s):f.call(t,"i18n","resend_verification",s)))+"</a>\n            <span class='vf-resend-verification-status' aria-hidden=true aria-role='alert'>\n                <span class='vf-moderation-status-icon hidden'></span>\n                <strong></strong>\n            </span>\n        </li>\n    </ul>\n    "}function r(t,e){var i,a,s="";return s+="\n            <li>\n                <a href='#' class='vf-open-modal-profile' aria-expanded=false aria-controls='vf-modal-profile' data-focus=\"vf_name\">\n                    "+p((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"name_change",a):f.call(t,"i18n","name_change",a)))+"\n                </a>\n            </li>\n        "}function o(t,e){var i,a="";return a+="\n        ",i=n.if.call(t,t&&t.username_pending,{hash:{},inverse:v.noop,fn:v.program(5,l,e),data:e}),(i||0===i)&&(a+=i),a+="\n    "}function l(t,e){var i,a,s="";return s+="\n            <a href='#' class='vf-open-modal-profile' aria-expanded=false aria-controls='vf-modal-profile' data-focus=\"vf_name\">\n                "+p((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"name_change",a):f.call(t,"i18n","name_change",a)))+"\n            </a>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var c,u,h,d="",f=n.helperMissing,p=this.escapeExpression,v=this;return d+="<div class='vf-info' aria-role='alert'>\n    <p>"+p((u=n.i18n||e&&e.i18n,h={hash:{},data:a},u?u.call(e,e&&e.message,h):f.call(e,"i18n",e&&e.message,h)))+"</p>\n    ",c=n.if.call(e,e&&e.email_pending,{hash:{},inverse:v.program(4,o,a),fn:v.program(1,s,a),data:a}),(c||0===c)&&(d+=c),d+="\n</div>\n"}),n.forgot=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l=n.helperMissing,c=this.escapeExpression;return o+="<div class='vf-password-retrieval'>\n\t<div class='vf-header'>\n\t\t<div class='vf-modal-title'>"+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"forgot_password_lnk",r):l.call(e,"i18n","forgot_password_lnk",r)))+":</div>\n\t</div>\n\t<div class='vf-forms'>\n\t\t<form action=''>\n\t\t\t<div class='vf-form'>\n\t\t\t\t<div class=\"vf-block\">\n\t\t\t\t\t<a class='vf-link vf-login' href='#'>"+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"login_goto_lnk",r):l.call(e,"i18n","login_goto_lnk",r)))+"</a>\n\t\t\t\t</div>\n\t\t\t\t<div class='vf-form-title'>"+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"forgot_password_txt",r):l.call(e,"i18n","forgot_password_txt",r)))+"</div>\n\t\t\t\t<label for='vf_email'>"+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"email_lbl",r):l.call(e,"i18n","email_lbl",r)))+"</label>\n\t\t\t\t<input name='vf_email' type='text' class='vf-username-input' placeholder=\""+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"email_placeholder",r):l.call(e,"i18n","email_placeholder",r)))+"\" tabIndex='1' data-validate=\"email\">\n\t\t\t\t<div class='vf-form-actions'>\n\t\t\t\t\t<input type='submit' class='vf-submit-button' tabIndex='4' value='"+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"forgot_password_btn",r):l.call(e,"i18n","forgot_password_btn",r)))+"'>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>"}),n.iframe_upload=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l="function",c=this.escapeExpression;return o+='<form style="display:none" enctype="multipart/form-data" encoding="multipart/form-data" method=\'post\' action="',(r=n.url)?s=r.call(e,{hash:{},data:a}):(r=e&&e.url,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+'" target="',(r=n.target)?s=r.call(e,{hash:{},data:a}):(r=e&&e.target,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+'">\n\t<iframe src="" name="',(r=n.target)?s=r.call(e,{hash:{},data:a}):(r=e&&e.target,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+'" id="',(r=n.target)?s=r.call(e,{hash:{},data:a}):(r=e&&e.target,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"\" style='display:none'></iframe>\n</form>"}),n.login=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=this.merge(i,t.partials),a=a||{};var s,r,o,l="",c=n.helperMissing,u=this.escapeExpression,h=this;return l+="<div class='vf-user-login'>\n    <div class='vf-header'>\n        <div class='vf-modal-title'>"+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"login_select_hdr",o):c.call(e,"i18n","login_select_hdr",o)))+":</div>\n    </div>\n    <div class='vf-sidebar'>\n        ",s=h.invokePartial(i.login_options,"login_options",e,n,i,a),(s||0===s)&&(l+=s),l+="\n    </div>\n    <div class='vf-content'>\n        <form action=''>\n            <div class='vf-form'>\n\n                <div class=\"vf-block\">\n                    <a href='#' class='vf-link vf-signup'>"+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"signup_goto_lnk",o):c.call(e,"i18n","signup_goto_lnk",o)))+"</a>\n                </div>\n\n                <div class='vf-form-title'>"+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"login_lbl",o):c.call(e,"i18n","login_lbl",o)))+"</div>\n                <label for='vf_email'>"+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"email_lbl",o):c.call(e,"i18n","email_lbl",o)))+"</label>\n                <input name='vf_email' type='text' class='vf-username-input' placeholder=\""+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"email_placeholder",o):c.call(e,"i18n","email_placeholder",o)))+"\" tabIndex='1'>\n                <label for='vf_password'>"+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"password_lbl",o):c.call(e,"i18n","password_lbl",o)))+"</label>\n                <input name='vf_password' type='password' class='vf-password-input' placeholder=\""+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"password_placeholder",o):c.call(e,"i18n","password_placeholder",o)))+"\" tabIndex='2'>\n\n                <div class=\"vf-block\">\n                    <a href='#' class='vf-link vf-forgot-password'>"+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"forgot_password_lnk",o):c.call(e,"i18n","forgot_password_lnk",o)))+"</a>\n                </div>\n\n                <div class='vf-form-actions'>\n                    <input type='submit' class='vf-submit-button' tabIndex='4' value='"+u((r=n.i18n||e&&e.i18n,
o={hash:{},data:a},r?r.call(e,"login_btn",o):c.call(e,"i18n","login_btn",o)))+"'>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>"}),n.login_options=e(function(t,e,n,i,a){function s(t,e){return"\n    <li><a href='#' class='vf-viafoura-login vf-current vf-social-button'><span class=\"vf-social-icon\"></span>Viafoura</a>\n    </li>"}function r(t,e){var i,a,s="";return s+="\n    <li><a href='#' class='vf-oauth-login vf-social-button' id='vf-oauth-login'><span class=\"vf-social-icon\"></span>",(a=n.authprovider_oauth_display_name)?i=a.call(t,{hash:{},data:e}):(a=t&&t.authprovider_oauth_display_name,i=typeof a===b?a.call(t,{hash:{},data:e}):a),s+=_(i)+"</a></li>\n    "}function o(t,e){return"\n    <li><a href='#' class='vf-facebook-login vf-social-button' id='vf-facebook-login'><span class=\"vf-social-icon\"></span><span>Facebook</span></a></li>\n    "}function l(t,e){return"\n    <li><a href='#' class='vf-google-login vf-social-button' id='vf-google-login'><span class=\"vf-social-icon\"></span>Google</a></li>\n    "}function c(t,e){return"\n    <li><a href='#' class='vf-twitter-login vf-social-button' id='vf-twitter-login'><span class=\"vf-social-icon\"></span>Twitter</a></li>\n    "}function u(t,e){return"\n    <li><a href='#' class='vf-aol-login vf-social-button' id='vf-aol-login'><span class=\"vf-social-icon\"></span>Aol</a></li>\n    "}function h(t,e){return"\n    <li><a href='#' class='vf-linkedin-login vf-social-button' id='vf-linkedin-login'><span class=\"vf-social-icon\"></span>LinkedIn</a></li>\n    "}function d(t,e){return"\n    <li><a href='#' class='vf-paypal-login vf-social-button' id='vf-paypal-login'><span class=\"vf-social-icon\"></span>PayPal</a></li>\n    "}function f(t,e){return"\n    <li><a href='#' class='vf-qq-login vf-social-button' id='vf-qq-login'><span class=\"vf-social-icon\"></span>Tencent QQ</a></li>\n    "}function p(t,e){return"\n    <li><a href='#' class='vf-tumblr-login vf-social-button' id='vf-tumblr-login'><span class=\"vf-social-icon\"></span>Tumblr</a></li>\n    "}function v(t,e){return"\n    <li><a href='#' class='vf-windowslive-login vf-social-button' id='vf-windowslive-login'><span class=\"vf-social-icon\"></span>Windows Live</a></li>\n    "}function g(t,e){return"\n    <li><a href='#' class='vf-yahoo-login vf-social-button' id='vf-yahoo-login'><span class=\"vf-social-icon\"></span>Yahoo!</a></li>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var m,y="",b="function",_=this.escapeExpression,w=this;return y+="<ul class='vf-login-options'>\n    ",m=n.if.call(e,e&&e.authprovider_viafoura_enabled,{hash:{},inverse:w.noop,fn:w.program(1,s,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_oauth_enabled,{hash:{},inverse:w.noop,fn:w.program(3,r,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_facebook_enabled,{hash:{},inverse:w.noop,fn:w.program(5,o,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_google_enabled,{hash:{},inverse:w.noop,fn:w.program(7,l,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_twitter_enabled,{hash:{},inverse:w.noop,fn:w.program(9,c,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_aol_enabled,{hash:{},inverse:w.noop,fn:w.program(11,u,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_linkedin_enabled,{hash:{},inverse:w.noop,fn:w.program(13,h,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_paypal_enabled,{hash:{},inverse:w.noop,fn:w.program(15,d,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_qq_enabled,{hash:{},inverse:w.noop,fn:w.program(17,f,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_tumblr_enabled,{hash:{},inverse:w.noop,fn:w.program(19,p,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_windowslive_enabled,{hash:{},inverse:w.noop,fn:w.program(21,v,a),data:a}),(m||0===m)&&(y+=m),y+="\n    ",m=n.if.call(e,e&&e.authprovider_yahoo_enabled,{hash:{},inverse:w.noop,fn:w.program(23,g,a),data:a}),(m||0===m)&&(y+=m),y+="\n</ul>\n"}),n.modal=e(function(t,e,n,i,a){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{},"<div class='viafoura'>\n\t<div class='vf-modal' style='display: none' aria-role='dialog'>\n\t\t<div class='vf-inner-modal vf-inner-modal-content'>\n\t\t\t<a class='vf-modal-close' href='#'>&#215;</a>\n\t\t\t<div class=\"vf-modal-subview vf-modal-subview-content\"></div>\n\t\t</div>\n\t</div>\n</div>\n"}),n.modal_desktop=e(function(t,e,n,i,a){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{},'<div class="viafoura" role="dialog" aria-hidden="false">\n    <div class="vf-share-modal vf-modal-partial">\n        <span class="close vf-modal-close" role="button"></span>\n        <section class="vf-modal-subview-content"></section>\n    </div>\n</div>\n'}),n.modal_mobile=e(function(t,e,n,i,a){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{},'<div class="viafoura">\n    <div class="vf-share-modal vf-modal-fullscreen">\n        <span class="close vf-modal-close"></span>\n        <button class="up vf-scroll-icon"></button>\n        <section class="vf-scrollable-menu-container vf-modal-subview-content">\n        </section>\n        <button class="down vf-scroll-icon"></button>\n    </div>\n</div>\n'}),n.recorder=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l="function",c=this.escapeExpression;return o+="<div class='vf-video-recorder vf-bg'>\n\t<div class='vf-header'>\n\t\t\n\t</div>\n\t<div class='vf-recorder-container'>\n\t\t<div class='vf-recorder' style='width: 368px; height: 218px;'><object\n                 classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'\n                 id='VideoRecorder'\n                 width='368'\n                 height='218'\n                 codebase='http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab'\n            ><param name='movie'\n                    value='",(r=n.swf_url)?s=r.call(e,{hash:{},data:a}):(r=e&&e.swf_url,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"'\n            ><param name='wmode'\n                    value='opaque'\n            ><param name='quality'\n                    value='high'\n            ><param name='bgcolor'\n                    value='#333333'\n            ><param name='flashvars'\n                    value='domain=",(r=n.domain)?s=r.call(e,{hash:{},data:a}):(r=e&&e.domain,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;connectionString=",(r=n.connection)?s=r.call(e,{hash:{},data:a}):(r=e&&e.connection,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;uploadComplete=",(r=n.uploadComplete)?s=r.call(e,{hash:{},data:a}):(r=e&&e.uploadComplete,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;recordButtonClick=",(r=n.recordButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.recordButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;stopRecordButtonClick=",(r=n.stopRecordButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.stopRecordButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;previewButtonClick=",(r=n.previewButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.previewButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;saveButtonClick=",(r=n.saveButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.saveButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;redoButtonClick=",(r=n.redoButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.redoButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;recorderFailure=",(r=n.recorderFailure)?s=r.call(e,{hash:{},data:a}):(r=e&&e.recorderFailure,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"'\n            ><param name='allowScriptAccess'\n                    value='always'\n            ><embed src='",(r=n.swf_url)?s=r.call(e,{hash:{},data:a}):(r=e&&e.swf_url,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"'\n                    wmode='opaque'\n                    quality='high'\n                    bgcolor='#333333'\n                    flashvars='domain=",(r=n.domain)?s=r.call(e,{hash:{},data:a}):(r=e&&e.domain,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;connectionString=",(r=n.connection)?s=r.call(e,{hash:{},data:a}):(r=e&&e.connection,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;uploadComplete=",(r=n.uploadComplete)?s=r.call(e,{hash:{},data:a}):(r=e&&e.uploadComplete,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;recordButtonClick=",(r=n.recordButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.recordButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;stopRecordButtonClick=",(r=n.stopRecordButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.stopRecordButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;previewButtonClick=",(r=n.previewButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.previewButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;saveButtonClick=",(r=n.saveButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.saveButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;redoButtonClick=",(r=n.redoButtonClick)?s=r.call(e,{hash:{},data:a}):(r=e&&e.redoButtonClick,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"&amp;recorderFailure=",(r=n.recorderFailure)?s=r.call(e,{hash:{},data:a}):(r=e&&e.recorderFailure,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"'\n                    allowscriptaccess='always'\n                    width='368'\n                    height='218'\n                    name='VideoRecorder'\n                    align='middle'\n                    play='true'\n                    loop='false'\n                    type='application/x-shockwave-flash'\n                    pluginspage='http://www.adobe.com/go/getflashplayer'\n        ></object></div>\n\t</div> <!-- end of -->\n</div>"}),n.settings=e(function(t,e,n,i,a){function s(t,e){var i,a,s="";return s+="<div class='vf-verification-message' style='display:none' aria-role='alert'>"+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"verify_email_update",a):b.call(t,"i18n","verify_email_update",a)))+"</div>"}function r(t,e){var i,a,s="";return s+="<div class='vf-username-moderation-message' style='display:none' aria-role='alert'>"+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"name_update_awaiting",a):b.call(t,"i18n","name_update_awaiting",a)))+"</div>"}function o(t,e){var i,a,s="";return s+="<div class='vf-avatar-moderation-message' style='display:none' aria-role='alert'>"+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"avatar_update_awaiting",a):b.call(t,"i18n","avatar_update_awaiting",a)))+"</div>"}function l(t,e){var i,a,s,r="";return r+="\n                <h2 class='vf-form-title'>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"user_profile_hdr",s):b.call(t,"i18n","user_profile_hdr",s)))+"</h2>\n                <label for='vf_name'>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"display_name_lbl",s):b.call(t,"i18n","display_name_lbl",s)))+"</label>\n                <input type='text' name='vf_name' maxlength=\"255\" value='"+_((i=t&&t.user,i=null==i||i===!1?i:i.name,typeof i===w?i.apply(t):i))+'\' data-validate="name">\n            '}function c(t,e){var i,a,s,r="";return r+="\n                <label for='vf_email'>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"email_lbl",s):b.call(t,"i18n","email_lbl",s)))+"</label>\n\t\t\t\t<input type='text' name='vf_email' value='"+_((i=t&&t.user,i=null==i||i===!1?i:i.email,typeof i===w?i.apply(t):i))+'\' data-validate="email" class="vf-js-password-required">\n            '}function u(t,e){var i,a,s,r="";return r+="\n            <fieldset class='vf-avatar-options'>\n                <h2 class='vf-form-title'>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"user_avatar_hdr",s):b.call(t,"i18n","user_avatar_hdr",s)))+"</h2>\n\t\t\t\t<div class='vf-current-avatar'>\n\t\t\t\t\t<img src=\""+_((i=t&&t.user,i=null==i||i===!1?i:i.pic_small,typeof i===w?i.apply(t):i))+"\" alt=\"\">\n\t\t\t\t</div>\n                <input type='file' name='avatar' size='10' id='avatar-image' class=\"vf-avatar-picker\">\n                <p>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"avatar_max_size_txt",s):b.call(t,"i18n","avatar_max_size_txt",s)))+"</p>\n                <p>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"avatar_supported_txt",s):b.call(t,"i18n","avatar_supported_txt",s)))+"</p>\n                <p><a href='#' class=\"vf-set-default-avatar\">"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"avatar_use_default_lnk",s):b.call(t,"i18n","avatar_use_default_lnk",s)))+"</a></p>\n            </fieldset>\n        "}function h(t,e){var i,a,s="";return s+="\n\t\t<fieldset class='vf-current-password'>\n\t\t\t<label for='vf_old_password'>"+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"old_password_lbl",a):b.call(t,"i18n","old_password_lbl",a)))+'\n\t\t\t<strong class="vf-required-label">'+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"required_field",a):b.call(t,"i18n","required_field",a)))+"</strong></label>\n\t\t\t<input type='password' name='vf_old_password' placeholder='"+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"old_password_placeholder",a):b.call(t,"i18n","old_password_placeholder",a)))+'\' data-validate="oldPassword">\n\t\t</fieldset>\n\t\t'}function d(t,e){var i,a,s="";return s+="\n        <fieldset class=\"vf-password-options\">\n            <h2 class='vf-form-title'>"+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"change_password_hdr",a):b.call(t,"i18n","change_password_hdr",a)))+"</h2>\n\n            <label for='vf_new_password'>"+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"new_password_lbl",a):b.call(t,"i18n","new_password_lbl",a)))+"</label>\n            <input type='password' name='vf_new_password' placeholder=\""+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"new_password_placeholder",a):b.call(t,"i18n","new_password_placeholder",a)))+'" data-validate="newPassword" class="vf-js-password-required">\n\n            <label for=\'vf_confirm_password\'>'+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"confirm_password_lbl",a):b.call(t,"i18n","confirm_password_lbl",a)))+"</label>\n            <input type='password' name='vf_confirm_password' placeholder=\""+_((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"confirm_password_placeholder",a):b.call(t,"i18n","confirm_password_placeholder",a)))+'" data-validate="confirmPassword" class="vf-js-password-required">\n        </fieldset>\n        <hr>\n        '}function f(t,e){var i,a,s,r="";return r+="\n    \t\t<h2 class='vf-form-title'>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"email_notification_hdr",s):b.call(t,"i18n","email_notification_hdr",s)))+"</h2>\n    \t\t<table class='vf-email-settings'>\n    \t\t\t<tr>\n    \t\t\t\t<th class='vf-first-col'>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"email_me_when_lbl",s):b.call(t,"i18n","email_me_when_lbl",s)))+"</th>\n    \t\t\t\t<th class='vf-hightlight'>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"email_immediately_option",s):b.call(t,"i18n","email_immediately_option",s)))+"</th>\n    \t\t\t\t<th>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"email_never_option",s):b.call(t,"i18n","email_never_option",s)))+"</th>\n    \t\t\t</tr>\n    \t\t\t<tr class='vf-hightlight'>\n    \t\t\t\t<td class='vf-first-col'>"+_((a=n.i18n||t&&t.i18n,s={hash:{},data:e},a?a.call(t,"email_me_when_txt",s):b.call(t,"i18n","email_me_when_txt",s)))+"</td>\n    \t\t\t\t<td class='vf-hightlight vf-settings-option'>\n    \t\t\t\t\t<input name='email_notice_frequency' type='radio' value='immediately' ",a=n.isEqual||t&&t.isEqual,s={hash:{},inverse:x.noop,fn:x.program(18,p,e),data:e},i=a?a.call(t,(i=t&&t.user,null==i||i===!1?i:i.email_notice_frequency),1,s):b.call(t,"isEqual",(i=t&&t.user,null==i||i===!1?i:i.email_notice_frequency),1,s),(i||0===i)&&(r+=i),r+=">\n    \t\t\t\t</td>\n    \t\t\t\t<td class=\"vf-settings-option\">\n    \t\t\t\t\t<input name='email_notice_frequency' type='radio' value='never' ",a=n.anyEqual||t&&t.anyEqual,s={hash:{},inverse:x.noop,fn:x.program(18,p,e),data:e},i=a?a.call(t,(i=t&&t.user,null==i||i===!1?i:i.email_notice_frequency),0,2,3,s):b.call(t,"anyEqual",(i=t&&t.user,null==i||i===!1?i:i.email_notice_frequency),0,2,3,s),(i||0===i)&&(r+=i),r+=">\n    \t\t\t\t</td>\n    \t\t\t</tr>\n    \t\t</table>\n    \t\t<hr>\n        "}function p(t,e){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var v,g,m,y="",b=n.helperMissing,_=this.escapeExpression,w="function",x=this;return y+="<div class='vf-forms'>\n\t<form action='' class='vf-form'>\n\t\t<div class='vf-success-message' style='display:none' aria-role='alert'>"+_((g=n.i18n||e&&e.i18n,m={hash:{},data:a},g?g.call(e,"profile_edit_success",m):b.call(e,"i18n","profile_edit_success",m)))+"</div>\n\t\t",v=n.if.call(e,e&&e.emailVerification,{hash:{},inverse:x.noop,fn:x.program(1,s,a),data:a}),(v||0===v)&&(y+=v),y+="\n\t\t",v=n.if.call(e,e&&e.usernameModeration,{hash:{},inverse:x.noop,fn:x.program(3,r,a),data:a}),(v||0===v)&&(y+=v),y+="\n\t\t",v=n.if.call(e,e&&e.avatarModeration,{hash:{},inverse:x.noop,fn:x.program(5,o,a),data:a}),(v||0===v)&&(y+=v),y+="\n\t\t<div class='vf-error-message' style='display:none' aria-role='alert'></div>\n\n        <fieldset class='vf-user-options'>\n            ",v=n.if.call(e,e&&e.canUpdateName,{hash:{},inverse:x.noop,fn:x.program(7,l,a),data:a}),(v||0===v)&&(y+=v),y+="\n\n            ",v=n.if.call(e,e&&e.canUpdateEmail,{hash:{},inverse:x.noop,fn:x.program(9,c,a),data:a}),(v||0===v)&&(y+=v),y+="\n\n        </fieldset>\n\n        ",v=n.if.call(e,e&&e.canUpdateAvatar,{hash:{},inverse:x.noop,fn:x.program(11,u,a),data:a}),(v||0===v)&&(y+=v),y+="\n\n\t\t",v=n.if.call(e,e&&e.showOldPasswordField,{hash:{},inverse:x.noop,fn:x.program(13,h,a),data:a}),(v||0===v)&&(y+=v),y+="\n\n\t\t<hr>\n\n        ",v=n.if.call(e,e&&e.canUpdatePassword,{hash:{},inverse:x.noop,fn:x.program(15,d,a),data:a}),(v||0===v)&&(y+=v),y+="\n\n  \t\t",v=n.if.call(e,e&&e.canUpdateNotifications,{hash:{},inverse:x.noop,fn:x.program(17,f,a),data:a}),(v||0===v)&&(y+=v),y+="\n\t\t<input class='vf-account-submit' type='submit' value='"+_((g=n.i18n||e&&e.i18n,m={hash:{},data:a},g?g.call(e,"save_btn",m):b.call(e,"i18n","save_btn",m)))+"'>\n\t</form>\n</div>\n"}),n.signup=e(function(t,e,n,i,a){function s(t,e){var i,a,s="";return s+="\n\t\t\t\t\t<p class='vf-email-input-note'>\n\t\t\t\t\t\t"+h((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"email_verification_note",a):u.call(t,"i18n","email_verification_note",a)))+"\n\t\t\t\t\t</p>\n\t\t\t\t"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=this.merge(i,t.partials),a=a||{};var r,o,l,c="",u=n.helperMissing,h=this.escapeExpression,d=this;return c+="<div class='vf-user-signup vf-bg'>\n\t<div class='vf-header'>\n\t\t<div class='vf-modal-title'>"+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"signup_hdr",l):u.call(e,"i18n","signup_hdr",l)))+":</div>\n\t</div>\n\t<div class='vf-sidebar'>\n\t\t",r=d.invokePartial(i.login_options,"login_options",e,n,i,a),(r||0===r)&&(c+=r),c+="\n\t</div>\n\t<div class='vf-content'>\n\t\t<form action='' class=\"vf-signup-form\">\n\t\t\t<div class='vf-form'>\n\n\t\t\t\t<div class=\"vf-block\">\n\t\t\t\t\t<a class='vf-link vf-login' href='#'>"+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"login_goto_lnk",l):u.call(e,"i18n","login_goto_lnk",l)))+"</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='vf-form-title'>"+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"signup_lbl",l):u.call(e,"i18n","signup_lbl",l)))+"</div>\n\t\t\t\t<label for='vf_name'>"+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"display_name_lbl",l):u.call(e,"i18n","display_name_lbl",l)))+"</label>\n\t\t\t\t<input name='vf_name' type='text' class='vf-name-input' placeholder=\""+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"display_name_placeholder",l):u.call(e,"i18n","display_name_placeholder",l)))+'" tabIndex=\'1\' data-validate="name" maxlength="255">\n\t\t\t\t<label for=\'vf_email\'>'+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"email_lbl",l):u.call(e,"i18n","email_lbl",l)))+"</label>\n\t\t\t\t<input name='vf_email' type='email' class='vf-email-input' placeholder=\""+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"email_placeholder",l):u.call(e,"i18n","email_placeholder",l)))+'" tabIndex=\'2\' data-validate="email">\n\t\t\t\t',r=n.if.call(e,e&&e.enable_email_verification,{hash:{},inverse:d.noop,fn:d.program(1,s,a),data:a}),(r||0===r)&&(c+=r),c+="\n\t\t\t\t<label for='vf_password'>"+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"password_lbl",l):u.call(e,"i18n","password_lbl",l)))+"</label>\n\t\t\t\t<input name='vf_password' type='password' class='vf-password-input' placeholder=\""+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"password_placeholder",l):u.call(e,"i18n","password_placeholder",l)))+"\" tabIndex='4' data-validate=\"password\">\n\t\t\t\t<div class='vf-form-actions'>\n\t\t\t\t\t<input type='submit' class='vf-submit-button' tabIndex='5' value=\""+h((o=n.i18n||e&&e.i18n,l={hash:{},data:a},o?o.call(e,"signup_btn",l):u.call(e,"i18n","signup_btn",l)))+'">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>\n'}),n.social_login=e(function(t,e,n,i,a){function s(t,e){return"\n            <li><a href='#' class='vf-facebook-login vf-social-button' id='vf-facebook-login'><span class=\"vf-social-icon\"></span><span>Facebook</span></a></li>\n            "}function r(t,e){return"\n            <li><a href='#' class='vf-google-login vf-social-button' id='vf-google-login'><span class=\"vf-social-icon\"></span>Google</a></li>\n            "}function o(t,e){return"\n            <li><a href='#' class='vf-twitter-login vf-social-button' id='vf-twitter-login'><span class=\"vf-social-icon\"></span>Twitter</a></li>\n            "}function l(t,e){return"\n            <li><a href='#' class='vf-aol-login vf-social-button' id='vf-aol-login'><span class=\"vf-social-icon\"></span>Aol</a></li>\n            "}function c(t,e){return"\n            <li><a href='#' class='vf-linkedin-login vf-social-button' id='vf-linkedin-login'><span class=\"vf-social-icon\"></span>LinkedIn</a></li>\n            "}function u(t,e){return"\n            <li><a href='#' class='vf-paypal-login vf-social-button' id='vf-paypal-login'><span class=\"vf-social-icon\"></span>PayPal</a></li>\n            "}function h(t,e){return"\n            <li><a href='#' class='vf-qq-login vf-social-button' id='vf-qq-login'><span class=\"vf-social-icon\"></span>Tencent QQ</a></li>\n            "}function d(t,e){return"\n            <li><a href='#' class='vf-tumblr-login vf-social-button' id='vf-tumblr-login'><span class=\"vf-social-icon\"></span>Tumblr</a></li>\n            "}function f(t,e){return"\n            <li><a href='#' class='vf-windowslive-login vf-social-button' id='vf-windowslive-login'><span class=\"vf-social-icon\"></span>Windows Live</a></li>\n            "}function p(t,e){return"\n            <li><a href='#' class='vf-yahoo-login vf-social-button' id='vf-yahoo-login'><span class=\"vf-social-icon\"></span>Yahoo!</a></li>\n            "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var v,g,m,y="",b=n.helperMissing,_=this.escapeExpression,w=this;return y+="<div class='vf-social-login-modal'>\n    <div class='vf-header'>\n        <div class='vf-modal-title'>"+_((g=n.i18n||e&&e.i18n,m={hash:{},data:a},g?g.call(e,"login_select_hdr",m):b.call(e,"i18n","login_select_hdr",m)))+":</div>\n    </div>\n    <div class='vf-content'>\n        <div class='vf-form-title'>"+_((g=n.i18n||e&&e.i18n,m={hash:{},data:a},g?g.call(e,"social_login_lbl",m):b.call(e,"i18n","social_login_lbl",m)))+"</div>\n        <ul class='vf-clearfix'>\n            ",v=n.if.call(e,e&&e.authprovider_facebook_enabled,{hash:{},inverse:w.noop,fn:w.program(1,s,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_google_enabled,{hash:{},inverse:w.noop,fn:w.program(3,r,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_twitter_enabled,{hash:{},inverse:w.noop,fn:w.program(5,o,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_aol_enabled,{hash:{},inverse:w.noop,fn:w.program(7,l,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_linkedin_enabled,{hash:{},inverse:w.noop,fn:w.program(9,c,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_paypal_enabled,{hash:{},inverse:w.noop,fn:w.program(11,u,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_qq_enabled,{hash:{},inverse:w.noop,fn:w.program(13,h,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_tumblr_enabled,{hash:{},inverse:w.noop,fn:w.program(15,d,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_windowslive_enabled,{hash:{},inverse:w.noop,fn:w.program(17,f,a),data:a}),(v||0===v)&&(y+=v),y+="\n            ",v=n.if.call(e,e&&e.authprovider_yahoo_enabled,{hash:{},inverse:w.noop,fn:w.program(19,p,a),data:a}),(v||0===v)&&(y+=v),y+='\n        </ul>\n        <div class="vf-extras-area">\n            <hr>\n        </div>\n    </div>\n</div>\n'}),n.charcounter=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o,l="",c=n.helperMissing,u=this.escapeExpression;return l+=u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"char_counter_over",(s=e&&e.content,null==s||s===!1?s:s.limit),o):c.call(e,"i18n","char_counter_over",(s=e&&e.content,null==s||s===!1?s:s.limit),o)))+"<br/>"+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"char_counter_shorten",o):c.call(e,"i18n","char_counter_shorten",o)))}),n.datetooltip=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l=n.helperMissing,c=this.escapeExpression;return o+="<div>\n    <span>"+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"posted_on",r):l.call(e,"i18n","posted_on",r)))+"</span>\n</div>\n"}),n.dialog=e(function(t,e,n,i,a){function s(t,e){var i,a,s="";return s+='\n    <div class="vf-topright">\n        ',(a=n.status)?i=a.call(t,{hash:{},data:e}):(a=t&&t.status,i=typeof a===l?a.call(t,{hash:{},data:e}):a),s+=c(i)+"\n    </div>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var r,o="",l="function",c=this.escapeExpression,u=this;return o+='<div class="vf-dialog">\n    ',r=n.if.call(e,e&&e.status,{hash:{},inverse:u.noop,fn:u.program(1,s,a),data:a}),(r||0===r)&&(o+=r),o+='\n    <div class="vf-content">\n        <h3>'+c((r=e&&e.content,r=null==r||r===!1?r:r.title,typeof r===l?r.apply(e):r))+"</h3>\n        <p>"+c((r=e&&e.content,r=null==r||r===!1?r:r.description,typeof r===l?r.apply(e):r))+"</p>\n    </div>\n</div>"}),n.sharemenu=e(function(t,e,n,i,a){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{},'<ul class="vf-share-list">\n    <li><a href="#" class="vf-facebook-like" target="_blank">Facebook</a></li>\n    <li><a href="#" class="vf-twitter-tweet" target="_blank">Twitter</a></li>\n    <li><a href="#" class="vf-email-icon" target="_blank">Email</a></li>\n</ul>'}),n.title=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r="",o="function",l=this.escapeExpression;return r+=l((s=e&&e.content,s=null==s||s===!1?s:s.description,typeof s===o?s.apply(e):s))+"\n"}),n.tooltip=e(function(t,e,n,i,a){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{},'<div>\n    <div class="vf-tipsy-arrow-border">\n    </div>\n    <div class="vf-tipsy-arrow">\n    </div>\n    <div class="vf-tipsy-inner">\n    </div>\n</div>'}),n.mute_list=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l=n.helperMissing,c=this.escapeExpression;return o+='<div class="vf-mute-list-header">\n    <!-- <div class="vf-mute-counter">\n        '+c((s=n.i18n||e&&e.i18n,r={hash:{},data:a},s?s.call(e,"cant_mute",e&&e.mute_count,r):l.call(e,"i18n","cant_mute",e&&e.mute_count,r)))+"\n    </div> -->\n</div>\n"}),n.muted_user=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o,l="",c="function",u=this.escapeExpression,h=n.helperMissing;return l+="<div class='vf-avatar-container' data-id='"+u((s=e&&e.user,s=null==s||s===!1?s:s.id,typeof s===c?s.apply(e):s))+"'>\n    <img class='vf-avatar' src='",(r=n.pic_small)?s=r.call(e,{hash:{},data:a}):(r=e&&e.pic_small,s=typeof r===c?r.call(e,{hash:{},data:a}):r),l+=u(s)+"' alt='",(r=n.name)?s=r.call(e,{hash:{},data:a}):(r=e&&e.name,s=typeof r===c?r.call(e,{hash:{},data:a}):r),l+=u(s)+"'>\n</div>\n<div class='vf-user-info vf-clearfix'>\n    <div class=\"vf-left\">\n        <div class='vf-username'>",(r=n.name)?s=r.call(e,{hash:{},data:a}):(r=e&&e.name,s=typeof r===c?r.call(e,{hash:{},data:a}):r),l+=u(s)+"</div>\n        <div>"+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"muted_on",o):h.call(e,"i18n","muted_on",o)))+" <span class='vf-mute-date'>"+u((r=n.formatDate||e&&e.formatDate,o={hash:{},data:a},r?r.call(e,e&&e.date_muted,o):h.call(e,"formatDate",e&&e.date_muted,o)))+'</span></div>\n        <a data-id="',(r=n.id)?s=r.call(e,{hash:{},data:a}):(r=e&&e.id,s=typeof r===c?r.call(e,{hash:{},data:a}):r),l+=u(s)+"\" class='vf-mute vf-unmute vf-btn vf-tip' href='#' data-title=\"unmute-user\" aria-label=\""+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"unmute_user_desc",o):h.call(e,"i18n","unmute_user_desc",o)))+'">'+u((r=n.i18n||e&&e.i18n,o={hash:{},data:a},r?r.call(e,"unmute_btn",o):h.call(e,"i18n","unmute_btn",o)))+"</a>\n    </div>\n</div>\n"}),n.user_header=e(function(t,e,n,i,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var s,r,o="",l="function",c=this.escapeExpression;return o+='<div class="vf-comment-user">\n</div>\n<div class="vf-user-info">\n\t<div class="name">',(r=n.name)?s=r.call(e,{hash:{},data:a}):(r=e&&e.name,s=typeof r===l?r.call(e,{hash:{},data:a}):r),o+=c(s)+"</div>\n</div>"}),n.user_moderation_status=e(function(t,e,n,i,a){function s(t,e){return"hidden"}function r(t,e){var i,a,s="";return s+="\n    <input type='text' name='vf_name' maxlength=\"255\" value='",(a=n.value)?i=a.call(t,{hash:{},data:e}):(a=t&&t.value,i=typeof a===p?a.call(t,{hash:{},data:e}):a),s+=v(i)+'\' data-validate="name">\n    '}function o(t,e){var n,i="";return i+='\n    <img src="'+v((n=t&&t.user,n=null==n||n===!1?n:n.pic_small,typeof n===p?n.apply(t):n))+'" alt="">\n    '}function l(t,e){var i,a,s="";return s+="\n    <input type='text' name='vf_email' value='",(a=n.value)?i=a.call(t,{hash:{},data:e}):(a=t&&t.value,i=typeof a===p?a.call(t,{hash:{},data:e}):a),s+=v(i)+'\' data-validate="email" class="vf-js-password-required">\n    '}function c(t,e){var i,a,s="";return s+="\n<div class='vf-resend-verification'>\n    <p class='visuallyhidden' id='resend-verification'>"+v((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"resend_verification_to",t&&t.value,a):g.call(t,"i18n","resend_verification_to",t&&t.value,a)))+"</p>\n    <a href=\"#\" aria-labelledby='resend-verification' class='vf-resend-verification-email'>"+v((i=n.i18n||t&&t.i18n,a={hash:{},data:e},i?i.call(t,"resend_verification",a):g.call(t,"i18n","resend_verification",a)))+'</a>\n    <div class="vf-resend-verification-status" aria-hidden=true aria-role="alert">\n        <span class="vf-moderation-status-icon hidden"></span>\n        <strong></strong>\n    </div>\n</div>\n'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{};var u,h,d,f="",p="function",v=this.escapeExpression,g=n.helperMissing,m=this;return f+="<div class='vf-moderation-status-input vf-js-",
(h=n.field)?u=h.call(e,{hash:{},data:a}):(h=e&&e.field,u=typeof h===p?h.call(e,{hash:{},data:a}):h),f+=v(u)+"-needs-moderation'>\n    <span class='visuallyhidden vf-js-moderation-alert' aria-role='alert'>"+v((h=n.i18n||e&&e.i18n,d={hash:{},data:a},h?h.call(e,e&&e.alert,e&&e.value,d):g.call(e,"i18n",e&&e.alert,e&&e.value,d)))+"</span>\n    <span class='vf-moderation-status-icon vf-icon-",(h=n.status)?u=h.call(e,{hash:{},data:a}):(h=e&&e.status,u=typeof h===p?h.call(e,{hash:{},data:a}):h),f+=v(u)+" vf-js-user-mod-icon ",h=n.isEqual||e&&e.isEqual,d={hash:{},inverse:m.noop,fn:m.program(1,s,a),data:a},u=h?h.call(e,e&&e.status,"approved",d):g.call(e,"isEqual",e&&e.status,"approved",d),(u||0===u)&&(f+=u),f+="'></span>\n    ",h=n.isEqual||e&&e.isEqual,d={hash:{},inverse:m.noop,fn:m.program(3,r,a),data:a},u=h?h.call(e,e&&e.field,"name",d):g.call(e,"isEqual",e&&e.field,"name",d),(u||0===u)&&(f+=u),f+="\n    ",h=n.isEqual||e&&e.isEqual,d={hash:{},inverse:m.noop,fn:m.program(5,o,a),data:a},u=h?h.call(e,e&&e.field,"avatar",d):g.call(e,"isEqual",e&&e.field,"avatar",d),(u||0===u)&&(f+=u),f+="\n    ",h=n.isEqual||e&&e.isEqual,d={hash:{},inverse:m.noop,fn:m.program(7,l,a),data:a},u=h?h.call(e,e&&e.field,"email",d):g.call(e,"isEqual",e&&e.field,"email",d),(u||0===u)&&(f+=u),f+="\n</div>\n",h=n.isEqual||e&&e.isEqual,d={hash:{},inverse:m.noop,fn:m.program(9,c,a),data:a},u=h?h.call(e,e&&e.field,"email",d):g.call(e,"isEqual",e&&e.field,"email",d),(u||0===u)&&(f+=u),f+="\n"}),n}.apply(e,i),!(void 0!==a&&(t.exports=a))},,,,,,,,function(t,e,n){var i,a;try{i=[n(12),n(7)],a=function(t,e){function n(e,n){a?t(e).html(o).children().addClass("vf-loading"):t.each(l,function(i,a){i==n.gifType&&t(e).html(a)})}function i(t){t.html("&#xe602;")}for(var a=!1,s=["animationName","webkitAnimationName","mozAnimationName","MSAnimationName","oanimationName"],r=document.createElement("div"),o='<span class="vf-l1"></span><span class="vf-l2"></span><span class="vf-l3"></span>',l={white:'<img src="'+e.asset_url+'img/vf-loader-white.gif" alt="loading">',whitelarge:'<img src="'+e.asset_url+'img/vf-loader-white-large.gif" alt="loading">',gray:'<img src="'+e.asset_url+'img/vf-loader-gray.gif" alt="loading">',blue:'<img src="'+e.asset_url+'img/vf-loader-blue.gif" alt="loading">',bluegray:'<img src="'+e.asset_url+'img/vf-loader-gray-blue.gif" alt="loading">'},c=0;c<s.length;c++)if(void 0!==r.style[s[c]]){a=!0;break}var u=[];t.fn.loader=function(e,a){if(0===this.length)return this;a=a||{};var s;return"show"===e?(s=t("<div>").addClass("vf-loader"),"large"==a.loaderSize&&s.addClass("vf-loader-large"),a.block&&s.addClass("vf-loader-block"),a.gifType||(a.gifType="white"),a.position||(a.position="left"),a.inside?this.html(s):"right"==a.position?(s.addClass("vf-loader-right"),this.after(s)):this.before(s),s.siblings(".vf-loader")[0]&&this.siblings(".vf-loader").remove(),this.siblings(".vf-loader-error")[0]&&this.siblings(".vf-loader-error").each(function(){t(this).tipsy("remove").remove()}),this.parents(".vf-comment-actions, .vf-flag-container")[0]&&this.parents(".vf-comment-actions, .vf-flag-container").removeClass("vf-force-focus"),n(s,a),t.data(this[0],"loader",s)):"hide"===e?(s=t.data(this[0],"loader"),s&&(s.remove(),t.data(this[0],"loader",null))):"error"==e&&(t.fn.loader.call(this,"hide"),s=t("<div class='vf-loader-error'>"),this.parents(".vf-comment-actions, .vf-flag-container")[0]&&this.parents(".vf-comment-actions, .vf-flag-container").addClass("vf-force-focus"),"right"==a.position?(s.addClass("vf-loader-right-error"),this.after(s)):this.before(s),u.push(this[0]),i(s),t.data(this[0],"loader",s)),s},t.fn.loader.hideErrors=function(){for(var e=0;e<u.length;e++)t(u[e]).loader("hide");return u.length=0,this}}.apply(e,i),!(void 0!==a&&(t.exports=a))}catch(t){var s=n(6);s(t)}}]);